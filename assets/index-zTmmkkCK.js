(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var gf={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function dE(){if(Hp)return Vl;Hp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:s,type:r,key:d,ref:u!==void 0?u:null,props:h}}return Vl.Fragment=e,Vl.jsx=i,Vl.jsxs=i,Vl}var Gp;function mE(){return Gp||(Gp=1,gf.exports=dE()),gf.exports}var rt=mE(),pf={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function gE(){if(Qp)return Tt;Qp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),M=Symbol.iterator;function B(V){return V===null||typeof V!="object"?null:(V=M&&V[M]||V["@@iterator"],typeof V=="function"?V:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,nt={};function J(V,F,et){this.props=V,this.context=F,this.refs=nt,this.updater=et||Q}J.prototype.isReactComponent={},J.prototype.setState=function(V,F){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,F,"setState")},J.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function bt(){}bt.prototype=J.prototype;function Et(V,F,et){this.props=V,this.context=F,this.refs=nt,this.updater=et||Q}var gt=Et.prototype=new bt;gt.constructor=Et,Z(gt,J.prototype),gt.isPureReactComponent=!0;var zt=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},Ut=Object.prototype.hasOwnProperty;function O(V,F,et,$,ot,Rt){return et=Rt.ref,{$$typeof:s,type:V,key:F,ref:et!==void 0?et:null,props:Rt}}function b(V,F){return O(V.type,F,void 0,void 0,void 0,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function S(V){var F={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(et){return F[et]})}var C=/\/+/g;function N(V,F){return typeof V=="object"&&V!==null&&V.key!=null?S(""+V.key):F.toString(36)}function w(){}function pe(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(w,w):(V.status="pending",V.then(function(F){V.status==="pending"&&(V.status="fulfilled",V.value=F)},function(F){V.status==="pending"&&(V.status="rejected",V.reason=F)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Jt(V,F,et,$,ot){var Rt=typeof V;(Rt==="undefined"||Rt==="boolean")&&(V=null);var pt=!1;if(V===null)pt=!0;else switch(Rt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(V.$$typeof){case s:case e:pt=!0;break;case A:return pt=V._init,Jt(pt(V._payload),F,et,$,ot)}}if(pt)return ot=ot(V),pt=$===""?"."+N(V,0):$,zt(ot)?(et="",pt!=null&&(et=pt.replace(C,"$&/")+"/"),Jt(ot,F,et,"",function(xn){return xn})):ot!=null&&(D(ot)&&(ot=b(ot,et+(ot.key==null||V&&V.key===ot.key?"":(""+ot.key).replace(C,"$&/")+"/")+pt)),F.push(ot)),1;pt=0;var Re=$===""?".":$+":";if(zt(V))for(var Zt=0;Zt<V.length;Zt++)$=V[Zt],Rt=Re+N($,Zt),pt+=Jt($,F,et,Rt,ot);else if(Zt=B(V),typeof Zt=="function")for(V=Zt.call(V),Zt=0;!($=V.next()).done;)$=$.value,Rt=Re+N($,Zt++),pt+=Jt($,F,et,Rt,ot);else if(Rt==="object"){if(typeof V.then=="function")return Jt(pe(V),F,et,$,ot);throw F=String(V),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return pt}function k(V,F,et){if(V==null)return V;var $=[],ot=0;return Jt(V,$,"","",function(Rt){return F.call(et,Rt,ot++)}),$}function tt(V){if(V._status===-1){var F=V._result;F=F(),F.then(function(et){(V._status===0||V._status===-1)&&(V._status=1,V._result=et)},function(et){(V._status===0||V._status===-1)&&(V._status=2,V._result=et)}),V._status===-1&&(V._status=0,V._result=F)}if(V._status===1)return V._result.default;throw V._result}var lt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Bt(){}return Tt.Children={map:k,forEach:function(V,F,et){k(V,function(){F.apply(this,arguments)},et)},count:function(V){var F=0;return k(V,function(){F++}),F},toArray:function(V){return k(V,function(F){return F})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Tt.Component=J,Tt.Fragment=i,Tt.Profiler=u,Tt.PureComponent=Et,Tt.StrictMode=r,Tt.Suspense=_,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return _t.H.useMemoCache(V)}},Tt.cache=function(V){return function(){return V.apply(null,arguments)}},Tt.cloneElement=function(V,F,et){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var $=Z({},V.props),ot=V.key,Rt=void 0;if(F!=null)for(pt in F.ref!==void 0&&(Rt=void 0),F.key!==void 0&&(ot=""+F.key),F)!Ut.call(F,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&F.ref===void 0||($[pt]=F[pt]);var pt=arguments.length-2;if(pt===1)$.children=et;else if(1<pt){for(var Re=Array(pt),Zt=0;Zt<pt;Zt++)Re[Zt]=arguments[Zt+2];$.children=Re}return O(V.type,ot,void 0,void 0,Rt,$)},Tt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},Tt.createElement=function(V,F,et){var $,ot={},Rt=null;if(F!=null)for($ in F.key!==void 0&&(Rt=""+F.key),F)Ut.call(F,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ot[$]=F[$]);var pt=arguments.length-2;if(pt===1)ot.children=et;else if(1<pt){for(var Re=Array(pt),Zt=0;Zt<pt;Zt++)Re[Zt]=arguments[Zt+2];ot.children=Re}if(V&&V.defaultProps)for($ in pt=V.defaultProps,pt)ot[$]===void 0&&(ot[$]=pt[$]);return O(V,Rt,void 0,void 0,null,ot)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(V){return{$$typeof:g,render:V}},Tt.isValidElement=D,Tt.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:tt}},Tt.memo=function(V,F){return{$$typeof:v,type:V,compare:F===void 0?null:F}},Tt.startTransition=function(V){var F=_t.T,et={};_t.T=et;try{var $=V(),ot=_t.S;ot!==null&&ot(et,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Bt,lt)}catch(Rt){lt(Rt)}finally{_t.T=F}},Tt.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},Tt.use=function(V){return _t.H.use(V)},Tt.useActionState=function(V,F,et){return _t.H.useActionState(V,F,et)},Tt.useCallback=function(V,F){return _t.H.useCallback(V,F)},Tt.useContext=function(V){return _t.H.useContext(V)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(V,F){return _t.H.useDeferredValue(V,F)},Tt.useEffect=function(V,F,et){var $=_t.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(V,F)},Tt.useId=function(){return _t.H.useId()},Tt.useImperativeHandle=function(V,F,et){return _t.H.useImperativeHandle(V,F,et)},Tt.useInsertionEffect=function(V,F){return _t.H.useInsertionEffect(V,F)},Tt.useLayoutEffect=function(V,F){return _t.H.useLayoutEffect(V,F)},Tt.useMemo=function(V,F){return _t.H.useMemo(V,F)},Tt.useOptimistic=function(V,F){return _t.H.useOptimistic(V,F)},Tt.useReducer=function(V,F,et){return _t.H.useReducer(V,F,et)},Tt.useRef=function(V){return _t.H.useRef(V)},Tt.useState=function(V){return _t.H.useState(V)},Tt.useSyncExternalStore=function(V,F,et){return _t.H.useSyncExternalStore(V,F,et)},Tt.useTransition=function(){return _t.H.useTransition()},Tt.version="19.1.0",Tt}var Yp;function Jf(){return Yp||(Yp=1,pf.exports=gE()),pf.exports}var tn=Jf(),yf={exports:{}},Nl={},_f={exports:{}},vf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function pE(){return Kp||(Kp=1,function(s){function e(k,tt){var lt=k.length;k.push(tt);t:for(;0<lt;){var Bt=lt-1>>>1,V=k[Bt];if(0<u(V,tt))k[Bt]=tt,k[lt]=V,lt=Bt;else break t}}function i(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var tt=k[0],lt=k.pop();if(lt!==tt){k[0]=lt;t:for(var Bt=0,V=k.length,F=V>>>1;Bt<F;){var et=2*(Bt+1)-1,$=k[et],ot=et+1,Rt=k[ot];if(0>u($,lt))ot<V&&0>u(Rt,$)?(k[Bt]=Rt,k[ot]=lt,Bt=ot):(k[Bt]=$,k[et]=lt,Bt=et);else if(ot<V&&0>u(Rt,lt))k[Bt]=Rt,k[ot]=lt,Bt=ot;else break t}}return tt}function u(k,tt){var lt=k.sortIndex-tt.sortIndex;return lt!==0?lt:k.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,M=null,B=3,Q=!1,Z=!1,nt=!1,J=!1,bt=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function zt(k){for(var tt=i(v);tt!==null;){if(tt.callback===null)r(v);else if(tt.startTime<=k)r(v),tt.sortIndex=tt.expirationTime,e(_,tt);else break;tt=i(v)}}function _t(k){if(nt=!1,zt(k),!Z)if(i(_)!==null)Z=!0,Ut||(Ut=!0,N());else{var tt=i(v);tt!==null&&Jt(_t,tt.startTime-k)}}var Ut=!1,O=-1,b=5,D=-1;function S(){return J?!0:!(s.unstable_now()-D<b)}function C(){if(J=!1,Ut){var k=s.unstable_now();D=k;var tt=!0;try{t:{Z=!1,nt&&(nt=!1,Et(O),O=-1),Q=!0;var lt=B;try{e:{for(zt(k),M=i(_);M!==null&&!(M.expirationTime>k&&S());){var Bt=M.callback;if(typeof Bt=="function"){M.callback=null,B=M.priorityLevel;var V=Bt(M.expirationTime<=k);if(k=s.unstable_now(),typeof V=="function"){M.callback=V,zt(k),tt=!0;break e}M===i(_)&&r(_),zt(k)}else r(_);M=i(_)}if(M!==null)tt=!0;else{var F=i(v);F!==null&&Jt(_t,F.startTime-k),tt=!1}}break t}finally{M=null,B=lt,Q=!1}tt=void 0}}finally{tt?N():Ut=!1}}}var N;if(typeof gt=="function")N=function(){gt(C)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,pe=w.port2;w.port1.onmessage=C,N=function(){pe.postMessage(null)}}else N=function(){bt(C,0)};function Jt(k,tt){O=bt(function(){k(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(k){k.callback=null},s.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<k?Math.floor(1e3/k):5},s.unstable_getCurrentPriorityLevel=function(){return B},s.unstable_next=function(k){switch(B){case 1:case 2:case 3:var tt=3;break;default:tt=B}var lt=B;B=tt;try{return k()}finally{B=lt}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(k,tt){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var lt=B;B=k;try{return tt()}finally{B=lt}},s.unstable_scheduleCallback=function(k,tt,lt){var Bt=s.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Bt+lt:Bt):lt=Bt,k){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=lt+V,k={id:A++,callback:tt,priorityLevel:k,startTime:lt,expirationTime:V,sortIndex:-1},lt>Bt?(k.sortIndex=lt,e(v,k),i(_)===null&&k===i(v)&&(nt?(Et(O),O=-1):nt=!0,Jt(_t,lt-Bt))):(k.sortIndex=V,e(_,k),Z||Q||(Z=!0,Ut||(Ut=!0,N()))),k},s.unstable_shouldYield=S,s.unstable_wrapCallback=function(k){var tt=B;return function(){var lt=B;B=tt;try{return k.apply(this,arguments)}finally{B=lt}}}}(vf)),vf}var Fp;function yE(){return Fp||(Fp=1,_f.exports=pE()),_f.exports}var Ef={exports:{}},ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function _E(){if(Xp)return ke;Xp=1;var s=Jf();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,A){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:M==null?null:""+M,children:_,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ke.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},ke.flushSync=function(_){var v=d.T,A=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=v,r.p=A,r.d.f()}},ke.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(_,v))},ke.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},ke.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,M=g(A,v.crossOrigin),B=typeof v.integrity=="string"?v.integrity:void 0,Q=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?r.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:M,integrity:B,fetchPriority:Q}):A==="script"&&r.d.X(_,{crossOrigin:M,integrity:B,fetchPriority:Q,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},ke.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);r.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(_)},ke.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,M=g(A,v.crossOrigin);r.d.L(_,A,{crossOrigin:M,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},ke.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);r.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(_)},ke.requestFormReset=function(_){r.d.r(_)},ke.unstable_batchedUpdates=function(_,v){return _(v)},ke.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},ke.version="19.1.0",ke}var Zp;function vE(){if(Zp)return Ef.exports;Zp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ef.exports=_E(),Ef.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function EE(){if($p)return Nl;$p=1;var s=yE(),e=Jf(),i=vE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===a){y=!0,a=c,l=f;break}if(E===l){y=!0,l=c,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,l=c;break}if(E===l){y=!0,l=f,a=c;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),bt=Symbol.for("react.provider"),Et=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),zt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Ut=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),S=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function N(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case J:return"Profiler";case nt:return"StrictMode";case _t:return"Suspense";case Ut:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case gt:return(t.displayName||"Context")+".Provider";case Et:return(t._context.displayName||"Context")+".Consumer";case zt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:pe(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return pe(t(n))}catch{}}return null}var Jt=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Bt=[],V=-1;function F(t){return{current:t}}function et(t){0>V||(t.current=Bt[V],Bt[V]=null,V--)}function $(t,n){V++,Bt[V]=t.current,t.current=n}var ot=F(null),Rt=F(null),pt=F(null),Re=F(null);function Zt(t,n){switch($(pt,n),$(Rt,t),$(ot,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?yp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=yp(n),t=_p(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(ot),$(ot,t)}function xn(){et(ot),et(Rt),et(pt)}function Ii(t){t.memoizedState!==null&&$(Re,t);var n=ot.current,a=_p(n,t.type);n!==a&&($(Rt,t),$(ot,a))}function ni(t){Rt.current===t&&(et(ot),et(Rt)),Re.current===t&&(et(Re),bl._currentValue=lt)}var Ta=Object.prototype.hasOwnProperty,Aa=s.unstable_scheduleCallback,Sa=s.unstable_cancelCallback,Ts=s.unstable_shouldYield,$l=s.unstable_requestPaint,dn=s.unstable_now,mc=s.unstable_getCurrentPriorityLevel,As=s.unstable_ImmediatePriority,hr=s.unstable_UserBlockingPriority,ba=s.unstable_NormalPriority,gc=s.unstable_LowPriority,fr=s.unstable_IdlePriority,Ss=s.log,Jl=s.unstable_setDisableYieldValue,ae=null,kt=null;function nn(t){if(typeof Ss=="function"&&Jl(t),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(ae,t)}catch{}}var qe=Math.clz32?Math.clz32:Ra,Wl=Math.log,pc=Math.LN2;function Ra(t){return t>>>=0,t===0?32:31-(Wl(t)/pc|0)|0}var wa=256,Da=4194304;function Dn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function dr(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Dn(l):(y&=E,y!==0?c=Dn(y):a||(a=E&~t,a!==0&&(c=Dn(a))))):(E=l&~f,E!==0?c=Dn(E):y!==0?c=Dn(y):a||(a=l&~t,a!==0&&(c=Dn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Ca(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function bs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rs(){var t=wa;return wa<<=1,(wa&4194048)===0&&(wa=256),t}function ws(){var t=Da;return Da<<=1,(Da&62914560)===0&&(Da=4194304),t}function ii(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ai(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ds(t,n,a,l,c,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,L=t.hiddenUpdates;for(a=y&~a;0<a;){var H=31-qe(a),Y=1<<H;E[H]=0,R[H]=-1;var P=L[H];if(P!==null)for(L[H]=null,H=0;H<P.length;H++){var q=P[H];q!==null&&(q.lane&=-536870913)}a&=~Y}l!==0&&Un(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Un(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-qe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Cs(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-qe(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Oi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function mr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Mi(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:Lp(t.type))}function tu(t,n){var a=tt.p;try{return tt.p=t,n()}finally{tt.p=a}}var Wt=Math.random().toString(36).slice(2),ye="__reactFiber$"+Wt,he="__reactProps$"+Wt,mn="__reactContainer$"+Wt,Vs="__reactEvents$"+Wt,yc="__reactListeners$"+Wt,xi="__reactHandles$"+Wt,eu="__reactResources$"+Wt,Va="__reactMarker$"+Wt;function Ui(t){delete t[ye],delete t[he],delete t[Vs],delete t[yc],delete t[xi]}function ri(t){var n=t[ye];if(n)return n;for(var a=t.parentNode;a;){if(n=a[mn]||a[ye]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Ap(t);t!==null;){if(a=t[ye])return a;t=Ap(t)}return n}t=a,a=t.parentNode}return null}function zn(t){if(t=t[ye]||t[mn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Ln(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Ye(t){var n=t[eu];return n||(n=t[eu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(t){t[Va]=!0}var Ns=new Set,gr={};function Cn(t,n){si(t,n),si(t+"Capture",n)}function si(t,n){for(gr[t]=n,t=0;t<n.length;t++)Ns.add(n[t])}var nu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),iu={},Na={};function au(t){return Ta.call(Na,t)?!0:Ta.call(iu,t)?!1:nu.test(t)?Na[t]=!0:(iu[t]=!0,!1)}function zi(t,n,a){if(au(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Bn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Oe(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var Ia,ru;function li(t){if(Ia===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ia=n&&n[1]||"",ru=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ia+t+ru}var pr=!1;function yr(t,n){if(!t||pr)return"";pr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var P=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){P=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){P=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),L=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===L.length)for(l=R.length-1,c=L.length-1;1<=l&&0<=c&&R[l]!==L[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==L[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==L[c]){var H=`
`+R[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{pr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?li(a):""}function Is(t){switch(t.tag){case 26:case 27:case 5:return li(t.type);case 16:return li("Lazy");case 13:return li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return yr(t.type,!1);case 11:return yr(t.type.render,!1);case 1:return yr(t.type,!0);case 31:return li("Activity");default:return""}}function _r(t){try{var n="";do n+=Is(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Os(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _c(t){var n=Os(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function vr(t){t._valueTracker||(t._valueTracker=_c(t))}function Ms(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Os(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Oa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var vc=/[\n"\\]/g;function fe(t){return t.replace(vc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function an(t,n,a,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Li(t,y,Ke(n)):a!=null?Li(t,y,Ke(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function Ma(t,n,a,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Ke(a):"",n=n!=null?""+Ke(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Li(t,n,a){n==="number"&&Oa(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ui(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ke(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,a){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ke(a):""}function xa(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(Jt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ke(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function gn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Ua=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function su(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Ua.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function xs(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&su(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&su(t,f,n[f])}function Us(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ec=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Er(t){return Tc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var oi=null;function pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ci=null,hi=null;function zs(t){var n=zn(t);if(n&&(t=n.stateNode)){var a=t[he]||null;t:switch(t=n.stateNode,n.type){case"input":if(an(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fe(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[he]||null;if(!c)throw Error(r(90));an(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ms(l)}break t;case"textarea":Qt(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ui(t,!!a.multiple,n,!1)}}}var Pn=!1;function lu(t,n,a){if(Pn)return t(n,a);Pn=!0;try{var l=t(n);return l}finally{if(Pn=!1,(ci!==null||hi!==null)&&(to(),ci&&(n=ci,t=hi,hi=ci=null,zs(n),t)))for(n=0;n<t.length;n++)zs(t[n])}}function za(t,n){var a=t.stateNode;if(a===null)return null;var l=a[he]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yn=!1;if(Vn)try{var La={};Object.defineProperty(La,"passive",{get:function(){yn=!0}}),window.addEventListener("test",La,La),window.removeEventListener("test",La,La)}catch{yn=!1}var qn=null,Bi=null,fi=null;function Ls(){if(fi)return fi;var t,n=Bi,a=n.length,l,c="value"in qn?qn.value:qn.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===c[f-l];l++);return fi=c.slice(t,1<l?1-l:void 0)}function jn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function kn(){return!0}function Bs(){return!1}function we(t){function n(a,l,c,f,y){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?kn:Bs,this.isPropagationStopped=Bs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=kn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=kn)},persist:function(){},isPersistent:kn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tr=we(qt),Ba=A({},qt,{view:0,detail:0}),uu=we(Ba),Ar,Sr,Hn,Pa=A({},Ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ka,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hn&&(Hn&&t.type==="mousemove"?(Ar=t.screenX-Hn.screenX,Sr=t.screenY-Hn.screenY):Sr=Ar=0,Hn=t),Ar)},movementY:function(t){return"movementY"in t?t.movementY:Sr}}),_n=we(Pa),ou=A({},Pa,{dataTransfer:0}),Ac=we(ou),qa=A({},Ba,{relatedTarget:0}),br=we(qa),Ps=A({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Rr=we(Ps),cu=A({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wr=we(cu),Sc=A({},qt,{data:0}),qs=we(Sc),ja={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function js(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=fu[t])?!!n[t]:!1}function ka(){return js}var du=A({},Ba,{key:function(t){if(t.key){var n=ja[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=jn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ka,charCode:function(t){return t.type==="keypress"?jn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Dr=we(du),mu=A({},Pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ks=we(mu),di=A({},Ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ka}),gu=we(di),pu=A({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),yu=we(pu),_u=A({},Pa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Cr=we(_u),Fe=A({},qt,{newState:0,oldState:0}),vu=we(Fe),Eu=[9,13,27,32],Gn=Vn&&"CompositionEvent"in window,o=null;Vn&&"documentMode"in document&&(o=document.documentMode);var m=Vn&&"TextEvent"in window&&!o,p=Vn&&(!Gn||o&&8<o&&11>=o),T=" ",U=!1;function j(t,n){switch(t){case"keyup":return Eu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nt=!1;function _e(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(U=!0,T);case"textInput":return t=n.data,t===T&&U?null:t;default:return null}}function It(t,n){if(Nt)return t==="compositionend"||!Gn&&j(t,n)?(t=Ls(),fi=Bi=qn=null,Nt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!De[t.type]:n==="textarea"}function mi(t,n,a,l){ci?hi?hi.push(l):hi=[l]:ci=l,n=so(n,"onChange"),0<n.length&&(a=new Tr("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Me=null,Qn=null;function Hs(t){fp(t,0)}function Tu(t){var n=Ln(t);if(Ms(n))return t}function Md(t,n){if(t==="change")return n}var xd=!1;if(Vn){var bc;if(Vn){var Rc="oninput"in document;if(!Rc){var Ud=document.createElement("div");Ud.setAttribute("oninput","return;"),Rc=typeof Ud.oninput=="function"}bc=Rc}else bc=!1;xd=bc&&(!document.documentMode||9<document.documentMode)}function zd(){Me&&(Me.detachEvent("onpropertychange",Ld),Qn=Me=null)}function Ld(t){if(t.propertyName==="value"&&Tu(Qn)){var n=[];mi(n,Qn,t,pn(t)),lu(Hs,n)}}function Hv(t,n,a){t==="focusin"?(zd(),Me=n,Qn=a,Me.attachEvent("onpropertychange",Ld)):t==="focusout"&&zd()}function Gv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tu(Qn)}function Qv(t,n){if(t==="click")return Tu(n)}function Yv(t,n){if(t==="input"||t==="change")return Tu(n)}function Kv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var rn=typeof Object.is=="function"?Object.is:Kv;function Gs(t,n){if(rn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Ta.call(n,c)||!rn(t[c],n[c]))return!1}return!0}function Bd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pd(t,n){var a=Bd(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Bd(a)}}function qd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?qd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function jd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Oa(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Oa(t.document)}return n}function wc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Fv=Vn&&"documentMode"in document&&11>=document.documentMode,Vr=null,Dc=null,Qs=null,Cc=!1;function kd(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Cc||Vr==null||Vr!==Oa(l)||(l=Vr,"selectionStart"in l&&wc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Qs&&Gs(Qs,l)||(Qs=l,l=so(Dc,"onSelect"),0<l.length&&(n=new Tr("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Vr)))}function Ha(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Nr={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionrun:Ha("Transition","TransitionRun"),transitionstart:Ha("Transition","TransitionStart"),transitioncancel:Ha("Transition","TransitionCancel"),transitionend:Ha("Transition","TransitionEnd")},Vc={},Hd={};Vn&&(Hd=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);function Ga(t){if(Vc[t])return Vc[t];if(!Nr[t])return t;var n=Nr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Hd)return Vc[t]=n[a];return t}var Gd=Ga("animationend"),Qd=Ga("animationiteration"),Yd=Ga("animationstart"),Xv=Ga("transitionrun"),Zv=Ga("transitionstart"),$v=Ga("transitioncancel"),Kd=Ga("transitionend"),Fd=new Map,Nc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nc.push("scrollEnd");function Nn(t,n){Fd.set(t,n),Cn(n,[t])}var Xd=new WeakMap;function vn(t,n){if(typeof t=="object"&&t!==null){var a=Xd.get(t);return a!==void 0?a:(n={value:t,source:n,stack:_r(n)},Xd.set(t,n),n)}return{value:t,source:n,stack:_r(n)}}var En=[],Ir=0,Ic=0;function Au(){for(var t=Ir,n=Ic=Ir=0;n<t;){var a=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Zd(a,c,f)}}function Su(t,n,a,l){En[Ir++]=t,En[Ir++]=n,En[Ir++]=a,En[Ir++]=l,Ic|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Oc(t,n,a,l){return Su(t,n,a,l),bu(t)}function Or(t,n){return Su(t,null,null,n),bu(t)}function Zd(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-qe(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function bu(t){if(50<pl)throw pl=0,Bh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Mr={};function Jv(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,n,a,l){return new Jv(t,n,a,l)}function Mc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gi(t,n){var a=t.alternate;return a===null?(a=sn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function $d(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ru(t,n,a,l,c,f){var y=0;if(l=t,typeof t=="function")Mc(t)&&(y=1);else if(typeof t=="string")y=tE(t,a,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case D:return t=sn(31,a,n,c),t.elementType=D,t.lanes=f,t;case Z:return Qa(a.children,c,f,n);case nt:y=8,c|=24;break;case J:return t=sn(12,a,n,c|2),t.elementType=J,t.lanes=f,t;case _t:return t=sn(13,a,n,c),t.elementType=_t,t.lanes=f,t;case Ut:return t=sn(19,a,n,c),t.elementType=Ut,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bt:case gt:y=10;break t;case Et:y=9;break t;case zt:y=11;break t;case O:y=14;break t;case b:y=16,l=null;break t}y=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=sn(y,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Qa(t,n,a,l){return t=sn(7,t,l,n),t.lanes=a,t}function xc(t,n,a){return t=sn(6,t,null,n),t.lanes=a,t}function Uc(t,n,a){return n=sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var xr=[],Ur=0,wu=null,Du=0,Tn=[],An=0,Ya=null,pi=1,yi="";function Ka(t,n){xr[Ur++]=Du,xr[Ur++]=wu,wu=t,Du=n}function Jd(t,n,a){Tn[An++]=pi,Tn[An++]=yi,Tn[An++]=Ya,Ya=t;var l=pi;t=yi;var c=32-qe(l)-1;l&=~(1<<c),a+=1;var f=32-qe(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,pi=1<<32-qe(n)+c|a<<c|l,yi=f+t}else pi=1<<f|a<<c|l,yi=t}function zc(t){t.return!==null&&(Ka(t,1),Jd(t,1,0))}function Lc(t){for(;t===wu;)wu=xr[--Ur],xr[Ur]=null,Du=xr[--Ur],xr[Ur]=null;for(;t===Ya;)Ya=Tn[--An],Tn[An]=null,yi=Tn[--An],Tn[An]=null,pi=Tn[--An],Tn[An]=null}var Xe=null,re=null,Pt=!1,Fa=null,Yn=!1,Bc=Error(r(519));function Xa(t){var n=Error(r(418,""));throw Fs(vn(n,t)),Bc}function Wd(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ye]=t,n[he]=l,a){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(a=0;a<_l.length;a++)Ct(_l[a],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Ma(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),vr(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),xa(n,l.value,l.defaultValue,l.children),vr(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||pp(n.textContent,a)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=lo),n=!0):n=!1,n||Xa(t)}function tm(t){for(Xe=t.return;Xe;)switch(Xe.tag){case 5:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Xe=Xe.return}}function Ys(t){if(t!==Xe)return!1;if(!Pt)return tm(t),Pt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||tf(t.type,t.memoizedProps)),a=!a),a&&re&&Xa(t),tm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){re=On(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}re=null}}else n===27?(n=re,ta(t.type)?(t=rf,rf=null,re=t):re=n):re=Xe?On(t.stateNode.nextSibling):null;return!0}function Ks(){re=Xe=null,Pt=!1}function em(){var t=Fa;return t!==null&&(Je===null?Je=t:Je.push.apply(Je,t),Fa=null),t}function Fs(t){Fa===null?Fa=[t]:Fa.push(t)}var Pc=F(null),Za=null,_i=null;function Pi(t,n,a){$(Pc,n._currentValue),n._currentValue=a}function vi(t){t._currentValue=Pc.current,et(Pc)}function qc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function jc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),qc(f.return,a,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),qc(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Xs(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=c.type;rn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Re.current){if(y=c.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(bl):t=[bl])}c=c.return}t!==null&&jc(n,t,a,l),n.flags|=262144}function Cu(t){for(t=t.firstContext;t!==null;){if(!rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $a(t){Za=t,_i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function je(t){return nm(Za,t)}function Vu(t,n){return Za===null&&$a(t),nm(t,n)}function nm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},_i===null){if(t===null)throw Error(r(308));_i=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else _i=_i.next=n;return a}var Wv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},t0=s.unstable_scheduleCallback,e0=s.unstable_NormalPriority,Ee={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kc(){return{controller:new Wv,data:new Map,refCount:0}}function Zs(t){t.refCount--,t.refCount===0&&t0(e0,function(){t.controller.abort()})}var $s=null,Hc=0,zr=0,Lr=null;function n0(t,n){if($s===null){var a=$s=[];Hc=0,zr=Qh(),Lr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Hc++,n.then(im,im),n}function im(){if(--Hc===0&&$s!==null){Lr!==null&&(Lr.status="fulfilled");var t=$s;$s=null,zr=0,Lr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function i0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var am=k.S;k.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&n0(t,n),am!==null&&am(t,n)};var Ja=F(null);function Gc(){var t=Ja.current;return t!==null?t:$t.pooledCache}function Nu(t,n){n===null?$(Ja,Ja.current):$(Ja,n.pool)}function rm(){var t=Gc();return t===null?null:{parent:Ee._currentValue,pool:t}}var Js=Error(r(460)),sm=Error(r(474)),Iu=Error(r(542)),Qc={then:function(){}};function lm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ou(){}function um(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Ou,Ou),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cm(t),t;default:if(typeof n.status=="string")n.then(Ou,Ou);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cm(t),t}throw Ws=n,Js}}var Ws=null;function om(){if(Ws===null)throw Error(r(459));var t=Ws;return Ws=null,t}function cm(t){if(t===Js||t===Iu)throw Error(r(483))}var qi=!1;function Yc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ji(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ki(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=bu(t),Zd(t,null,a),n}return Su(t,l,n,a),bu(t)}function tl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Cs(t,a)}}function Fc(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Xc=!1;function el(){if(Xc){var t=Lr;if(t!==null)throw t}}function nl(t,n,a,l){Xc=!1;var c=t.updateQueue;qi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,L=R.next;R.next=null,y===null?f=L:y.next=L,y=R;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=L:E.next=L,H.lastBaseUpdate=R))}if(f!==null){var Y=c.baseState;y=0,H=L=R=null,E=f;do{var P=E.lane&-536870913,q=P!==E.lane;if(q?(Ot&P)===P:(l&P)===P){P!==0&&P===zr&&(Xc=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var dt=t,ht=E;P=n;var Ft=a;switch(ht.tag){case 1:if(dt=ht.payload,typeof dt=="function"){Y=dt.call(Ft,Y,P);break t}Y=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=ht.payload,P=typeof dt=="function"?dt.call(Ft,Y,P):dt,P==null)break t;Y=A({},Y,P);break t;case 2:qi=!0}}P=E.callback,P!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[P]:q.push(P))}else q={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(L=H=q,R=Y):H=H.next=q,y|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);H===null&&(R=Y),c.baseState=R,c.firstBaseUpdate=L,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),Zi|=y,t.lanes=y,t.memoizedState=Y}}function hm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function fm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)hm(a[t],n)}var Br=F(null),Mu=F(0);function dm(t,n){t=wi,$(Mu,t),$(Br,n),wi=t|n.baseLanes}function Zc(){$(Mu,wi),$(Br,Br.current)}function $c(){wi=Mu.current,et(Br),et(Mu)}var Hi=0,At=null,Yt=null,de=null,xu=!1,Pr=!1,Wa=!1,Uu=0,il=0,qr=null,a0=0;function ue(){throw Error(r(321))}function Jc(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!rn(t[a],n[a]))return!1;return!0}function Wc(t,n,a,l,c,f){return Hi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,k.H=t===null||t.memoizedState===null?Zm:$m,Wa=!1,f=a(l,c),Wa=!1,Pr&&(f=gm(n,a,l,c)),mm(t),f}function mm(t){k.H=ju;var n=Yt!==null&&Yt.next!==null;if(Hi=0,de=Yt=At=null,xu=!1,il=0,qr=null,n)throw Error(r(300));t===null||Ce||(t=t.dependencies,t!==null&&Cu(t)&&(Ce=!0))}function gm(t,n,a,l){At=t;var c=0;do{if(Pr&&(qr=null),il=0,Pr=!1,25<=c)throw Error(r(301));if(c+=1,de=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}k.H=h0,f=n(a,l)}while(Pr);return f}function r0(){var t=k.H,n=t.useState()[0];return n=typeof n.then=="function"?al(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(At.flags|=1024),n}function th(){var t=Uu!==0;return Uu=0,t}function eh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function nh(t){if(xu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}xu=!1}Hi=0,de=Yt=At=null,Pr=!1,il=Uu=0,qr=null}function Ze(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?At.memoizedState=de=t:de=de.next=t,de}function me(){if(Yt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=de===null?At.memoizedState:de.next;if(n!==null)de=n,Yt=t;else{if(t===null)throw At.alternate===null?Error(r(467)):Error(r(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},de===null?At.memoizedState=de=t:de=de.next=t}return de}function ih(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(t){var n=il;return il+=1,qr===null&&(qr=[]),t=um(qr,t,n),n=At,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,k.H=n===null||n.memoizedState===null?Zm:$m),t}function zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===gt)return je(t)}throw Error(r(438,String(t)))}function ah(t){var n=null,a=At.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ih(),At.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=S;return n.index++,a}function Ei(t,n){return typeof n=="function"?n(t):n}function Lu(t){var n=me();return rh(n,Yt,t)}function rh(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,R=null,L=n,H=!1;do{var Y=L.lane&-536870913;if(Y!==L.lane?(Ot&Y)===Y:(Hi&Y)===Y){var P=L.revertLane;if(P===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Y===zr&&(H=!0);else if((Hi&P)===P){L=L.next,P===zr&&(H=!0);continue}else Y={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},R===null?(E=R=Y,y=f):R=R.next=Y,At.lanes|=P,Zi|=P;Y=L.action,Wa&&a(f,Y),f=L.hasEagerState?L.eagerState:a(f,Y)}else P={lane:Y,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},R===null?(E=R=P,y=f):R=R.next=P,At.lanes|=Y,Zi|=Y;L=L.next}while(L!==null&&L!==n);if(R===null?y=f:R.next=E,!rn(f,t.memoizedState)&&(Ce=!0,H&&(a=Lr,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function sh(t){var n=me(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);rn(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function pm(t,n,a){var l=At,c=me(),f=Pt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!rn((Yt||c).memoizedState,a);y&&(c.memoizedState=a,Ce=!0),c=c.queue;var E=vm.bind(null,l,c,t);if(rl(2048,8,E,[t]),c.getSnapshot!==n||y||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,jr(9,Bu(),_m.bind(null,l,c,a,n),null),$t===null)throw Error(r(349));f||(Hi&124)!==0||ym(l,n,a)}return a}function ym(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=At.updateQueue,n===null?(n=ih(),At.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function _m(t,n,a,l){n.value=a,n.getSnapshot=l,Em(n)&&Tm(t)}function vm(t,n,a){return a(function(){Em(n)&&Tm(t)})}function Em(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!rn(t,a)}catch{return!0}}function Tm(t){var n=Or(t,2);n!==null&&hn(n,t,2)}function lh(t){var n=Ze();if(typeof t=="function"){var a=t;if(t=a(),Wa){nn(!0);try{a()}finally{nn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},n}function Am(t,n,a,l){return t.baseState=a,rh(t,Yt,typeof l=="function"?l:Ei)}function s0(t,n,a,l,c){if(qu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};k.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Sm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Sm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=k.T,y={};k.T=y;try{var E=a(c,l),R=k.S;R!==null&&R(y,E),bm(t,n,E)}catch(L){uh(t,n,L)}finally{k.T=f}}else try{f=a(c,l),bm(t,n,f)}catch(L){uh(t,n,L)}}function bm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Rm(t,n,l)},function(l){return uh(t,n,l)}):Rm(t,n,a)}function Rm(t,n,a){n.status="fulfilled",n.value=a,wm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Sm(t,a)))}function uh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,wm(n),n=n.next;while(n!==l)}t.action=null}function wm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Dm(t,n){return n}function Cm(t,n){if(Pt){var a=$t.formState;if(a!==null){t:{var l=At;if(Pt){if(re){e:{for(var c=re,f=Yn;c.nodeType!==8;){if(!f){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){re=On(c.nextSibling),l=c.data==="F!";break t}}Xa(l)}l=!1}l&&(n=a[0])}}return a=Ze(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dm,lastRenderedState:n},a.queue=l,a=Km.bind(null,At,l),l.dispatch=a,l=lh(!1),f=dh.bind(null,At,!1,l.queue),l=Ze(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=s0.bind(null,At,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Vm(t){var n=me();return Nm(n,Yt,t)}function Nm(t,n,a){if(n=rh(t,n,Dm)[0],t=Lu(Ei)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=al(n)}catch(y){throw y===Js?Iu:y}else l=n;n=me();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(At.flags|=2048,jr(9,Bu(),l0.bind(null,c,a),null)),[l,f,t]}function l0(t,n){t.action=n}function Im(t){var n=me(),a=Yt;if(a!==null)return Nm(n,a,t);me(),n=n.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function jr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=At.updateQueue,n===null&&(n=ih(),At.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Bu(){return{destroy:void 0,resource:void 0}}function Om(){return me().memoizedState}function Pu(t,n,a,l){var c=Ze();l=l===void 0?null:l,At.flags|=t,c.memoizedState=jr(1|n,Bu(),a,l)}function rl(t,n,a,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&Jc(l,Yt.memoizedState.deps)?c.memoizedState=jr(n,f,a,l):(At.flags|=t,c.memoizedState=jr(1|n,f,a,l))}function Mm(t,n){Pu(8390656,8,t,n)}function xm(t,n){rl(2048,8,t,n)}function Um(t,n){return rl(4,2,t,n)}function zm(t,n){return rl(4,4,t,n)}function Lm(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Bm(t,n,a){a=a!=null?a.concat([t]):null,rl(4,4,Lm.bind(null,n,t),a)}function oh(){}function Pm(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Jc(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function qm(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Jc(n,l[1]))return l[0];if(l=t(),Wa){nn(!0);try{t()}finally{nn(!1)}}return a.memoizedState=[l,n],l}function ch(t,n,a){return a===void 0||(Hi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Hg(),At.lanes|=t,Zi|=t,a)}function jm(t,n,a,l){return rn(a,n)?a:Br.current!==null?(t=ch(t,a,l),rn(t,n)||(Ce=!0),t):(Hi&42)===0?(Ce=!0,t.memoizedState=a):(t=Hg(),At.lanes|=t,Zi|=t,n)}function km(t,n,a,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=k.T,E={};k.T=E,dh(t,!1,n,a);try{var R=c(),L=k.S;if(L!==null&&L(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=i0(R,l);sl(t,n,H,cn(t))}else sl(t,n,l,cn(t))}catch(Y){sl(t,n,{then:function(){},status:"rejected",reason:Y},cn())}finally{tt.p=f,k.T=y}}function u0(){}function hh(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=Hm(t).queue;km(t,c,n,lt,a===null?u0:function(){return Gm(t),a(l)})}function Hm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:lt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Gm(t){var n=Hm(t).next.queue;sl(t,n,{},cn())}function fh(){return je(bl)}function Qm(){return me().memoizedState}function Ym(){return me().memoizedState}function o0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=cn();t=ji(a);var l=ki(n,t,a);l!==null&&(hn(l,n,a),tl(l,n,a)),n={cache:kc()},t.payload=n;return}n=n.return}}function c0(t,n,a){var l=cn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},qu(t)?Fm(n,a):(a=Oc(t,n,a,l),a!==null&&(hn(a,t,l),Xm(a,n,l)))}function Km(t,n,a){var l=cn();sl(t,n,a,l)}function sl(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(qu(t))Fm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(c.hasEagerState=!0,c.eagerState=E,rn(E,y))return Su(t,n,c,0),$t===null&&Au(),!1}catch{}finally{}if(a=Oc(t,n,c,l),a!==null)return hn(a,t,l),Xm(a,n,l),!0}return!1}function dh(t,n,a,l){if(l={lane:2,revertLane:Qh(),action:l,hasEagerState:!1,eagerState:null,next:null},qu(t)){if(n)throw Error(r(479))}else n=Oc(t,a,l,2),n!==null&&hn(n,t,2)}function qu(t){var n=t.alternate;return t===At||n!==null&&n===At}function Fm(t,n){Pr=xu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Xm(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Cs(t,a)}}var ju={readContext:je,use:zu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},Zm={readContext:je,use:zu,useCallback:function(t,n){return Ze().memoizedState=[t,n===void 0?null:n],t},useContext:je,useEffect:Mm,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Pu(4194308,4,Lm.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Pu(4194308,4,t,n)},useInsertionEffect:function(t,n){Pu(4,2,t,n)},useMemo:function(t,n){var a=Ze();n=n===void 0?null:n;var l=t();if(Wa){nn(!0);try{t()}finally{nn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Ze();if(a!==void 0){var c=a(n);if(Wa){nn(!0);try{a(n)}finally{nn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=c0.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var n=Ze();return t={current:t},n.memoizedState=t},useState:function(t){t=lh(t);var n=t.queue,a=Km.bind(null,At,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:oh,useDeferredValue:function(t,n){var a=Ze();return ch(a,t,n)},useTransition:function(){var t=lh(!1);return t=km.bind(null,At,t.queue,!0,!1),Ze().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=At,c=Ze();if(Pt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),$t===null)throw Error(r(349));(Ot&124)!==0||ym(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,Mm(vm.bind(null,l,f,t),[t]),l.flags|=2048,jr(9,Bu(),_m.bind(null,l,f,a,n),null),a},useId:function(){var t=Ze(),n=$t.identifierPrefix;if(Pt){var a=yi,l=pi;a=(l&~(1<<32-qe(l)-1)).toString(32)+a,n=""+n+"R"+a,a=Uu++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=a0++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:fh,useFormState:Cm,useActionState:Cm,useOptimistic:function(t){var n=Ze();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=dh.bind(null,At,!0,a),a.dispatch=n,[t,n]},useMemoCache:ah,useCacheRefresh:function(){return Ze().memoizedState=o0.bind(null,At)}},$m={readContext:je,use:zu,useCallback:Pm,useContext:je,useEffect:xm,useImperativeHandle:Bm,useInsertionEffect:Um,useLayoutEffect:zm,useMemo:qm,useReducer:Lu,useRef:Om,useState:function(){return Lu(Ei)},useDebugValue:oh,useDeferredValue:function(t,n){var a=me();return jm(a,Yt.memoizedState,t,n)},useTransition:function(){var t=Lu(Ei)[0],n=me().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:pm,useId:Qm,useHostTransitionStatus:fh,useFormState:Vm,useActionState:Vm,useOptimistic:function(t,n){var a=me();return Am(a,Yt,t,n)},useMemoCache:ah,useCacheRefresh:Ym},h0={readContext:je,use:zu,useCallback:Pm,useContext:je,useEffect:xm,useImperativeHandle:Bm,useInsertionEffect:Um,useLayoutEffect:zm,useMemo:qm,useReducer:sh,useRef:Om,useState:function(){return sh(Ei)},useDebugValue:oh,useDeferredValue:function(t,n){var a=me();return Yt===null?ch(a,t,n):jm(a,Yt.memoizedState,t,n)},useTransition:function(){var t=sh(Ei)[0],n=me().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:pm,useId:Qm,useHostTransitionStatus:fh,useFormState:Im,useActionState:Im,useOptimistic:function(t,n){var a=me();return Yt!==null?Am(a,Yt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ah,useCacheRefresh:Ym},kr=null,ll=0;function ku(t){var n=ll;return ll+=1,kr===null&&(kr=[]),um(kr,t,n)}function ul(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Hu(t,n){throw n.$$typeof===M?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Jm(t){var n=t._init;return n(t._payload)}function Wm(t){function n(x,I){if(t){var z=x.deletions;z===null?(x.deletions=[I],x.flags|=16):z.push(I)}}function a(x,I){if(!t)return null;for(;I!==null;)n(x,I),I=I.sibling;return null}function l(x){for(var I=new Map;x!==null;)x.key!==null?I.set(x.key,x):I.set(x.index,x),x=x.sibling;return I}function c(x,I){return x=gi(x,I),x.index=0,x.sibling=null,x}function f(x,I,z){return x.index=z,t?(z=x.alternate,z!==null?(z=z.index,z<I?(x.flags|=67108866,I):z):(x.flags|=67108866,I)):(x.flags|=1048576,I)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,I,z,G){return I===null||I.tag!==6?(I=xc(z,x.mode,G),I.return=x,I):(I=c(I,z),I.return=x,I)}function R(x,I,z,G){var at=z.type;return at===Z?H(x,I,z.props.children,G,z.key):I!==null&&(I.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===b&&Jm(at)===I.type)?(I=c(I,z.props),ul(I,z),I.return=x,I):(I=Ru(z.type,z.key,z.props,null,x.mode,G),ul(I,z),I.return=x,I)}function L(x,I,z,G){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=Uc(z,x.mode,G),I.return=x,I):(I=c(I,z.children||[]),I.return=x,I)}function H(x,I,z,G,at){return I===null||I.tag!==7?(I=Qa(z,x.mode,G,at),I.return=x,I):(I=c(I,z),I.return=x,I)}function Y(x,I,z){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=xc(""+I,x.mode,z),I.return=x,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case B:return z=Ru(I.type,I.key,I.props,null,x.mode,z),ul(z,I),z.return=x,z;case Q:return I=Uc(I,x.mode,z),I.return=x,I;case b:var G=I._init;return I=G(I._payload),Y(x,I,z)}if(Jt(I)||N(I))return I=Qa(I,x.mode,z,null),I.return=x,I;if(typeof I.then=="function")return Y(x,ku(I),z);if(I.$$typeof===gt)return Y(x,Vu(x,I),z);Hu(x,I)}return null}function P(x,I,z,G){var at=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return at!==null?null:E(x,I,""+z,G);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case B:return z.key===at?R(x,I,z,G):null;case Q:return z.key===at?L(x,I,z,G):null;case b:return at=z._init,z=at(z._payload),P(x,I,z,G)}if(Jt(z)||N(z))return at!==null?null:H(x,I,z,G,null);if(typeof z.then=="function")return P(x,I,ku(z),G);if(z.$$typeof===gt)return P(x,I,Vu(x,z),G);Hu(x,z)}return null}function q(x,I,z,G,at){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return x=x.get(z)||null,E(I,x,""+G,at);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case B:return x=x.get(G.key===null?z:G.key)||null,R(I,x,G,at);case Q:return x=x.get(G.key===null?z:G.key)||null,L(I,x,G,at);case b:var wt=G._init;return G=wt(G._payload),q(x,I,z,G,at)}if(Jt(G)||N(G))return x=x.get(z)||null,H(I,x,G,at,null);if(typeof G.then=="function")return q(x,I,z,ku(G),at);if(G.$$typeof===gt)return q(x,I,z,Vu(I,G),at);Hu(I,G)}return null}function dt(x,I,z,G){for(var at=null,wt=null,st=I,ft=I=0,Ne=null;st!==null&&ft<z.length;ft++){st.index>ft?(Ne=st,st=null):Ne=st.sibling;var Lt=P(x,st,z[ft],G);if(Lt===null){st===null&&(st=Ne);break}t&&st&&Lt.alternate===null&&n(x,st),I=f(Lt,I,ft),wt===null?at=Lt:wt.sibling=Lt,wt=Lt,st=Ne}if(ft===z.length)return a(x,st),Pt&&Ka(x,ft),at;if(st===null){for(;ft<z.length;ft++)st=Y(x,z[ft],G),st!==null&&(I=f(st,I,ft),wt===null?at=st:wt.sibling=st,wt=st);return Pt&&Ka(x,ft),at}for(st=l(st);ft<z.length;ft++)Ne=q(st,x,ft,z[ft],G),Ne!==null&&(t&&Ne.alternate!==null&&st.delete(Ne.key===null?ft:Ne.key),I=f(Ne,I,ft),wt===null?at=Ne:wt.sibling=Ne,wt=Ne);return t&&st.forEach(function(ra){return n(x,ra)}),Pt&&Ka(x,ft),at}function ht(x,I,z,G){if(z==null)throw Error(r(151));for(var at=null,wt=null,st=I,ft=I=0,Ne=null,Lt=z.next();st!==null&&!Lt.done;ft++,Lt=z.next()){st.index>ft?(Ne=st,st=null):Ne=st.sibling;var ra=P(x,st,Lt.value,G);if(ra===null){st===null&&(st=Ne);break}t&&st&&ra.alternate===null&&n(x,st),I=f(ra,I,ft),wt===null?at=ra:wt.sibling=ra,wt=ra,st=Ne}if(Lt.done)return a(x,st),Pt&&Ka(x,ft),at;if(st===null){for(;!Lt.done;ft++,Lt=z.next())Lt=Y(x,Lt.value,G),Lt!==null&&(I=f(Lt,I,ft),wt===null?at=Lt:wt.sibling=Lt,wt=Lt);return Pt&&Ka(x,ft),at}for(st=l(st);!Lt.done;ft++,Lt=z.next())Lt=q(st,x,ft,Lt.value,G),Lt!==null&&(t&&Lt.alternate!==null&&st.delete(Lt.key===null?ft:Lt.key),I=f(Lt,I,ft),wt===null?at=Lt:wt.sibling=Lt,wt=Lt);return t&&st.forEach(function(fE){return n(x,fE)}),Pt&&Ka(x,ft),at}function Ft(x,I,z,G){if(typeof z=="object"&&z!==null&&z.type===Z&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case B:t:{for(var at=z.key;I!==null;){if(I.key===at){if(at=z.type,at===Z){if(I.tag===7){a(x,I.sibling),G=c(I,z.props.children),G.return=x,x=G;break t}}else if(I.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===b&&Jm(at)===I.type){a(x,I.sibling),G=c(I,z.props),ul(G,z),G.return=x,x=G;break t}a(x,I);break}else n(x,I);I=I.sibling}z.type===Z?(G=Qa(z.props.children,x.mode,G,z.key),G.return=x,x=G):(G=Ru(z.type,z.key,z.props,null,x.mode,G),ul(G,z),G.return=x,x=G)}return y(x);case Q:t:{for(at=z.key;I!==null;){if(I.key===at)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){a(x,I.sibling),G=c(I,z.children||[]),G.return=x,x=G;break t}else{a(x,I);break}else n(x,I);I=I.sibling}G=Uc(z,x.mode,G),G.return=x,x=G}return y(x);case b:return at=z._init,z=at(z._payload),Ft(x,I,z,G)}if(Jt(z))return dt(x,I,z,G);if(N(z)){if(at=N(z),typeof at!="function")throw Error(r(150));return z=at.call(z),ht(x,I,z,G)}if(typeof z.then=="function")return Ft(x,I,ku(z),G);if(z.$$typeof===gt)return Ft(x,I,Vu(x,z),G);Hu(x,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,I!==null&&I.tag===6?(a(x,I.sibling),G=c(I,z),G.return=x,x=G):(a(x,I),G=xc(z,x.mode,G),G.return=x,x=G),y(x)):a(x,I)}return function(x,I,z,G){try{ll=0;var at=Ft(x,I,z,G);return kr=null,at}catch(st){if(st===Js||st===Iu)throw st;var wt=sn(29,st,null,x.mode);return wt.lanes=G,wt.return=x,wt}finally{}}}var Hr=Wm(!0),tg=Wm(!1),Sn=F(null),Kn=null;function Gi(t){var n=t.alternate;$(Te,Te.current&1),$(Sn,t),Kn===null&&(n===null||Br.current!==null||n.memoizedState!==null)&&(Kn=t)}function eg(t){if(t.tag===22){if($(Te,Te.current),$(Sn,t),Kn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Kn=t)}}else Qi()}function Qi(){$(Te,Te.current),$(Sn,Sn.current)}function Ti(t){et(Sn),Kn===t&&(Kn=null),et(Te)}var Te=F(0);function Gu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||af(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function mh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var gh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=cn(),c=ji(l);c.payload=n,a!=null&&(c.callback=a),n=ki(t,c,l),n!==null&&(hn(n,t,l),tl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=cn(),c=ji(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ki(t,c,l),n!==null&&(hn(n,t,l),tl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=cn(),l=ji(a);l.tag=2,n!=null&&(l.callback=n),n=ki(t,l,a),n!==null&&(hn(n,t,a),tl(n,t,a))}};function ng(t,n,a,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Gs(a,l)||!Gs(c,f):!0}function ig(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&gh.enqueueReplaceState(n,n.state,null)}function tr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var Qu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ag(t){Qu(t)}function rg(t){console.error(t)}function sg(t){Qu(t)}function Yu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function lg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function ph(t,n,a){return a=ji(a),a.tag=3,a.payload={element:null},a.callback=function(){Yu(t,n)},a}function ug(t){return t=ji(t),t.tag=3,t}function og(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){lg(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){lg(n,a,l),typeof c!="function"&&($i===null?$i=new Set([this]):$i.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function f0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Xs(n,a,c,!0),a=Sn.current,a!==null){switch(a.tag){case 13:return Kn===null?qh():a.alternate===null&&se===0&&(se=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Qc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),kh(t,l,c)),!1;case 22:return a.flags|=65536,l===Qc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),kh(t,l,c)),!1}throw Error(r(435,a.tag))}return kh(t,l,c),qh(),!1}if(Pt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Bc&&(t=Error(r(422),{cause:l}),Fs(vn(t,a)))):(l!==Bc&&(n=Error(r(423),{cause:l}),Fs(vn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=vn(l,a),c=ph(t.stateNode,l,c),Fc(t,c),se!==4&&(se=2)),!1;var f=Error(r(520),{cause:l});if(f=vn(f,a),gl===null?gl=[f]:gl.push(f),se!==4&&(se=2),n===null)return!0;l=vn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=ph(a.stateNode,l,t),Fc(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($i===null||!$i.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=ug(c),og(c,t,a,l),Fc(a,c),!1}a=a.return}while(a!==null);return!1}var cg=Error(r(461)),Ce=!1;function xe(t,n,a,l){n.child=t===null?tg(n,null,a,l):Hr(n,t.child,a,l)}function hg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return $a(n),l=Wc(t,n,a,y,f,c),E=th(),t!==null&&!Ce?(eh(t,n,c),Ai(t,n,c)):(Pt&&E&&zc(n),n.flags|=1,xe(t,n,l,c),n.child)}function fg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Mc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,dg(t,n,f,l,c)):(t=Ru(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!bh(t,c)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Gs,a(y,l)&&t.ref===n.ref)return Ai(t,n,c)}return n.flags|=1,t=gi(f,l),t.ref=n.ref,t.return=n,n.child=t}function dg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(Gs(f,l)&&t.ref===n.ref)if(Ce=!1,n.pendingProps=l=f,bh(t,c))(t.flags&131072)!==0&&(Ce=!0);else return n.lanes=t.lanes,Ai(t,n,c)}return yh(t,n,a,l,c)}function mg(t,n,a){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return gg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Nu(n,f!==null?f.cachePool:null),f!==null?dm(n,f):Zc(),eg(n);else return n.lanes=n.childLanes=536870912,gg(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(Nu(n,f.cachePool),dm(n,f),Qi(),n.memoizedState=null):(t!==null&&Nu(n,null),Zc(),Qi());return xe(t,n,c,a),n.child}function gg(t,n,a,l){var c=Gc();return c=c===null?null:{parent:Ee._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Nu(n,null),Zc(),eg(n),t!==null&&Xs(t,n,l,!0),null}function Ku(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function yh(t,n,a,l,c){return $a(n),a=Wc(t,n,a,l,void 0,c),l=th(),t!==null&&!Ce?(eh(t,n,c),Ai(t,n,c)):(Pt&&l&&zc(n),n.flags|=1,xe(t,n,a,c),n.child)}function pg(t,n,a,l,c,f){return $a(n),n.updateQueue=null,a=gm(n,l,a,c),mm(t),l=th(),t!==null&&!Ce?(eh(t,n,f),Ai(t,n,f)):(Pt&&l&&zc(n),n.flags|=1,xe(t,n,a,f),n.child)}function yg(t,n,a,l,c){if($a(n),n.stateNode===null){var f=Mr,y=a.contextType;typeof y=="object"&&y!==null&&(f=je(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=gh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Yc(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?je(y):Mr,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(mh(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&gh.enqueueReplaceState(f,f.state,null),nl(n,l,f,c),el(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=tr(a,E);f.props=R;var L=f.context,H=a.contextType;y=Mr,typeof H=="object"&&H!==null&&(y=je(H));var Y=a.getDerivedStateFromProps;H=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==y)&&ig(n,f,l,y),qi=!1;var P=n.memoizedState;f.state=P,nl(n,l,f,c),el(),L=n.memoizedState,E||P!==L||qi?(typeof Y=="function"&&(mh(n,a,Y,l),L=n.memoizedState),(R=qi||ng(n,a,R,l,P,L,y))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=L),f.props=l,f.state=L,f.context=y,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Kc(t,n),y=n.memoizedProps,H=tr(a,y),f.props=H,Y=n.pendingProps,P=f.context,L=a.contextType,R=Mr,typeof L=="object"&&L!==null&&(R=je(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||P!==R)&&ig(n,f,l,R),qi=!1,P=n.memoizedState,f.state=P,nl(n,l,f,c),el();var q=n.memoizedState;y!==Y||P!==q||qi||t!==null&&t.dependencies!==null&&Cu(t.dependencies)?(typeof E=="function"&&(mh(n,a,E,l),q=n.memoizedState),(H=qi||ng(n,a,H,l,P,q,R)||t!==null&&t.dependencies!==null&&Cu(t.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=R,l=H):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ku(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Hr(n,t.child,null,c),n.child=Hr(n,null,a,c)):xe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Ai(t,n,c),t}function _g(t,n,a,l){return Ks(),n.flags|=256,xe(t,n,a,l),n.child}var _h={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vh(t){return{baseLanes:t,cachePool:rm()}}function Eh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=bn),t}function vg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Te.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?Gi(n):Qi(),Pt){var E=re,R;if(R=E){t:{for(R=E,E=Yn;R.nodeType!==8;){if(!E){E=null;break t}if(R=On(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:Ya!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},R=sn(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,Xe=n,re=null,R=!0):R=!1}R||Xa(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return af(E)?n.lanes=32:n.lanes=536870912,null;Ti(n)}return E=l.children,l=l.fallback,c?(Qi(),c=n.mode,E=Fu({mode:"hidden",children:E},c),l=Qa(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=vh(a),c.childLanes=Eh(t,y,a),n.memoizedState=_h,l):(Gi(n),Th(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Gi(n),n.flags&=-257,n=Ah(t,n,a)):n.memoizedState!==null?(Qi(),n.child=t.child,n.flags|=128,n=null):(Qi(),c=l.fallback,E=n.mode,l=Fu({mode:"visible",children:l.children},E),c=Qa(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Hr(n,t.child,null,a),l=n.child,l.memoizedState=vh(a),l.childLanes=Eh(t,y,a),n.memoizedState=_h,n=c);else if(Gi(n),af(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var L=y.dgst;y=L,l=Error(r(419)),l.stack="",l.digest=y,Fs({value:l,source:null,stack:null}),n=Ah(t,n,a)}else if(Ce||Xs(t,n,a,!1),y=(a&t.childLanes)!==0,Ce||y){if(y=$t,y!==null&&(l=a&-a,l=(l&42)!==0?1:Oi(l),l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,Or(t,l),hn(y,t,l),cg;E.data==="$?"||qh(),n=Ah(t,n,a)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,re=On(E.nextSibling),Xe=n,Pt=!0,Fa=null,Yn=!1,t!==null&&(Tn[An++]=pi,Tn[An++]=yi,Tn[An++]=Ya,pi=t.id,yi=t.overflow,Ya=n),n=Th(n,l.children),n.flags|=4096);return n}return c?(Qi(),c=l.fallback,E=n.mode,R=t.child,L=R.sibling,l=gi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,L!==null?c=gi(L,c):(c=Qa(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=vh(a):(R=E.cachePool,R!==null?(L=Ee._currentValue,R=R.parent!==L?{parent:L,pool:L}:R):R=rm(),E={baseLanes:E.baseLanes|a,cachePool:R}),c.memoizedState=E,c.childLanes=Eh(t,y,a),n.memoizedState=_h,l):(Gi(n),a=t.child,t=a.sibling,a=gi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Th(t,n){return n=Fu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Fu(t,n){return t=sn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ah(t,n,a){return Hr(n,t.child,null,a),t=Th(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Eg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),qc(t.return,n,a)}function Sh(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function Tg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(xe(t,n,l.children,a),l=Te.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Eg(t,a,n);else if(t.tag===19)Eg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch($(Te,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Gu(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Sh(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Gu(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Sh(n,!0,a,null,f);break;case"together":Sh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ai(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Zi|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Xs(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=gi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=gi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function bh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Cu(t)))}function d0(t,n,a){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Pi(n,Ee,t.memoizedState.cache),Ks();break;case 27:case 5:Ii(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Pi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Gi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?vg(t,n,a):(Gi(n),t=Ai(t,n,a),t!==null?t.sibling:null);Gi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Xs(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Tg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$(Te,Te.current),l)break;return null;case 22:case 23:return n.lanes=0,mg(t,n,a);case 24:Pi(n,Ee,t.memoizedState.cache)}return Ai(t,n,a)}function Ag(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ce=!0;else{if(!bh(t,a)&&(n.flags&128)===0)return Ce=!1,d0(t,n,a);Ce=(t.flags&131072)!==0}else Ce=!1,Pt&&(n.flags&1048576)!==0&&Jd(n,Du,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Mc(l)?(t=tr(l,t),n.tag=1,n=yg(null,n,l,t,a)):(n.tag=0,n=yh(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===zt){n.tag=11,n=hg(null,n,l,t,a);break t}else if(c===O){n.tag=14,n=fg(null,n,l,t,a);break t}}throw n=pe(l)||l,Error(r(306,n,""))}}return n;case 0:return yh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=tr(l,n.pendingProps),yg(t,n,l,c,a);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Kc(t,n),nl(n,l,null,a);var y=n.memoizedState;if(l=y.cache,Pi(n,Ee,l),l!==f.cache&&jc(n,[Ee],a,!0),el(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=_g(t,n,l,a);break t}else if(l!==c){c=vn(Error(r(424)),n),Fs(c),n=_g(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(re=On(t.firstChild),Xe=n,Pt=!0,Fa=null,Yn=!0,a=tg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ks(),l===c){n=Ai(t,n,a);break t}xe(t,n,l,a)}n=n.child}return n;case 26:return Ku(t,n),t===null?(a=wp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Pt||(a=n.type,t=n.pendingProps,l=uo(pt.current).createElement(a),l[ye]=n,l[he]=t,ze(l,a,t),le(l),n.stateNode=l):n.memoizedState=wp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ii(n),t===null&&Pt&&(l=n.stateNode=Sp(n.type,n.pendingProps,pt.current),Xe=n,Yn=!0,c=re,ta(n.type)?(rf=c,re=On(l.firstChild)):re=c),xe(t,n,n.pendingProps.children,a),Ku(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pt&&((c=l=re)&&(l=j0(l,n.type,n.pendingProps,Yn),l!==null?(n.stateNode=l,Xe=n,re=On(l.firstChild),Yn=!1,c=!0):c=!1),c||Xa(n)),Ii(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,tf(c,f)?l=null:y!==null&&tf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Wc(t,n,r0,null,null,a),bl._currentValue=c),Ku(t,n),xe(t,n,l,a),n.child;case 6:return t===null&&Pt&&((t=a=re)&&(a=k0(a,n.pendingProps,Yn),a!==null?(n.stateNode=a,Xe=n,re=null,t=!0):t=!1),t||Xa(n)),null;case 13:return vg(t,n,a);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Hr(n,null,l,a):xe(t,n,l,a),n.child;case 11:return hg(t,n,n.type,n.pendingProps,a);case 7:return xe(t,n,n.pendingProps,a),n.child;case 8:return xe(t,n,n.pendingProps.children,a),n.child;case 12:return xe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Pi(n,n.type,l.value),xe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,$a(n),c=je(c),l=l(c),n.flags|=1,xe(t,n,l,a),n.child;case 14:return fg(t,n,n.type,n.pendingProps,a);case 15:return dg(t,n,n.type,n.pendingProps,a);case 19:return Tg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Fu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=gi(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return mg(t,n,a);case 24:return $a(n),l=je(Ee),t===null?(c=Gc(),c===null&&(c=$t,f=kc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},Yc(n),Pi(n,Ee,c)):((t.lanes&a)!==0&&(Kc(t,n),nl(n,null,null,a),el()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Pi(n,Ee,l)):(l=f.cache,Pi(n,Ee,l),l!==c.cache&&jc(n,[Ee],a,!0))),xe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Si(t){t.flags|=4}function Sg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ip(n)){if(n=Sn.current,n!==null&&((Ot&4194048)===Ot?Kn!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||n!==Kn))throw Ws=Qc,sm;t.flags|=8192}}function Xu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ws():536870912,t.lanes|=n,Kr|=n)}function ol(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function m0(t,n,a){var l=n.pendingProps;switch(Lc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),vi(Ee),xn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ys(n)?Si(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,em())),ne(n),null;case 26:return a=n.memoizedState,t===null?(Si(n),a!==null?(ne(n),Sg(n,a)):(ne(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Si(n),ne(n),Sg(n,a)):(ne(n),n.flags&=-16777217):(t.memoizedProps!==l&&Si(n),ne(n),n.flags&=-16777217),null;case 27:ni(n),a=pt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ne(n),null}t=ot.current,Ys(n)?Wd(n):(t=Sp(c,l,a),n.stateNode=t,Si(n))}return ne(n),null;case 5:if(ni(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ne(n),null}if(t=ot.current,Ys(n))Wd(n);else{switch(c=uo(pt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[ye]=n,t[he]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Si(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=pt.current,Ys(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Xe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ye]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||pp(t.nodeValue,a)),t||Xa(n)}else t=uo(t).createTextNode(l),t[ye]=n,n.stateNode=t}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ys(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ye]=n}else Ks(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=em(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ti(n),n):(Ti(n),null)}if(Ti(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Xu(n,n.updateQueue),ne(n),null;case 4:return xn(),t===null&&Xh(n.stateNode.containerInfo),ne(n),null;case 10:return vi(n.type),ne(n),null;case 19:if(et(Te),c=n.memoizedState,c===null)return ne(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)ol(c,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Gu(t),f!==null){for(n.flags|=128,ol(c,!1),t=f.updateQueue,n.updateQueue=t,Xu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)$d(a,t),a=a.sibling;return $(Te,Te.current&1|2),n.child}t=t.sibling}c.tail!==null&&dn()>Ju&&(n.flags|=128,l=!0,ol(c,!1),n.lanes=4194304)}else{if(!l)if(t=Gu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Xu(n,t),ol(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Pt)return ne(n),null}else 2*dn()-c.renderingStartTime>Ju&&a!==536870912&&(n.flags|=128,l=!0,ol(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=dn(),n.sibling=null,t=Te.current,$(Te,l?t&1|2:t&1),n):(ne(n),null);case 22:case 23:return Ti(n),$c(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),a=n.updateQueue,a!==null&&Xu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&et(Ja),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),vi(Ee),ne(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function g0(t,n){switch(Lc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return vi(Ee),xn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ni(n),null;case 13:if(Ti(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ks()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return et(Te),null;case 4:return xn(),null;case 10:return vi(n.type),null;case 22:case 23:return Ti(n),$c(),t!==null&&et(Ja),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return vi(Ee),null;case 25:return null;default:return null}}function bg(t,n){switch(Lc(n),n.tag){case 3:vi(Ee),xn();break;case 26:case 27:case 5:ni(n);break;case 4:xn();break;case 13:Ti(n);break;case 19:et(Te);break;case 10:vi(n.type);break;case 22:case 23:Ti(n),$c(),t!==null&&et(Ja);break;case 24:vi(Ee)}}function cl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==c)}}catch(E){Xt(n,n.return,E)}}function Yi(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var R=a,L=E;try{L()}catch(H){Xt(c,R,H)}}}l=l.next}while(l!==f)}}catch(H){Xt(n,n.return,H)}}function Rg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{fm(n,a)}catch(l){Xt(t,t.return,l)}}}function wg(t,n,a){a.props=tr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(t,n,l)}}function hl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Xt(t,n,c)}}function Fn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Xt(t,n,c)}else a.current=null}function Dg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Xt(t,t.return,c)}}function Rh(t,n,a){try{var l=t.stateNode;z0(l,t.type,a,n),l[he]=n}catch(c){Xt(t,t.return,c)}}function Cg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ta(t.type)||t.tag===4}function wh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Cg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ta(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=lo));else if(l!==4&&(l===27&&ta(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Dh(t,n,a),t=t.sibling;t!==null;)Dh(t,n,a),t=t.sibling}function Zu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&ta(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Zu(t,n,a),t=t.sibling;t!==null;)Zu(t,n,a),t=t.sibling}function Vg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ze(n,l,a),n[ye]=t,n[he]=a}catch(f){Xt(t,t.return,f)}}var bi=!1,oe=!1,Ch=!1,Ng=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function p0(t,n){if(t=t.containerInfo,Jh=go,t=jd(t),wc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,R=-1,L=0,H=0,Y=t,P=null;e:for(;;){for(var q;Y!==a||c!==0&&Y.nodeType!==3||(E=y+c),Y!==f||l!==0&&Y.nodeType!==3||(R=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(q=Y.firstChild)!==null;)P=Y,Y=q;for(;;){if(Y===t)break e;if(P===a&&++L===c&&(E=y),P===f&&++H===l&&(R=y),(q=Y.nextSibling)!==null)break;Y=P,P=Y.parentNode}Y=q}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Wh={focusedElem:t,selectionRange:a},go=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var dt=tr(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(dt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ht){Xt(a,a.return,ht)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)nf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":nf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}}function Ig(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ki(t,a),l&4&&cl(5,a);break;case 1:if(Ki(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){Xt(a,a.return,y)}else{var c=tr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xt(a,a.return,y)}}l&64&&Rg(a),l&512&&hl(a,a.return);break;case 3:if(Ki(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{fm(t,n)}catch(y){Xt(a,a.return,y)}}break;case 27:n===null&&l&4&&Vg(a);case 26:case 5:Ki(t,a),n===null&&l&4&&Dg(a),l&512&&hl(a,a.return);break;case 12:Ki(t,a);break;case 13:Ki(t,a),l&4&&xg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=R0.bind(null,a),H0(t,a))));break;case 22:if(l=a.memoizedState!==null||bi,!l){n=n!==null&&n.memoizedState!==null||oe,c=bi;var f=oe;bi=l,(oe=n)&&!f?Fi(t,a,(a.subtreeFlags&8772)!==0):Ki(t,a),bi=c,oe=f}break;case 30:break;default:Ki(t,a)}}function Og(t){var n=t.alternate;n!==null&&(t.alternate=null,Og(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ui(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,$e=!1;function Ri(t,n,a){for(a=a.child;a!==null;)Mg(t,n,a),a=a.sibling}function Mg(t,n,a){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(ae,a)}catch{}switch(a.tag){case 26:oe||Fn(a,n),Ri(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:oe||Fn(a,n);var l=te,c=$e;ta(a.type)&&(te=a.stateNode,$e=!1),Ri(t,n,a),El(a.stateNode),te=l,$e=c;break;case 5:oe||Fn(a,n);case 6:if(l=te,c=$e,te=null,Ri(t,n,a),te=l,$e=c,te!==null)if($e)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(a.stateNode)}catch(f){Xt(a,n,f)}else try{te.removeChild(a.stateNode)}catch(f){Xt(a,n,f)}break;case 18:te!==null&&($e?(t=te,Tp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Cl(t)):Tp(te,a.stateNode));break;case 4:l=te,c=$e,te=a.stateNode.containerInfo,$e=!0,Ri(t,n,a),te=l,$e=c;break;case 0:case 11:case 14:case 15:oe||Yi(2,a,n),oe||Yi(4,a,n),Ri(t,n,a);break;case 1:oe||(Fn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&wg(a,n,l)),Ri(t,n,a);break;case 21:Ri(t,n,a);break;case 22:oe=(l=oe)||a.memoizedState!==null,Ri(t,n,a),oe=l;break;default:Ri(t,n,a)}}function xg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(a){Xt(n,n.return,a)}}function y0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ng),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ng),n;default:throw Error(r(435,t.tag))}}function Vh(t,n){var a=y0(t);n.forEach(function(l){var c=w0.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function ln(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ta(E.type)){te=E.stateNode,$e=!1;break t}break;case 5:te=E.stateNode,$e=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,$e=!0;break t}E=E.return}if(te===null)throw Error(r(160));Mg(f,y,c),te=null,$e=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Ug(n,t),n=n.sibling}var In=null;function Ug(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),un(t),l&4&&(Yi(3,t,t.return),cl(3,t),Yi(5,t,t.return));break;case 1:ln(n,t),un(t),l&512&&(oe||a===null||Fn(a,a.return)),l&64&&bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=In;if(ln(n,t),un(t),l&512&&(oe||a===null||Fn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Va]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,a),f[ye]=t,le(f),l=f;break t;case"link":var y=Vp("link","href",c).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,a),c.head.appendChild(f);break;case"meta":if(y=Vp("meta","content",c).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[ye]=t,le(f),l=f}t.stateNode=l}else Np(c,t.type,t.stateNode);else t.stateNode=Cp(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Np(c,t.type,t.stateNode):Cp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Rh(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(n,t),un(t),l&512&&(oe||a===null||Fn(a,a.return)),a!==null&&l&4&&Rh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(n,t),un(t),l&512&&(oe||a===null||Fn(a,a.return)),t.flags&32){c=t.stateNode;try{gn(c,"")}catch(q){Xt(t,t.return,q)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Rh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Ch=!0);break;case 6:if(ln(n,t),un(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(q){Xt(t,t.return,q)}}break;case 3:if(ho=null,c=In,In=oo(n.containerInfo),ln(n,t),In=c,un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Cl(n.containerInfo)}catch(q){Xt(t,t.return,q)}Ch&&(Ch=!1,zg(t));break;case 4:l=In,In=oo(t.stateNode.containerInfo),ln(n,t),un(t),In=l;break;case 12:ln(n,t),un(t);break;case 13:ln(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Uh=dn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vh(t,l)));break;case 22:c=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,L=bi,H=oe;if(bi=L||c,oe=H||R,ln(n,t),oe=H,bi=L,un(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||R||bi||oe||er(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,P=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(q){Xt(R,R.return,q)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(q){Xt(R,R.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Vh(t,a))));break;case 19:ln(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vh(t,l)));break;case 30:break;case 21:break;default:ln(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Cg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=wh(t);Zu(t,f,c);break;case 5:var y=a.stateNode;a.flags&32&&(gn(y,""),a.flags&=-33);var E=wh(t);Zu(t,E,y);break;case 3:case 4:var R=a.stateNode.containerInfo,L=wh(t);Dh(t,L,R);break;default:throw Error(r(161))}}catch(H){Xt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function zg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;zg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ki(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ig(t,n.alternate,n),n=n.sibling}function er(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Yi(4,n,n.return),er(n);break;case 1:Fn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&wg(n,n.return,a),er(n);break;case 27:El(n.stateNode);case 26:case 5:Fn(n,n.return),er(n);break;case 22:n.memoizedState===null&&er(n);break;case 30:er(n);break;default:er(n)}t=t.sibling}}function Fi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(c,f,a),cl(4,f);break;case 1:if(Fi(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(L){Xt(l,l.return,L)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)hm(R[c],E)}catch(L){Xt(l,l.return,L)}}a&&y&64&&Rg(f),hl(f,f.return);break;case 27:Vg(f);case 26:case 5:Fi(c,f,a),a&&l===null&&y&4&&Dg(f),hl(f,f.return);break;case 12:Fi(c,f,a);break;case 13:Fi(c,f,a),a&&y&4&&xg(c,f);break;case 22:f.memoizedState===null&&Fi(c,f,a),hl(f,f.return);break;case 30:break;default:Fi(c,f,a)}n=n.sibling}}function Nh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Zs(a))}function Ih(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Zs(t))}function Xn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Lg(t,n,a,l),n=n.sibling}function Lg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(t,n,a,l),c&2048&&cl(9,n);break;case 1:Xn(t,n,a,l);break;case 3:Xn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Zs(t)));break;case 12:if(c&2048){Xn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Xt(n,n.return,R)}}else Xn(t,n,a,l);break;case 13:Xn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(t,n,a,l):fl(t,n):f._visibility&2?Xn(t,n,a,l):(f._visibility|=2,Gr(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&Nh(y,n);break;case 24:Xn(t,n,a,l),c&2048&&Ih(n.alternate,n);break;default:Xn(t,n,a,l)}}function Gr(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=a,R=l,L=y.flags;switch(y.tag){case 0:case 11:case 15:Gr(f,y,E,R,c),cl(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?Gr(f,y,E,R,c):fl(f,y):(H._visibility|=2,Gr(f,y,E,R,c)),c&&L&2048&&Nh(y.alternate,y);break;case 24:Gr(f,y,E,R,c),c&&L&2048&&Ih(y.alternate,y);break;default:Gr(f,y,E,R,c)}n=n.sibling}}function fl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:fl(a,l),c&2048&&Nh(l.alternate,l);break;case 24:fl(a,l),c&2048&&Ih(l.alternate,l);break;default:fl(a,l)}n=n.sibling}}var dl=8192;function Qr(t){if(t.subtreeFlags&dl)for(t=t.child;t!==null;)Bg(t),t=t.sibling}function Bg(t){switch(t.tag){case 26:Qr(t),t.flags&dl&&t.memoizedState!==null&&nE(In,t.memoizedState,t.memoizedProps);break;case 5:Qr(t);break;case 3:case 4:var n=In;In=oo(t.stateNode.containerInfo),Qr(t),In=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=dl,dl=16777216,Qr(t),dl=n):Qr(t));break;default:Qr(t)}}function Pg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ml(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ve=l,jg(l,t)}Pg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qg(t),t=t.sibling}function qg(t){switch(t.tag){case 0:case 11:case 15:ml(t),t.flags&2048&&Yi(9,t,t.return);break;case 3:ml(t);break;case 12:ml(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,$u(t)):ml(t);break;default:ml(t)}}function $u(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ve=l,jg(l,t)}Pg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Yi(8,n,n.return),$u(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,$u(n));break;default:$u(n)}t=t.sibling}}function jg(t,n){for(;Ve!==null;){var a=Ve;switch(a.tag){case 0:case 11:case 15:Yi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zs(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ve=l;else t:for(a=t;Ve!==null;){l=Ve;var c=l.sibling,f=l.return;if(Og(l),l===a){Ve=null;break t}if(c!==null){c.return=f,Ve=c;break t}Ve=f}}}var _0={getCacheForType:function(t){var n=je(Ee),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},v0=typeof WeakMap=="function"?WeakMap:Map,Ht=0,$t=null,Dt=null,Ot=0,Gt=0,on=null,Xi=!1,Yr=!1,Oh=!1,wi=0,se=0,Zi=0,nr=0,Mh=0,bn=0,Kr=0,gl=null,Je=null,xh=!1,Uh=0,Ju=1/0,Wu=null,$i=null,Ue=0,Ji=null,Fr=null,Xr=0,zh=0,Lh=null,kg=null,pl=0,Bh=null;function cn(){if((Ht&2)!==0&&Ot!==0)return Ot&-Ot;if(k.T!==null){var t=zr;return t!==0?t:Qh()}return Mi()}function Hg(){bn===0&&(bn=(Ot&536870912)===0||Pt?Rs():536870912);var t=Sn.current;return t!==null&&(t.flags|=32),bn}function hn(t,n,a){(t===$t&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(Zr(t,0),Wi(t,Ot,bn,!1)),ai(t,a),((Ht&2)===0||t!==$t)&&(t===$t&&((Ht&2)===0&&(nr|=a),se===4&&Wi(t,Ot,bn,!1)),Zn(t))}function Gg(t,n,a){if((Ht&6)!==0)throw Error(r(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Ca(t,n),c=l?A0(t,n):jh(t,n,!0),f=l;do{if(c===0){Yr&&!l&&Wi(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!E0(a)){c=jh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=gl;var R=E.current.memoizedState.isDehydrated;if(R&&(Zr(E,y).flags|=256),y=jh(E,y,!1),y!==2){if(Oh&&!R){E.errorRecoveryDisabledLanes|=f,nr|=f,c=4;break t}f=Je,Je=c,f!==null&&(Je===null?Je=f:Je.push.apply(Je,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Zr(t,0),Wi(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Wi(l,n,bn,!Xi);break t;case 2:Je=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Uh+300-dn(),10<c)){if(Wi(l,n,bn,!Xi),dr(l,0,!0)!==0)break t;l.timeoutHandle=vp(Qg.bind(null,l,a,Je,Wu,xh,n,bn,nr,Kr,Xi,f,2,-0,0),c);break t}Qg(l,a,Je,Wu,xh,n,bn,nr,Kr,Xi,f,0,-0,0)}}break}while(!0);Zn(t)}function Qg(t,n,a,l,c,f,y,E,R,L,H,Y,P,q){if(t.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Sl={stylesheets:null,count:0,unsuspend:eE},Bg(n),Y=iE(),Y!==null)){t.cancelPendingCommit=Y(Jg.bind(null,t,n,f,a,l,c,y,E,R,H,1,P,q)),Wi(t,f,y,!L);return}Jg(t,n,f,a,l,c,y,E,R)}function E0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!rn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Wi(t,n,a,l){n&=~Mh,n&=~nr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-qe(c),y=1<<f;l[f]=-1,c&=~y}a!==0&&Un(t,a,n)}function to(){return(Ht&6)===0?(yl(0),!1):!0}function Ph(){if(Dt!==null){if(Gt===0)var t=Dt.return;else t=Dt,_i=Za=null,nh(t),kr=null,ll=0,t=Dt;for(;t!==null;)bg(t.alternate,t),t=t.return;Dt=null}}function Zr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,B0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ph(),$t=t,Dt=a=gi(t.current,null),Ot=n,Gt=0,on=null,Xi=!1,Yr=Ca(t,n),Oh=!1,Kr=bn=Mh=nr=Zi=se=0,Je=gl=null,xh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-qe(l),f=1<<c;n|=t[c],l&=~f}return wi=n,Au(),a}function Yg(t,n){At=null,k.H=ju,n===Js||n===Iu?(n=om(),Gt=3):n===sm?(n=om(),Gt=4):Gt=n===cg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,on=n,Dt===null&&(se=1,Yu(t,vn(n,t.current)))}function Kg(){var t=k.H;return k.H=ju,t===null?ju:t}function Fg(){var t=k.A;return k.A=_0,t}function qh(){se=4,Xi||(Ot&4194048)!==Ot&&Sn.current!==null||(Yr=!0),(Zi&134217727)===0&&(nr&134217727)===0||$t===null||Wi($t,Ot,bn,!1)}function jh(t,n,a){var l=Ht;Ht|=2;var c=Kg(),f=Fg();($t!==t||Ot!==n)&&(Wu=null,Zr(t,n)),n=!1;var y=se;t:do try{if(Gt!==0&&Dt!==null){var E=Dt,R=on;switch(Gt){case 8:Ph(),y=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var L=Gt;if(Gt=0,on=null,$r(t,E,R,L),a&&Yr){y=0;break t}break;default:L=Gt,Gt=0,on=null,$r(t,E,R,L)}}T0(),y=se;break}catch(H){Yg(t,H)}while(!0);return n&&t.shellSuspendCounter++,_i=Za=null,Ht=l,k.H=c,k.A=f,Dt===null&&($t=null,Ot=0,Au()),y}function T0(){for(;Dt!==null;)Xg(Dt)}function A0(t,n){var a=Ht;Ht|=2;var l=Kg(),c=Fg();$t!==t||Ot!==n?(Wu=null,Ju=dn()+500,Zr(t,n)):Yr=Ca(t,n);t:do try{if(Gt!==0&&Dt!==null){n=Dt;var f=on;e:switch(Gt){case 1:Gt=0,on=null,$r(t,n,f,1);break;case 2:case 9:if(lm(f)){Gt=0,on=null,Zg(n);break}n=function(){Gt!==2&&Gt!==9||$t!==t||(Gt=7),Zn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:lm(f)?(Gt=0,on=null,Zg(n)):(Gt=0,on=null,$r(t,n,f,7));break;case 5:var y=null;switch(Dt.tag){case 26:y=Dt.memoizedState;case 5:case 27:var E=Dt;if(!y||Ip(y)){Gt=0,on=null;var R=E.sibling;if(R!==null)Dt=R;else{var L=E.return;L!==null?(Dt=L,eo(L)):Dt=null}break e}}Gt=0,on=null,$r(t,n,f,5);break;case 6:Gt=0,on=null,$r(t,n,f,6);break;case 8:Ph(),se=6;break t;default:throw Error(r(462))}}S0();break}catch(H){Yg(t,H)}while(!0);return _i=Za=null,k.H=l,k.A=c,Ht=a,Dt!==null?0:($t=null,Ot=0,Au(),se)}function S0(){for(;Dt!==null&&!Ts();)Xg(Dt)}function Xg(t){var n=Ag(t.alternate,t,wi);t.memoizedProps=t.pendingProps,n===null?eo(t):Dt=n}function Zg(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=pg(a,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=pg(a,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:nh(n);default:bg(a,n),n=Dt=$d(n,wi),n=Ag(a,n,wi)}t.memoizedProps=t.pendingProps,n===null?eo(t):Dt=n}function $r(t,n,a,l){_i=Za=null,nh(n),kr=null,ll=0;var c=n.return;try{if(f0(t,c,n,a,Ot)){se=1,Yu(t,vn(a,t.current)),Dt=null;return}}catch(f){if(c!==null)throw Dt=c,f;se=1,Yu(t,vn(a,t.current)),Dt=null;return}n.flags&32768?(Pt||l===1?t=!0:Yr||(Ot&536870912)!==0?t=!1:(Xi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),$g(n,t)):eo(n)}function eo(t){var n=t;do{if((n.flags&32768)!==0){$g(n,Xi);return}t=n.return;var a=m0(n.alternate,n,wi);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);se===0&&(se=5)}function $g(t,n){do{var a=g0(t.alternate,t);if(a!==null){a.flags&=32767,Dt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=a}while(t!==null);se=6,Dt=null}function Jg(t,n,a,l,c,f,y,E,R){t.cancelPendingCommit=null;do no();while(Ue!==0);if((Ht&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Ic,Ds(t,a,f,y,E,R),t===$t&&(Dt=$t=null,Ot=0),Fr=n,Ji=t,Xr=a,zh=f,Lh=c,kg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,D0(ba,function(){return ip(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=k.T,k.T=null,c=tt.p,tt.p=2,y=Ht,Ht|=4;try{p0(t,n,a)}finally{Ht=y,tt.p=c,k.T=l}}Ue=1,Wg(),tp(),ep()}}function Wg(){if(Ue===1){Ue=0;var t=Ji,n=Fr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=k.T,k.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{Ug(n,t);var f=Wh,y=jd(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&qd(E.ownerDocument.documentElement,E)){if(R!==null&&wc(E)){var L=R.start,H=R.end;if(H===void 0&&(H=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(H,E.value.length);else{var Y=E.ownerDocument||document,P=Y&&Y.defaultView||window;if(P.getSelection){var q=P.getSelection(),dt=E.textContent.length,ht=Math.min(R.start,dt),Ft=R.end===void 0?ht:Math.min(R.end,dt);!q.extend&&ht>Ft&&(y=Ft,Ft=ht,ht=y);var x=Pd(E,ht),I=Pd(E,Ft);if(x&&I&&(q.rangeCount!==1||q.anchorNode!==x.node||q.anchorOffset!==x.offset||q.focusNode!==I.node||q.focusOffset!==I.offset)){var z=Y.createRange();z.setStart(x.node,x.offset),q.removeAllRanges(),ht>Ft?(q.addRange(z),q.extend(I.node,I.offset)):(z.setEnd(I.node,I.offset),q.addRange(z))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var G=Y[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}go=!!Jh,Wh=Jh=null}finally{Ht=c,tt.p=l,k.T=a}}t.current=n,Ue=2}}function tp(){if(Ue===2){Ue=0;var t=Ji,n=Fr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=k.T,k.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{Ig(t,n.alternate,n)}finally{Ht=c,tt.p=l,k.T=a}}Ue=3}}function ep(){if(Ue===4||Ue===3){Ue=0,$l();var t=Ji,n=Fr,a=Xr,l=kg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,Fr=Ji=null,np(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&($i=null),mr(a),n=n.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=k.T,c=tt.p,tt.p=2,k.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{k.T=n,tt.p=c}}(Xr&3)!==0&&no(),Zn(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===Bh?pl++:(pl=0,Bh=t):pl=0,yl(0)}}function np(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Zs(n)))}function no(t){return Wg(),tp(),ep(),ip()}function ip(){if(Ue!==5)return!1;var t=Ji,n=zh;zh=0;var a=mr(Xr),l=k.T,c=tt.p;try{tt.p=32>a?32:a,k.T=null,a=Lh,Lh=null;var f=Ji,y=Xr;if(Ue=0,Fr=Ji=null,Xr=0,(Ht&6)!==0)throw Error(r(331));var E=Ht;if(Ht|=4,qg(f.current),Lg(f,f.current,y,a),Ht=E,yl(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(ae,f)}catch{}return!0}finally{tt.p=c,k.T=l,np(t,n)}}function ap(t,n,a){n=vn(a,n),n=ph(t.stateNode,n,2),t=ki(t,n,2),t!==null&&(ai(t,2),Zn(t))}function Xt(t,n,a){if(t.tag===3)ap(t,t,a);else for(;n!==null;){if(n.tag===3){ap(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($i===null||!$i.has(l))){t=vn(a,t),a=ug(2),l=ki(n,a,2),l!==null&&(og(a,l,n,t),ai(l,2),Zn(l));break}}n=n.return}}function kh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new v0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Oh=!0,c.add(a),t=b0.bind(null,t,n,a),n.then(t,t))}function b0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,$t===t&&(Ot&a)===a&&(se===4||se===3&&(Ot&62914560)===Ot&&300>dn()-Uh?(Ht&2)===0&&Zr(t,0):Mh|=a,Kr===Ot&&(Kr=0)),Zn(t)}function rp(t,n){n===0&&(n=ws()),t=Or(t,n),t!==null&&(ai(t,n),Zn(t))}function R0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),rp(t,a)}function w0(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),rp(t,a)}function D0(t,n){return Aa(t,n)}var io=null,Jr=null,Hh=!1,ao=!1,Gh=!1,ir=0;function Zn(t){t!==Jr&&t.next===null&&(Jr===null?io=Jr=t:Jr=Jr.next=t),ao=!0,Hh||(Hh=!0,V0())}function yl(t,n){if(!Gh&&ao){Gh=!0;do for(var a=!1,l=io;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-qe(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,op(l,f))}else f=Ot,f=dr(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ca(l,f)||(a=!0,op(l,f));l=l.next}while(a);Gh=!1}}function C0(){sp()}function sp(){ao=Hh=!1;var t=0;ir!==0&&(L0()&&(t=ir),ir=0);for(var n=dn(),a=null,l=io;l!==null;){var c=l.next,f=lp(l,n);f===0?(l.next=null,a===null?io=c:a.next=c,c===null&&(Jr=a)):(a=l,(t!==0||(f&3)!==0)&&(ao=!0)),l=c}yl(t)}function lp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-qe(f),E=1<<y,R=c[y];R===-1?((E&a)===0||(E&l)!==0)&&(c[y]=bs(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,a=Ot,a=dr(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Sa(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ca(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Sa(l),mr(a)){case 2:case 8:a=hr;break;case 32:a=ba;break;case 268435456:a=fr;break;default:a=ba}return l=up.bind(null,t),a=Aa(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Sa(l),t.callbackPriority=2,t.callbackNode=null,2}function up(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(no()&&t.callbackNode!==a)return null;var l=Ot;return l=dr(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Gg(t,l,n),lp(t,dn()),t.callbackNode!=null&&t.callbackNode===a?up.bind(null,t):null)}function op(t,n){if(no())return null;Gg(t,n,!0)}function V0(){P0(function(){(Ht&6)!==0?Aa(As,C0):sp()})}function Qh(){return ir===0&&(ir=Rs()),ir}function cp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Er(""+t)}function hp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function N0(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=cp((c[he]||null).action),y=l.submitter;y&&(n=(n=y[he]||null)?cp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Tr("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ir!==0){var R=y?hp(c,y):new FormData(c);hh(a,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?hp(c,y):new FormData(c),hh(a,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var Yh=0;Yh<Nc.length;Yh++){var Kh=Nc[Yh],I0=Kh.toLowerCase(),O0=Kh[0].toUpperCase()+Kh.slice(1);Nn(I0,"on"+O0)}Nn(Gd,"onAnimationEnd"),Nn(Qd,"onAnimationIteration"),Nn(Yd,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(Xv,"onTransitionRun"),Nn(Zv,"onTransitionStart"),Nn($v,"onTransitionCancel"),Nn(Kd,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function fp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],R=E.instance,L=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=L;try{f(c)}catch(H){Qu(H)}c.currentTarget=null,f=R}else for(y=0;y<l.length;y++){if(E=l[y],R=E.instance,L=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=L;try{f(c)}catch(H){Qu(H)}c.currentTarget=null,f=R}}}}function Ct(t,n){var a=n[Vs];a===void 0&&(a=n[Vs]=new Set);var l=t+"__bubble";a.has(l)||(dp(n,t,2,!1),a.add(l))}function Fh(t,n,a){var l=0;n&&(l|=4),dp(a,t,l,n)}var ro="_reactListening"+Math.random().toString(36).slice(2);function Xh(t){if(!t[ro]){t[ro]=!0,Ns.forEach(function(a){a!=="selectionchange"&&(M0.has(a)||Fh(a,!1,t),Fh(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ro]||(n[ro]=!0,Fh("selectionchange",!1,n))}}function dp(t,n,a,l){switch(Lp(n)){case 2:var c=sE;break;case 8:c=lE;break;default:c=cf}a=c.bind(null,n,a,t),c=void 0,!yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function Zh(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ri(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){l=f=y;continue t}E=E.parentNode}}l=l.return}lu(function(){var L=f,H=pn(a),Y=[];t:{var P=Fd.get(t);if(P!==void 0){var q=Tr,dt=t;switch(t){case"keypress":if(jn(a)===0)break t;case"keydown":case"keyup":q=Dr;break;case"focusin":dt="focus",q=br;break;case"focusout":dt="blur",q=br;break;case"beforeblur":case"afterblur":q=br;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=gu;break;case Gd:case Qd:case Yd:q=Rr;break;case Kd:q=yu;break;case"scroll":case"scrollend":q=uu;break;case"wheel":q=Cr;break;case"copy":case"cut":case"paste":q=wr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ks;break;case"toggle":case"beforetoggle":q=vu}var ht=(n&4)!==0,Ft=!ht&&(t==="scroll"||t==="scrollend"),x=ht?P!==null?P+"Capture":null:P;ht=[];for(var I=L,z;I!==null;){var G=I;if(z=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||z===null||x===null||(G=za(I,x),G!=null&&ht.push(vl(I,G,z))),Ft)break;I=I.return}0<ht.length&&(P=new q(P,dt,null,a,H),Y.push({event:P,listeners:ht}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",P&&a!==oi&&(dt=a.relatedTarget||a.fromElement)&&(ri(dt)||dt[mn]))break t;if((q||P)&&(P=H.window===H?H:(P=H.ownerDocument)?P.defaultView||P.parentWindow:window,q?(dt=a.relatedTarget||a.toElement,q=L,dt=dt?ri(dt):null,dt!==null&&(Ft=h(dt),ht=dt.tag,dt!==Ft||ht!==5&&ht!==27&&ht!==6)&&(dt=null)):(q=null,dt=L),q!==dt)){if(ht=_n,G="onMouseLeave",x="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(ht=ks,G="onPointerLeave",x="onPointerEnter",I="pointer"),Ft=q==null?P:Ln(q),z=dt==null?P:Ln(dt),P=new ht(G,I+"leave",q,a,H),P.target=Ft,P.relatedTarget=z,G=null,ri(H)===L&&(ht=new ht(x,I+"enter",dt,a,H),ht.target=z,ht.relatedTarget=Ft,G=ht),Ft=G,q&&dt)e:{for(ht=q,x=dt,I=0,z=ht;z;z=Wr(z))I++;for(z=0,G=x;G;G=Wr(G))z++;for(;0<I-z;)ht=Wr(ht),I--;for(;0<z-I;)x=Wr(x),z--;for(;I--;){if(ht===x||x!==null&&ht===x.alternate)break e;ht=Wr(ht),x=Wr(x)}ht=null}else ht=null;q!==null&&mp(Y,P,q,ht,!1),dt!==null&&Ft!==null&&mp(Y,Ft,dt,ht,!0)}}t:{if(P=L?Ln(L):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var at=Md;else if(ve(P))if(xd)at=Yv;else{at=Gv;var wt=Hv}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?L&&Us(L.elementType)&&(at=Md):at=Qv;if(at&&(at=at(t,L))){mi(Y,at,a,H);break t}wt&&wt(t,P,L),t==="focusout"&&L&&P.type==="number"&&L.memoizedProps.value!=null&&Li(P,"number",P.value)}switch(wt=L?Ln(L):window,t){case"focusin":(ve(wt)||wt.contentEditable==="true")&&(Vr=wt,Dc=L,Qs=null);break;case"focusout":Qs=Dc=Vr=null;break;case"mousedown":Cc=!0;break;case"contextmenu":case"mouseup":case"dragend":Cc=!1,kd(Y,a,H);break;case"selectionchange":if(Fv)break;case"keydown":case"keyup":kd(Y,a,H)}var st;if(Gn)t:{switch(t){case"compositionstart":var ft="onCompositionStart";break t;case"compositionend":ft="onCompositionEnd";break t;case"compositionupdate":ft="onCompositionUpdate";break t}ft=void 0}else Nt?j(t,a)&&(ft="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ft="onCompositionStart");ft&&(p&&a.locale!=="ko"&&(Nt||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Nt&&(st=Ls()):(qn=H,Bi="value"in qn?qn.value:qn.textContent,Nt=!0)),wt=so(L,ft),0<wt.length&&(ft=new qs(ft,t,null,a,H),Y.push({event:ft,listeners:wt}),st?ft.data=st:(st=W(a),st!==null&&(ft.data=st)))),(st=m?_e(t,a):It(t,a))&&(ft=so(L,"onBeforeInput"),0<ft.length&&(wt=new qs("onBeforeInput","beforeinput",null,a,H),Y.push({event:wt,listeners:ft}),wt.data=st)),N0(Y,t,L,a,H)}fp(Y,n)})}function vl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function so(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=za(t,a),c!=null&&l.unshift(vl(t,c,f)),c=za(t,n),c!=null&&l.push(vl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function Wr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function mp(t,n,a,l,c){for(var f=n._reactName,y=[];a!==null&&a!==l;){var E=a,R=E.alternate,L=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||L===null||(R=L,c?(L=za(a,f),L!=null&&y.unshift(vl(a,L,R))):c||(L=za(a,f),L!=null&&y.push(vl(a,L,R)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var x0=/\r\n?/g,U0=/\u0000|\uFFFD/g;function gp(t){return(typeof t=="string"?t:""+t).replace(x0,`
`).replace(U0,"")}function pp(t,n){return n=gp(n),gp(t)===n}function lo(){}function Kt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":Bn(t,"class",l);break;case"tabIndex":Bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,a,l);break;case"style":xs(t,l,f);break;case"data":if(n!=="object"){Bn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Er(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Kt(t,n,"name",c.name,c,null),Kt(t,n,"formEncType",c.formEncType,c,null),Kt(t,n,"formMethod",c.formMethod,c,null),Kt(t,n,"formTarget",c.formTarget,c,null)):(Kt(t,n,"encType",c.encType,c,null),Kt(t,n,"method",c.method,c,null),Kt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Er(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=lo);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Er(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),zi(t,"popover",l);break;case"xlinkActuate":Oe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Oe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Oe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Oe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Oe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Oe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":zi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ec.get(a)||a,zi(t,a,l))}}function $h(t,n,a,l,c,f){switch(a){case"style":xs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=lo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[he]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):zi(t,a,l)}}}function ze(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Kt(t,n,f,y,a,null)}}c&&Kt(t,n,"srcSet",a.srcSet,a,null),l&&Kt(t,n,"src",a.src,a,null);return;case"input":Ct("invalid",t);var E=f=y=c=null,R=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var H=a[l];if(H!=null)switch(l){case"name":c=H;break;case"type":y=H;break;case"checked":R=H;break;case"defaultChecked":L=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:Kt(t,n,l,H,a,null)}}Ma(t,f,E,R,L,y,c,!1),vr(t);return;case"select":Ct("invalid",t),l=y=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Kt(t,n,c,E,a,null)}n=f,a=y,t.multiple=!!l,n!=null?ui(t,!!l,n,!1):a!=null&&ui(t,!!l,a,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Kt(t,n,y,E,a,null)}xa(t,l,c,f),vr(t);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,R,l,a,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<_l.length;l++)Ct(_l[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Kt(t,n,L,l,a,null)}return;default:if(Us(n)){for(H in a)a.hasOwnProperty(H)&&(l=a[H],l!==void 0&&$h(t,n,H,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Kt(t,n,E,l,a,null))}function z0(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,R=null,L=null,H=null;for(q in a){var Y=a[q];if(a.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Y;default:l.hasOwnProperty(q)||Kt(t,n,q,null,l,Y)}}for(var P in l){var q=l[P];if(Y=a[P],l.hasOwnProperty(P)&&(q!=null||Y!=null))switch(P){case"type":f=q;break;case"name":c=q;break;case"checked":L=q;break;case"defaultChecked":H=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==Y&&Kt(t,n,P,q,l,Y)}}an(t,y,E,R,L,H,f,c);return;case"select":q=y=E=P=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=a[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&Kt(t,n,c,f,l,R)}n=E,a=y,l=q,P!=null?ui(t,!!a,P,!1):!!l!=!!a&&(n!=null?ui(t,!!a,n,!0):ui(t,!!a,a?[]:"",!1));return;case"textarea":q=P=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=a[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":P=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Kt(t,n,y,c,l,f)}Qt(t,P,q);return;case"option":for(var dt in a)if(P=a[dt],a.hasOwnProperty(dt)&&P!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":t.selected=!1;break;default:Kt(t,n,dt,null,l,P)}for(R in l)if(P=l[R],q=a[R],l.hasOwnProperty(R)&&P!==q&&(P!=null||q!=null))switch(R){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Kt(t,n,R,P,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in a)P=a[ht],a.hasOwnProperty(ht)&&P!=null&&!l.hasOwnProperty(ht)&&Kt(t,n,ht,null,l,P);for(L in l)if(P=l[L],q=a[L],l.hasOwnProperty(L)&&P!==q&&(P!=null||q!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,n));break;default:Kt(t,n,L,P,l,q)}return;default:if(Us(n)){for(var Ft in a)P=a[Ft],a.hasOwnProperty(Ft)&&P!==void 0&&!l.hasOwnProperty(Ft)&&$h(t,n,Ft,void 0,l,P);for(H in l)P=l[H],q=a[H],!l.hasOwnProperty(H)||P===q||P===void 0&&q===void 0||$h(t,n,H,P,l,q);return}}for(var x in a)P=a[x],a.hasOwnProperty(x)&&P!=null&&!l.hasOwnProperty(x)&&Kt(t,n,x,null,l,P);for(Y in l)P=l[Y],q=a[Y],!l.hasOwnProperty(Y)||P===q||P==null&&q==null||Kt(t,n,Y,P,l,q)}var Jh=null,Wh=null;function uo(t){return t.nodeType===9?t:t.ownerDocument}function yp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _p(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function tf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ef=null;function L0(){var t=window.event;return t&&t.type==="popstate"?t===ef?!1:(ef=t,!0):(ef=null,!1)}var vp=typeof setTimeout=="function"?setTimeout:void 0,B0=typeof clearTimeout=="function"?clearTimeout:void 0,Ep=typeof Promise=="function"?Promise:void 0,P0=typeof queueMicrotask=="function"?queueMicrotask:typeof Ep<"u"?function(t){return Ep.resolve(null).then(t).catch(q0)}:vp;function q0(t){setTimeout(function(){throw t})}function ta(t){return t==="head"}function Tp(t,n){var a=n,l=0,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var y=t.ownerDocument;if(a&1&&El(y.documentElement),a&2&&El(y.body),a&4)for(a=y.head,El(a),y=a.firstChild;y;){var E=y.nextSibling,R=y.nodeName;y[Va]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}if(c===0){t.removeChild(f),Cl(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Cl(n)}function nf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nf(a),Ui(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function j0(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Va])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function k0(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=On(t.nextSibling),t===null))return null;return t}function af(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function H0(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var rf=null;function Ap(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Sp(t,n,a){switch(n=uo(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function El(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ui(t)}var Rn=new Map,bp=new Set;function oo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Di=tt.d;tt.d={f:G0,r:Q0,D:Y0,C:K0,L:F0,m:X0,X:$0,S:Z0,M:J0};function G0(){var t=Di.f(),n=to();return t||n}function Q0(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?Gm(n):Di.r(t)}var ts=typeof document>"u"?null:document;function Rp(t,n,a){var l=ts;if(l&&typeof n=="string"&&n){var c=fe(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),bp.has(c)||(bp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),le(n),l.head.appendChild(n)))}}function Y0(t){Di.D(t),Rp("dns-prefetch",t,null)}function K0(t,n){Di.C(t,n),Rp("preconnect",t,n)}function F0(t,n,a){Di.L(t,n,a);var l=ts;if(l&&t&&n){var c='link[rel="preload"][as="'+fe(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+fe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+fe(a.imageSizes)+'"]')):c+='[href="'+fe(t)+'"]';var f=c;switch(n){case"style":f=es(t);break;case"script":f=ns(t)}Rn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Rn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Tl(f))||n==="script"&&l.querySelector(Al(f))||(n=l.createElement("link"),ze(n,"link",t),le(n),l.head.appendChild(n)))}}function X0(t,n){Di.m(t,n);var a=ts;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+fe(l)+'"][href="'+fe(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ns(t)}if(!Rn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Rn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Al(f)))return}l=a.createElement("link"),ze(l,"link",t),le(l),a.head.appendChild(l)}}}function Z0(t,n,a){Di.S(t,n,a);var l=ts;if(l&&t){var c=Ye(l).hoistableStyles,f=es(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Tl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Rn.get(f))&&sf(t,a);var R=y=l.createElement("link");le(R),ze(R,"link",t),R._p=new Promise(function(L,H){R.onload=L,R.onerror=H}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,co(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function $0(t,n){Di.X(t,n);var a=ts;if(a&&t){var l=Ye(a).hoistableScripts,c=ns(t),f=l.get(c);f||(f=a.querySelector(Al(c)),f||(t=A({src:t,async:!0},n),(n=Rn.get(c))&&lf(t,n),f=a.createElement("script"),le(f),ze(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function J0(t,n){Di.M(t,n);var a=ts;if(a&&t){var l=Ye(a).hoistableScripts,c=ns(t),f=l.get(c);f||(f=a.querySelector(Al(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Rn.get(c))&&lf(t,n),f=a.createElement("script"),le(f),ze(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function wp(t,n,a,l){var c=(c=pt.current)?oo(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=es(a.href),a=Ye(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=es(a.href);var f=Ye(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Tl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Rn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Rn.set(t,a),f||W0(c,t,a,y.state))),n&&l===null)throw Error(r(528,""));return y}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ns(a),a=Ye(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function es(t){return'href="'+fe(t)+'"'}function Tl(t){return'link[rel="stylesheet"]['+t+"]"}function Dp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function W0(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",a),le(n),t.head.appendChild(n))}function ns(t){return'[src="'+fe(t)+'"]'}function Al(t){return"script[async]"+t}function Cp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+fe(a.href)+'"]');if(l)return n.instance=l,le(l),l;var c=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),le(l),ze(l,"style",c),co(l,a.precedence,t),n.instance=l;case"stylesheet":c=es(a.href);var f=t.querySelector(Tl(c));if(f)return n.state.loading|=4,n.instance=f,le(f),f;l=Dp(a),(c=Rn.get(c))&&sf(l,c),f=(t.ownerDocument||t).createElement("link"),le(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),ze(f,"link",l),n.state.loading|=4,co(f,a.precedence,t),n.instance=f;case"script":return f=ns(a.src),(c=t.querySelector(Al(f)))?(n.instance=c,le(c),c):(l=a,(c=Rn.get(f))&&(l=A({},a),lf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),le(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,co(l,a.precedence,t));return n.instance}function co(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function lf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ho=null;function Vp(t,n,a){if(ho===null){var l=new Map,c=ho=new Map;c.set(a,l)}else c=ho,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Va]||f[ye]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Np(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function tE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ip(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Sl=null;function eE(){}function nE(t,n,a){if(Sl===null)throw Error(r(475));var l=Sl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=es(a.href),f=t.querySelector(Tl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=fo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,le(f);return}f=t.ownerDocument||t,a=Dp(a),(c=Rn.get(c))&&sf(a,c),f=f.createElement("link"),le(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),ze(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=fo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function iE(){if(Sl===null)throw Error(r(475));var t=Sl;return t.stylesheets&&t.count===0&&uf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&uf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function fo(){if(this.count--,this.count===0){if(this.stylesheets)uf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var mo=null;function uf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,mo=new Map,n.forEach(aE,t),mo=null,fo.call(t))}function aE(t,n){if(!(n.state.loading&4)){var a=mo.get(t);if(a)var l=a.get(null);else{a=new Map,mo.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,c),a.set(y,c),this.count++,l=fo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var bl={$$typeof:gt,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function rE(t,n,a,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Op(t,n,a,l,c,f,y,E,R,L,H,Y){return t=new rE(t,n,a,y,E,R,L,Y),n=1,f===!0&&(n|=24),f=sn(3,null,null,n),t.current=f,f.stateNode=t,n=kc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Yc(f),t}function Mp(t){return t?(t=Mr,t):Mr}function xp(t,n,a,l,c,f){c=Mp(c),l.context===null?l.context=c:l.pendingContext=c,l=ji(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ki(t,l,n),a!==null&&(hn(a,t,n),tl(a,t,n))}function Up(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function of(t,n){Up(t,n),(t=t.alternate)&&Up(t,n)}function zp(t){if(t.tag===13){var n=Or(t,67108864);n!==null&&hn(n,t,67108864),of(t,67108864)}}var go=!0;function sE(t,n,a,l){var c=k.T;k.T=null;var f=tt.p;try{tt.p=2,cf(t,n,a,l)}finally{tt.p=f,k.T=c}}function lE(t,n,a,l){var c=k.T;k.T=null;var f=tt.p;try{tt.p=8,cf(t,n,a,l)}finally{tt.p=f,k.T=c}}function cf(t,n,a,l){if(go){var c=hf(l);if(c===null)Zh(t,n,l,po,a),Bp(t,l);else if(oE(c,t,n,a,l))l.stopPropagation();else if(Bp(t,l),n&4&&-1<uE.indexOf(t)){for(;c!==null;){var f=zn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Dn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-qe(y);E.entanglements[1]|=R,y&=~R}Zn(f),(Ht&6)===0&&(Ju=dn()+500,yl(0))}}break;case 13:E=Or(f,2),E!==null&&hn(E,f,2),to(),of(f,2)}if(f=hf(l),f===null&&Zh(t,n,l,po,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else Zh(t,n,l,null,a)}}function hf(t){return t=pn(t),ff(t)}var po=null;function ff(t){if(po=null,t=ri(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return po=t,null}function Lp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mc()){case As:return 2;case hr:return 8;case ba:case gc:return 32;case fr:return 268435456;default:return 32}default:return 32}}var df=!1,ea=null,na=null,ia=null,Rl=new Map,wl=new Map,aa=[],uE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bp(t,n){switch(t){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":Rl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(n.pointerId)}}function Dl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=zn(n),n!==null&&zp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function oE(t,n,a,l,c){switch(n){case"focusin":return ea=Dl(ea,t,n,a,l,c),!0;case"dragenter":return na=Dl(na,t,n,a,l,c),!0;case"mouseover":return ia=Dl(ia,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Rl.set(f,Dl(Rl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,wl.set(f,Dl(wl.get(f)||null,t,n,a,l,c)),!0}return!1}function Pp(t){var n=ri(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,tu(t.priority,function(){if(a.tag===13){var l=cn();l=Oi(l);var c=Or(a,l);c!==null&&hn(c,a,l),of(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=hf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);oi=l,a.target.dispatchEvent(l),oi=null}else return n=zn(a),n!==null&&zp(n),t.blockedOn=a,!1;n.shift()}return!0}function qp(t,n,a){yo(t)&&a.delete(n)}function cE(){df=!1,ea!==null&&yo(ea)&&(ea=null),na!==null&&yo(na)&&(na=null),ia!==null&&yo(ia)&&(ia=null),Rl.forEach(qp),wl.forEach(qp)}function _o(t,n){t.blockedOn===n&&(t.blockedOn=null,df||(df=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,cE)))}var vo=null;function jp(t){vo!==t&&(vo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){vo===t&&(vo=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(ff(l||a)===null)continue;break}var f=zn(a);f!==null&&(t.splice(n,3),n-=3,hh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Cl(t){function n(R){return _o(R,t)}ea!==null&&_o(ea,t),na!==null&&_o(na,t),ia!==null&&_o(ia,t),Rl.forEach(n),wl.forEach(n);for(var a=0;a<aa.length;a++){var l=aa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<aa.length&&(a=aa[0],a.blockedOn===null);)Pp(a),a.blockedOn===null&&aa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],y=c[he]||null;if(typeof f=="function")y||jp(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[he]||null)E=y.formAction;else if(ff(c)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),jp(a)}}}function mf(t){this._internalRoot=t}Eo.prototype.render=mf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=cn();xp(a,l,t,n,null,null)},Eo.prototype.unmount=mf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;xp(t.current,2,null,t,null,null),to(),n[mn]=null}};function Eo(t){this._internalRoot=t}Eo.prototype.unstable_scheduleHydration=function(t){if(t){var n=Mi();t={blockedOn:null,target:t,priority:n};for(var a=0;a<aa.length&&n!==0&&n<aa[a].priority;a++);aa.splice(a,0,t),a===0&&Pp(t)}};var kp=e.version;if(kp!=="19.1.0")throw Error(r(527,kp,"19.1.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var hE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var To=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!To.isDisabled&&To.supportsFiber)try{ae=To.inject(hE),kt=To}catch{}}return Nl.createRoot=function(t,n){if(!u(t))throw Error(r(299));var a=!1,l="",c=ag,f=rg,y=sg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Op(t,1,!1,null,null,a,l,c,f,y,E,null),t[mn]=n.current,Xh(t),new mf(n)},Nl.hydrateRoot=function(t,n,a){if(!u(t))throw Error(r(299));var l=!1,c="",f=ag,y=rg,E=sg,R=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),n=Op(t,1,!0,n,a??null,l,c,f,y,E,R,L),n.context=Mp(null),a=n.current,l=cn(),l=Oi(l),c=ji(l),c.callback=null,ki(a,c,l),a=l,n.current.lanes=a,ai(n,a),Zn(n),t[mn]=n.current,Xh(t),new Eo(n)},Nl.version="19.1.0",Nl}var Jp;function TE(){if(Jp)return yf.exports;Jp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),yf.exports=EE(),yf.exports}var AE=TE();function SE({eventHandlerUsuarioRegister:s}){const[e,i]=tn.useState(""),[r,u]=tn.useState(!1);tn.useEffect(()=>{const _=localStorage.getItem("userName");_&&(i(_),u(!0),s({isRegistered:!0,userName:_}))},[]);const h=_=>{_.preventDefault(),e.trim()&&(localStorage.setItem("userName",e),u(!0))},d=()=>{localStorage.removeItem("userName"),i(""),u(!1)},g=()=>{window.location.reload()};return rt.jsxs("div",{className:"card",children:[rt.jsxs("div",{className:"text-center",children:[rt.jsx("h1",{className:"title",children:"Bienvenido"}),r?rt.jsxs("p",{className:"success-message",children:["Hola, ",e,"!"]}):rt.jsx("p",{className:"subtitle",children:"Por favor ingresa tu nombre para continuar"})]}),r?rt.jsxs("div",{className:"mt-6",children:[rt.jsx("p",{className:"mb-4 subtitle",children:"Tu nombre ha sido guardado para esta sesin."}),rt.jsxs("div",{className:"groupButtons",children:[rt.jsx("button",{onClick:d,className:"btn btn-secondary",children:"Cambiar nombre"}),rt.jsx("button",{onClick:g,className:"btn btn-primary",children:"Continuar"})]})]}):rt.jsxs("form",{onSubmit:h,className:"form",children:[rt.jsxs("div",{className:"form-group",children:[rt.jsx("label",{htmlFor:"name",className:"form-label",children:"Escribe tu nombre"}),rt.jsx("div",{children:rt.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:e,onChange:_=>i(_.target.value),className:"form-input",placeholder:"Tu nombre"})})]}),rt.jsx("div",{children:rt.jsx("button",{type:"submit",disabled:!e.trim(),className:`btn btn-primary ${e.trim()?"":"disabled"}`,children:"Ingresar"})})]})]})}const bE=()=>{};var Wp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let u=s.charCodeAt(r);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},RE=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const u=s[i++];if(u<128)e[r++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[r++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],g=s[i++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[r++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},l_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,g=d?s[u+1]:0,_=u+2<s.length,v=_?s[u+2]:0,A=h>>2,M=(h&3)<<4|g>>4;let B=(g&15)<<2|v>>6,Q=v&63;_||(Q=64,d||(B=64)),r.push(i[A],i[M],i[B],i[Q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(s_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):RE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],g=u<s.length?i[s.charAt(u)]:0;++u;const v=u<s.length?i[s.charAt(u)]:64;++u;const M=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||g==null||v==null||M==null)throw new wE;const B=h<<2|g>>4;if(r.push(B),v!==64){const Q=g<<4&240|v>>2;if(r.push(Q),M!==64){const Z=v<<6&192|M;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class wE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DE=function(s){const e=s_(s);return l_.encodeByteArray(e,!0)},Uo=function(s){return DE(s).replace(/\./g,"")},CE=function(s){try{return l_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=()=>VE().__FIREBASE_DEFAULTS__,IE=()=>{if(typeof process>"u"||typeof Wp>"u")return;const s=Wp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},OE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&CE(s[1]);return e&&JSON.parse(e)},Wf=()=>{try{return bE()||NE()||IE()||OE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},ME=s=>{var e,i;return(i=(e=Wf())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},xE=s=>{const e=ME(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},u_=()=>{var s;return(s=Wf())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Uo(JSON.stringify(i)),Uo(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BE(){var s;const e=(s=Wf())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PE(){return!BE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qE(){try{return typeof indexedDB=="object"}catch{return!1}}function jE(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="FirebaseError";class ps extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=kE,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,o_.prototype.create)}}class o_{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?HE(h,r):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new ps(u,g,r)}}function HE(s,e){return s.replace(GE,(i,r)=>{const u=e[r];return u!=null?String(u):`<${r}?>`})}const GE=/\{\$([^}]+)}/g;function zo(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const u of i){if(!r.includes(u))return!1;const h=s[u],d=e[u];if(ty(h)&&ty(d)){if(!zo(h,d))return!1}else if(h!==d)return!1}for(const u of r)if(!i.includes(u))return!1;return!0}function ty(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(s){return s&&s._delegate?s._delegate:s}class Bl{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new UE;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KE(e))try{this.getOrInitializeService({instanceIdentifier:ar})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});r.resolve(h)}catch{}}}}clearInstance(e=ar){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ar){return this.instances.has(e)}getOptions(e=ar){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);r===g&&d.resolve(u)}return u}onInit(e,i){var r;const u=this.normalizeInstanceIdentifier(i),h=(r=this.onInitCallbacks.get(u))!==null&&r!==void 0?r:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const u of r)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YE(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ar){return this.component?this.component.multipleInstances?e:ar:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YE(s){return s===ar?void 0:s}function KE(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new QE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(xt||(xt={}));const XE={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},ZE=xt.INFO,$E={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},JE=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),u=$E[e];if(u)console[u](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class c_{constructor(e){this.name=e,this._logLevel=ZE,this._logHandler=JE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const WE=(s,e)=>e.some(i=>s instanceof i);let ey,ny;function tT(){return ey||(ey=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eT(){return ny||(ny=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h_=new WeakMap,Vf=new WeakMap,f_=new WeakMap,Tf=new WeakMap,td=new WeakMap;function nT(s){const e=new Promise((i,r)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(la(s.result)),u()},d=()=>{r(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&h_.set(i,s)}).catch(()=>{}),td.set(e,s),e}function iT(s){if(Vf.has(s))return;const e=new Promise((i,r)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Vf.set(s,e)}let Nf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Vf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||f_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return la(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function aT(s){Nf=s(Nf)}function rT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Af(this),e,...i);return f_.set(r,e.sort?e.sort():[e]),la(r)}:eT().includes(s)?function(...e){return s.apply(Af(this),e),la(h_.get(this))}:function(...e){return la(s.apply(Af(this),e))}}function sT(s){return typeof s=="function"?rT(s):(s instanceof IDBTransaction&&iT(s),WE(s,tT())?new Proxy(s,Nf):s)}function la(s){if(s instanceof IDBRequest)return nT(s);if(Tf.has(s))return Tf.get(s);const e=sT(s);return e!==s&&(Tf.set(s,e),td.set(e,s)),e}const Af=s=>td.get(s);function lT(s,e,{blocked:i,upgrade:r,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),g=la(d);return r&&d.addEventListener("upgradeneeded",_=>{r(la(d.result),_.oldVersion,_.newVersion,la(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const uT=["get","getKey","getAll","getAllKeys","count"],oT=["put","add","delete","clear"],Sf=new Map;function iy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Sf.get(e))return Sf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,u=oT.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(u||uT.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return r&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),u&&_.done]))[0]};return Sf.set(e,h),h}aT(s=>({...s,get:(e,i,r)=>iy(e,i)||s.get(e,i,r),has:(e,i)=>!!iy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(hT(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function hT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const If="@firebase/app",ay="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new c_("@firebase/app"),fT="@firebase/app-compat",dT="@firebase/analytics-compat",mT="@firebase/analytics",gT="@firebase/app-check-compat",pT="@firebase/app-check",yT="@firebase/auth",_T="@firebase/auth-compat",vT="@firebase/database",ET="@firebase/data-connect",TT="@firebase/database-compat",AT="@firebase/functions",ST="@firebase/functions-compat",bT="@firebase/installations",RT="@firebase/installations-compat",wT="@firebase/messaging",DT="@firebase/messaging-compat",CT="@firebase/performance",VT="@firebase/performance-compat",NT="@firebase/remote-config",IT="@firebase/remote-config-compat",OT="@firebase/storage",MT="@firebase/storage-compat",xT="@firebase/firestore",UT="@firebase/vertexai",zT="@firebase/firestore-compat",LT="firebase",BT="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="[DEFAULT]",PT={[If]:"fire-core",[fT]:"fire-core-compat",[mT]:"fire-analytics",[dT]:"fire-analytics-compat",[pT]:"fire-app-check",[gT]:"fire-app-check-compat",[yT]:"fire-auth",[_T]:"fire-auth-compat",[vT]:"fire-rtdb",[ET]:"fire-data-connect",[TT]:"fire-rtdb-compat",[AT]:"fire-fn",[ST]:"fire-fn-compat",[bT]:"fire-iid",[RT]:"fire-iid-compat",[wT]:"fire-fcm",[DT]:"fire-fcm-compat",[CT]:"fire-perf",[VT]:"fire-perf-compat",[NT]:"fire-rc",[IT]:"fire-rc-compat",[OT]:"fire-gcs",[MT]:"fire-gcs-compat",[xT]:"fire-fst",[zT]:"fire-fst-compat",[UT]:"fire-vertex","fire-js":"fire-js",[LT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new Map,qT=new Map,Mf=new Map;function ry(s,e){try{s.container.addComponent(e)}catch(i){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Bo(s){const e=s.name;if(Mf.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;Mf.set(e,s);for(const i of Lo.values())ry(i,s);for(const i of qT.values())ry(i,s);return!0}function jT(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function kT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ua=new o_("app","Firebase",HT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,i,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ua.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=BT;function d_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Of,automaticDataCollectionEnabled:!1},e),u=r.name;if(typeof u!="string"||!u)throw ua.create("bad-app-name",{appName:String(u)});if(i||(i=u_()),!i)throw ua.create("no-options");const h=Lo.get(u);if(h){if(zo(i,h.options)&&zo(r,h.config))return h;throw ua.create("duplicate-app",{appName:u})}const d=new FE(u);for(const _ of Mf.values())d.addComponent(_);const g=new GT(i,r,d);return Lo.set(u,g),g}function YT(s=Of){const e=Lo.get(s);if(!e&&s===Of&&u_())return d_();if(!e)throw ua.create("no-app",{appName:s});return e}function ls(s,e,i){var r;let u=(r=PT[s])!==null&&r!==void 0?r:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${u}" with version "${e}":`];h&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(g.join(" "));return}Bo(new Bl(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="firebase-heartbeat-database",FT=1,Pl="firebase-heartbeat-store";let bf=null;function m_(){return bf||(bf=lT(KT,FT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Pl)}catch(i){console.warn(i)}}}}).catch(s=>{throw ua.create("idb-open",{originalErrorMessage:s.message})})),bf}async function XT(s){try{const i=(await m_()).transaction(Pl),r=await i.objectStore(Pl).get(g_(s));return await i.done,r}catch(e){if(e instanceof ps)Ci.warn(e.message);else{const i=ua.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ci.warn(i.message)}}}async function sy(s,e){try{const r=(await m_()).transaction(Pl,"readwrite");await r.objectStore(Pl).put(e,g_(s)),await r.done}catch(i){if(i instanceof ps)Ci.warn(i.message);else{const r=ua.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ci.warn(r.message)}}}function g_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=1024,$T=30;class JT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new tA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=ly();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>$T){const d=eA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ci.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=ly(),{heartbeatsToSend:r,unsentEntries:u}=WT(this._heartbeatsCache.heartbeats),h=Uo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Ci.warn(i),""}}}function ly(){return new Date().toISOString().substring(0,10)}function WT(s,e=ZT){const i=[];let r=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),uy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),uy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class tA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qE()?jE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await XT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return sy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return sy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function uy(s){return Uo(JSON.stringify({version:2,heartbeats:s})).length}function eA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(s){Bo(new Bl("platform-logger",e=>new cT(e),"PRIVATE")),Bo(new Bl("heartbeat",e=>new JT(e),"PRIVATE")),ls(If,ay,s),ls(If,ay,"esm2017"),ls("fire-js","")}nA("");var iA="firebase",aA="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ls(iA,aA,"app");var oy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oa,p_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,b){function D(){}D.prototype=b.prototype,O.D=b.prototype,O.prototype=new D,O.prototype.constructor=O,O.C=function(S,C,N){for(var w=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)w[pe-2]=arguments[pe];return b.prototype[C].apply(S,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(O,b,D){D||(D=0);var S=Array(16);if(typeof b=="string")for(var C=0;16>C;++C)S[C]=b.charCodeAt(D++)|b.charCodeAt(D++)<<8|b.charCodeAt(D++)<<16|b.charCodeAt(D++)<<24;else for(C=0;16>C;++C)S[C]=b[D++]|b[D++]<<8|b[D++]<<16|b[D++]<<24;b=O.g[0],D=O.g[1],C=O.g[2];var N=O.g[3],w=b+(N^D&(C^N))+S[0]+3614090360&4294967295;b=D+(w<<7&4294967295|w>>>25),w=N+(C^b&(D^C))+S[1]+3905402710&4294967295,N=b+(w<<12&4294967295|w>>>20),w=C+(D^N&(b^D))+S[2]+606105819&4294967295,C=N+(w<<17&4294967295|w>>>15),w=D+(b^C&(N^b))+S[3]+3250441966&4294967295,D=C+(w<<22&4294967295|w>>>10),w=b+(N^D&(C^N))+S[4]+4118548399&4294967295,b=D+(w<<7&4294967295|w>>>25),w=N+(C^b&(D^C))+S[5]+1200080426&4294967295,N=b+(w<<12&4294967295|w>>>20),w=C+(D^N&(b^D))+S[6]+2821735955&4294967295,C=N+(w<<17&4294967295|w>>>15),w=D+(b^C&(N^b))+S[7]+4249261313&4294967295,D=C+(w<<22&4294967295|w>>>10),w=b+(N^D&(C^N))+S[8]+1770035416&4294967295,b=D+(w<<7&4294967295|w>>>25),w=N+(C^b&(D^C))+S[9]+2336552879&4294967295,N=b+(w<<12&4294967295|w>>>20),w=C+(D^N&(b^D))+S[10]+4294925233&4294967295,C=N+(w<<17&4294967295|w>>>15),w=D+(b^C&(N^b))+S[11]+2304563134&4294967295,D=C+(w<<22&4294967295|w>>>10),w=b+(N^D&(C^N))+S[12]+1804603682&4294967295,b=D+(w<<7&4294967295|w>>>25),w=N+(C^b&(D^C))+S[13]+4254626195&4294967295,N=b+(w<<12&4294967295|w>>>20),w=C+(D^N&(b^D))+S[14]+2792965006&4294967295,C=N+(w<<17&4294967295|w>>>15),w=D+(b^C&(N^b))+S[15]+1236535329&4294967295,D=C+(w<<22&4294967295|w>>>10),w=b+(C^N&(D^C))+S[1]+4129170786&4294967295,b=D+(w<<5&4294967295|w>>>27),w=N+(D^C&(b^D))+S[6]+3225465664&4294967295,N=b+(w<<9&4294967295|w>>>23),w=C+(b^D&(N^b))+S[11]+643717713&4294967295,C=N+(w<<14&4294967295|w>>>18),w=D+(N^b&(C^N))+S[0]+3921069994&4294967295,D=C+(w<<20&4294967295|w>>>12),w=b+(C^N&(D^C))+S[5]+3593408605&4294967295,b=D+(w<<5&4294967295|w>>>27),w=N+(D^C&(b^D))+S[10]+38016083&4294967295,N=b+(w<<9&4294967295|w>>>23),w=C+(b^D&(N^b))+S[15]+3634488961&4294967295,C=N+(w<<14&4294967295|w>>>18),w=D+(N^b&(C^N))+S[4]+3889429448&4294967295,D=C+(w<<20&4294967295|w>>>12),w=b+(C^N&(D^C))+S[9]+568446438&4294967295,b=D+(w<<5&4294967295|w>>>27),w=N+(D^C&(b^D))+S[14]+3275163606&4294967295,N=b+(w<<9&4294967295|w>>>23),w=C+(b^D&(N^b))+S[3]+4107603335&4294967295,C=N+(w<<14&4294967295|w>>>18),w=D+(N^b&(C^N))+S[8]+1163531501&4294967295,D=C+(w<<20&4294967295|w>>>12),w=b+(C^N&(D^C))+S[13]+2850285829&4294967295,b=D+(w<<5&4294967295|w>>>27),w=N+(D^C&(b^D))+S[2]+4243563512&4294967295,N=b+(w<<9&4294967295|w>>>23),w=C+(b^D&(N^b))+S[7]+1735328473&4294967295,C=N+(w<<14&4294967295|w>>>18),w=D+(N^b&(C^N))+S[12]+2368359562&4294967295,D=C+(w<<20&4294967295|w>>>12),w=b+(D^C^N)+S[5]+4294588738&4294967295,b=D+(w<<4&4294967295|w>>>28),w=N+(b^D^C)+S[8]+2272392833&4294967295,N=b+(w<<11&4294967295|w>>>21),w=C+(N^b^D)+S[11]+1839030562&4294967295,C=N+(w<<16&4294967295|w>>>16),w=D+(C^N^b)+S[14]+4259657740&4294967295,D=C+(w<<23&4294967295|w>>>9),w=b+(D^C^N)+S[1]+2763975236&4294967295,b=D+(w<<4&4294967295|w>>>28),w=N+(b^D^C)+S[4]+1272893353&4294967295,N=b+(w<<11&4294967295|w>>>21),w=C+(N^b^D)+S[7]+4139469664&4294967295,C=N+(w<<16&4294967295|w>>>16),w=D+(C^N^b)+S[10]+3200236656&4294967295,D=C+(w<<23&4294967295|w>>>9),w=b+(D^C^N)+S[13]+681279174&4294967295,b=D+(w<<4&4294967295|w>>>28),w=N+(b^D^C)+S[0]+3936430074&4294967295,N=b+(w<<11&4294967295|w>>>21),w=C+(N^b^D)+S[3]+3572445317&4294967295,C=N+(w<<16&4294967295|w>>>16),w=D+(C^N^b)+S[6]+76029189&4294967295,D=C+(w<<23&4294967295|w>>>9),w=b+(D^C^N)+S[9]+3654602809&4294967295,b=D+(w<<4&4294967295|w>>>28),w=N+(b^D^C)+S[12]+3873151461&4294967295,N=b+(w<<11&4294967295|w>>>21),w=C+(N^b^D)+S[15]+530742520&4294967295,C=N+(w<<16&4294967295|w>>>16),w=D+(C^N^b)+S[2]+3299628645&4294967295,D=C+(w<<23&4294967295|w>>>9),w=b+(C^(D|~N))+S[0]+4096336452&4294967295,b=D+(w<<6&4294967295|w>>>26),w=N+(D^(b|~C))+S[7]+1126891415&4294967295,N=b+(w<<10&4294967295|w>>>22),w=C+(b^(N|~D))+S[14]+2878612391&4294967295,C=N+(w<<15&4294967295|w>>>17),w=D+(N^(C|~b))+S[5]+4237533241&4294967295,D=C+(w<<21&4294967295|w>>>11),w=b+(C^(D|~N))+S[12]+1700485571&4294967295,b=D+(w<<6&4294967295|w>>>26),w=N+(D^(b|~C))+S[3]+2399980690&4294967295,N=b+(w<<10&4294967295|w>>>22),w=C+(b^(N|~D))+S[10]+4293915773&4294967295,C=N+(w<<15&4294967295|w>>>17),w=D+(N^(C|~b))+S[1]+2240044497&4294967295,D=C+(w<<21&4294967295|w>>>11),w=b+(C^(D|~N))+S[8]+1873313359&4294967295,b=D+(w<<6&4294967295|w>>>26),w=N+(D^(b|~C))+S[15]+4264355552&4294967295,N=b+(w<<10&4294967295|w>>>22),w=C+(b^(N|~D))+S[6]+2734768916&4294967295,C=N+(w<<15&4294967295|w>>>17),w=D+(N^(C|~b))+S[13]+1309151649&4294967295,D=C+(w<<21&4294967295|w>>>11),w=b+(C^(D|~N))+S[4]+4149444226&4294967295,b=D+(w<<6&4294967295|w>>>26),w=N+(D^(b|~C))+S[11]+3174756917&4294967295,N=b+(w<<10&4294967295|w>>>22),w=C+(b^(N|~D))+S[2]+718787259&4294967295,C=N+(w<<15&4294967295|w>>>17),w=D+(N^(C|~b))+S[9]+3951481745&4294967295,O.g[0]=O.g[0]+b&4294967295,O.g[1]=O.g[1]+(C+(w<<21&4294967295|w>>>11))&4294967295,O.g[2]=O.g[2]+C&4294967295,O.g[3]=O.g[3]+N&4294967295}r.prototype.u=function(O,b){b===void 0&&(b=O.length);for(var D=b-this.blockSize,S=this.B,C=this.h,N=0;N<b;){if(C==0)for(;N<=D;)u(this,O,N),N+=this.blockSize;if(typeof O=="string"){for(;N<b;)if(S[C++]=O.charCodeAt(N++),C==this.blockSize){u(this,S),C=0;break}}else for(;N<b;)if(S[C++]=O[N++],C==this.blockSize){u(this,S),C=0;break}}this.h=C,this.o+=b},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var b=1;b<O.length-8;++b)O[b]=0;var D=8*this.o;for(b=O.length-8;b<O.length;++b)O[b]=D&255,D/=256;for(this.u(O),O=Array(16),b=D=0;4>b;++b)for(var S=0;32>S;S+=8)O[D++]=this.g[b]>>>S&255;return O};function h(O,b){var D=g;return Object.prototype.hasOwnProperty.call(D,O)?D[O]:D[O]=b(O)}function d(O,b){this.h=b;for(var D=[],S=!0,C=O.length-1;0<=C;C--){var N=O[C]|0;S&&N==b||(D[C]=N,S=!1)}this.g=D}var g={};function _(O){return-128<=O&&128>O?h(O,function(b){return new d([b|0],0>b?-1:0)}):new d([O|0],0>O?-1:0)}function v(O){if(isNaN(O)||!isFinite(O))return M;if(0>O)return J(v(-O));for(var b=[],D=1,S=0;O>=D;S++)b[S]=O/D|0,D*=4294967296;return new d(b,0)}function A(O,b){if(O.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(O.charAt(0)=="-")return J(A(O.substring(1),b));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=v(Math.pow(b,8)),S=M,C=0;C<O.length;C+=8){var N=Math.min(8,O.length-C),w=parseInt(O.substring(C,C+N),b);8>N?(N=v(Math.pow(b,N)),S=S.j(N).add(v(w))):(S=S.j(D),S=S.add(v(w)))}return S}var M=_(0),B=_(1),Q=_(16777216);s=d.prototype,s.m=function(){if(nt(this))return-J(this).m();for(var O=0,b=1,D=0;D<this.g.length;D++){var S=this.i(D);O+=(0<=S?S:4294967296+S)*b,b*=4294967296}return O},s.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(Z(this))return"0";if(nt(this))return"-"+J(this).toString(O);for(var b=v(Math.pow(O,6)),D=this,S="";;){var C=zt(D,b).g;D=bt(D,C.j(b));var N=((0<D.g.length?D.g[0]:D.h)>>>0).toString(O);if(D=C,Z(D))return N+S;for(;6>N.length;)N="0"+N;S=N+S}},s.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function Z(O){if(O.h!=0)return!1;for(var b=0;b<O.g.length;b++)if(O.g[b]!=0)return!1;return!0}function nt(O){return O.h==-1}s.l=function(O){return O=bt(this,O),nt(O)?-1:Z(O)?0:1};function J(O){for(var b=O.g.length,D=[],S=0;S<b;S++)D[S]=~O.g[S];return new d(D,~O.h).add(B)}s.abs=function(){return nt(this)?J(this):this},s.add=function(O){for(var b=Math.max(this.g.length,O.g.length),D=[],S=0,C=0;C<=b;C++){var N=S+(this.i(C)&65535)+(O.i(C)&65535),w=(N>>>16)+(this.i(C)>>>16)+(O.i(C)>>>16);S=w>>>16,N&=65535,w&=65535,D[C]=w<<16|N}return new d(D,D[D.length-1]&-2147483648?-1:0)};function bt(O,b){return O.add(J(b))}s.j=function(O){if(Z(this)||Z(O))return M;if(nt(this))return nt(O)?J(this).j(J(O)):J(J(this).j(O));if(nt(O))return J(this.j(J(O)));if(0>this.l(Q)&&0>O.l(Q))return v(this.m()*O.m());for(var b=this.g.length+O.g.length,D=[],S=0;S<2*b;S++)D[S]=0;for(S=0;S<this.g.length;S++)for(var C=0;C<O.g.length;C++){var N=this.i(S)>>>16,w=this.i(S)&65535,pe=O.i(C)>>>16,Jt=O.i(C)&65535;D[2*S+2*C]+=w*Jt,Et(D,2*S+2*C),D[2*S+2*C+1]+=N*Jt,Et(D,2*S+2*C+1),D[2*S+2*C+1]+=w*pe,Et(D,2*S+2*C+1),D[2*S+2*C+2]+=N*pe,Et(D,2*S+2*C+2)}for(S=0;S<b;S++)D[S]=D[2*S+1]<<16|D[2*S];for(S=b;S<2*b;S++)D[S]=0;return new d(D,0)};function Et(O,b){for(;(O[b]&65535)!=O[b];)O[b+1]+=O[b]>>>16,O[b]&=65535,b++}function gt(O,b){this.g=O,this.h=b}function zt(O,b){if(Z(b))throw Error("division by zero");if(Z(O))return new gt(M,M);if(nt(O))return b=zt(J(O),b),new gt(J(b.g),J(b.h));if(nt(b))return b=zt(O,J(b)),new gt(J(b.g),b.h);if(30<O.g.length){if(nt(O)||nt(b))throw Error("slowDivide_ only works with positive integers.");for(var D=B,S=b;0>=S.l(O);)D=_t(D),S=_t(S);var C=Ut(D,1),N=Ut(S,1);for(S=Ut(S,2),D=Ut(D,2);!Z(S);){var w=N.add(S);0>=w.l(O)&&(C=C.add(D),N=w),S=Ut(S,1),D=Ut(D,1)}return b=bt(O,C.j(b)),new gt(C,b)}for(C=M;0<=O.l(b);){for(D=Math.max(1,Math.floor(O.m()/b.m())),S=Math.ceil(Math.log(D)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),N=v(D),w=N.j(b);nt(w)||0<w.l(O);)D-=S,N=v(D),w=N.j(b);Z(N)&&(N=B),C=C.add(N),O=bt(O,w)}return new gt(C,O)}s.A=function(O){return zt(this,O).h},s.and=function(O){for(var b=Math.max(this.g.length,O.g.length),D=[],S=0;S<b;S++)D[S]=this.i(S)&O.i(S);return new d(D,this.h&O.h)},s.or=function(O){for(var b=Math.max(this.g.length,O.g.length),D=[],S=0;S<b;S++)D[S]=this.i(S)|O.i(S);return new d(D,this.h|O.h)},s.xor=function(O){for(var b=Math.max(this.g.length,O.g.length),D=[],S=0;S<b;S++)D[S]=this.i(S)^O.i(S);return new d(D,this.h^O.h)};function _t(O){for(var b=O.g.length+1,D=[],S=0;S<b;S++)D[S]=O.i(S)<<1|O.i(S-1)>>>31;return new d(D,O.h)}function Ut(O,b){var D=b>>5;b%=32;for(var S=O.g.length-D,C=[],N=0;N<S;N++)C[N]=0<b?O.i(N+D)>>>b|O.i(N+D+1)<<32-b:O.i(N+D);return new d(C,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,p_=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,oa=d}).apply(typeof oy<"u"?oy:typeof self<"u"?self:typeof window<"u"?window:{});var Ao=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var y_,Il,__,Vo,xf,v_,E_,T_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ao=="object"&&Ao];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function u(o,m){if(m)t:{var p=r;o=o.split(".");for(var T=0;T<o.length-1;T++){var U=o[T];if(!(U in p))break t;p=p[U]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var p=0,T=!1,U={next:function(){if(!T&&p<o.length){var j=p++;return{value:m(j,o[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,p){return o.call.apply(o.bind,arguments)}function M(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),o.apply(m,U)}}return function(){return o.apply(m,arguments)}}function B(o,m,p){return B=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:M,B.apply(null,arguments)}function Q(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function Z(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,U,j){for(var W=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)W[Nt-2]=arguments[Nt];return m.prototype[U].apply(T,W)}}function nt(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function J(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const U=o.length||0,j=T.length||0;o.length=U+j;for(let W=0;W<j;W++)o[U+W]=T[W]}else o.push(T)}}class bt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Et(o){return/^[\s\xa0]*$/.test(o)}function gt(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function zt(o){return zt[" "](o),o}zt[" "]=function(){};var _t=gt().indexOf("Gecko")!=-1&&!(gt().toLowerCase().indexOf("webkit")!=-1&&gt().indexOf("Edge")==-1)&&!(gt().indexOf("Trident")!=-1||gt().indexOf("MSIE")!=-1)&&gt().indexOf("Edge")==-1;function Ut(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function O(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function b(o){const m={};for(const p in o)m[p]=o[p];return m}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(o,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)o[p]=T[p];for(let j=0;j<D.length;j++)p=D[j],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function C(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function N(o){g.setTimeout(()=>{throw o},0)}function w(){var o=Bt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class pe{constructor(){this.h=this.g=null}add(m,p){const T=Jt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var Jt=new bt(()=>new k,o=>o.reset());class k{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,lt=!1,Bt=new pe,V=()=>{const o=g.Promise.resolve(void 0);tt=()=>{o.then(F)}};var F=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(p){N(p)}var m=Jt;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}lt=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function Rt(o,m){if($.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(_t){t:{try{zt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:pt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Rt.aa.h.call(this)}}Z(Rt,$);var pt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function xn(o,m,p,T,U){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++Zt,this.da=this.fa=!1}function Ii(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ni(o){this.src=o,this.g={},this.h=0}ni.prototype.add=function(o,m,p,T,U){var j=o.toString();o=this.g[j],o||(o=this.g[j]=[],this.h++);var W=Aa(o,m,T,U);return-1<W?(m=o[W],p||(m.fa=!1)):(m=new xn(m,this.src,j,!!T,U),m.fa=p,o.push(m)),m};function Ta(o,m){var p=m.type;if(p in o.g){var T=o.g[p],U=Array.prototype.indexOf.call(T,m,void 0),j;(j=0<=U)&&Array.prototype.splice.call(T,U,1),j&&(Ii(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function Aa(o,m,p,T){for(var U=0;U<o.length;++U){var j=o[U];if(!j.da&&j.listener==m&&j.capture==!!p&&j.ha==T)return U}return-1}var Sa="closure_lm_"+(1e6*Math.random()|0),Ts={};function $l(o,m,p,T,U){if(Array.isArray(m)){for(var j=0;j<m.length;j++)$l(o,m[j],p,T,U);return null}return p=Jl(p),o&&o[Re]?o.K(m,p,v(T)?!!T.capture:!1,U):dn(o,m,p,!1,T,U)}function dn(o,m,p,T,U,j){if(!m)throw Error("Invalid event type");var W=v(U)?!!U.capture:!!U,Nt=fr(o);if(Nt||(o[Sa]=Nt=new ni(o)),p=Nt.add(m,p,T,W,j),p.proxy)return p;if(T=mc(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)ot||(U=W),U===void 0&&(U=!1),o.addEventListener(m.toString(),T,U);else if(o.attachEvent)o.attachEvent(ba(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function mc(){function o(p){return m.call(o.src,o.listener,p)}const m=gc;return o}function As(o,m,p,T,U){if(Array.isArray(m))for(var j=0;j<m.length;j++)As(o,m[j],p,T,U);else T=v(T)?!!T.capture:!!T,p=Jl(p),o&&o[Re]?(o=o.i,m=String(m).toString(),m in o.g&&(j=o.g[m],p=Aa(j,p,T,U),-1<p&&(Ii(j[p]),Array.prototype.splice.call(j,p,1),j.length==0&&(delete o.g[m],o.h--)))):o&&(o=fr(o))&&(m=o.g[m.toString()],o=-1,m&&(o=Aa(m,p,T,U)),(p=-1<o?m[o]:null)&&hr(p))}function hr(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[Re])Ta(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(ba(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=fr(m))?(Ta(p,o),p.h==0&&(p.src=null,m[Sa]=null)):Ii(o)}}}function ba(o){return o in Ts?Ts[o]:Ts[o]="on"+o}function gc(o,m){if(o.da)o=!0;else{m=new Rt(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&hr(o),o=p.call(T,m)}return o}function fr(o){return o=o[Sa],o instanceof ni?o:null}var Ss="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jl(o){return typeof o=="function"?o:(o[Ss]||(o[Ss]=function(m){return o.handleEvent(m)}),o[Ss])}function ae(){et.call(this),this.i=new ni(this),this.M=this,this.F=null}Z(ae,et),ae.prototype[Re]=!0,ae.prototype.removeEventListener=function(o,m,p,T){As(this,o,m,p,T)};function kt(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new $(m,o);else if(m instanceof $)m.target=m.target||o;else{var U=m;m=new $(T,o),S(m,U)}if(U=!0,p)for(var j=p.length-1;0<=j;j--){var W=m.g=p[j];U=nn(W,T,!0,m)&&U}if(W=m.g=o,U=nn(W,T,!0,m)&&U,U=nn(W,T,!1,m)&&U,p)for(j=0;j<p.length;j++)W=m.g=p[j],U=nn(W,T,!1,m)&&U}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)Ii(p[T]);delete o.g[m],o.h--}}this.F=null},ae.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},ae.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function nn(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,j=0;j<m.length;++j){var W=m[j];if(W&&!W.da&&W.capture==p){var Nt=W.listener,_e=W.ha||W.src;W.fa&&Ta(o.i,W),U=Nt.call(_e,T)!==!1&&U}}return U&&!T.defaultPrevented}function qe(o,m,p){if(typeof o=="function")p&&(o=B(o,p));else if(o&&typeof o.handleEvent=="function")o=B(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function Wl(o){o.g=qe(()=>{o.g=null,o.i&&(o.i=!1,Wl(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class pc extends et{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ra(o){et.call(this),this.h=o,this.g={}}Z(Ra,et);var wa=[];function Da(o){Ut(o.g,function(m,p){this.g.hasOwnProperty(p)&&hr(m)},o),o.g={}}Ra.prototype.N=function(){Ra.aa.N.call(this),Da(this)},Ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=g.JSON.stringify,dr=g.JSON.parse,Ca=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function bs(){}bs.prototype.h=null;function Rs(o){return o.h||(o.h=o.i())}function ws(){}var ii={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ai(){$.call(this,"d")}Z(ai,$);function Ds(){$.call(this,"c")}Z(Ds,$);var Un={},Cs=null;function Oi(){return Cs=Cs||new ae}Un.La="serverreachability";function mr(o){$.call(this,Un.La,o)}Z(mr,$);function Mi(o){const m=Oi();kt(m,new mr(m))}Un.STAT_EVENT="statevent";function tu(o,m){$.call(this,Un.STAT_EVENT,o),this.stat=m}Z(tu,$);function Wt(o){const m=Oi();kt(m,new tu(m,o))}Un.Ma="timingevent";function ye(o,m){$.call(this,Un.Ma,o),this.size=m}Z(ye,$);function he(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function mn(){this.g=!0}mn.prototype.xa=function(){this.g=!1};function Vs(o,m,p,T,U,j){o.info(function(){if(o.g)if(j)for(var W="",Nt=j.split("&"),_e=0;_e<Nt.length;_e++){var It=Nt[_e].split("=");if(1<It.length){var De=It[0];It=It[1];var ve=De.split("_");W=2<=ve.length&&ve[1]=="type"?W+(De+"="+It+"&"):W+(De+"=redacted&")}}else W=null;else W=j;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+W})}function yc(o,m,p,T,U,j,W){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+j+" "+W})}function xi(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Va(o,p)+(T?" "+T:"")})}function eu(o,m){o.info(function(){return"TIMEOUT: "+m})}mn.prototype.info=function(){};function Va(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var j=U[0];if(j!="noop"&&j!="stop"&&j!="close")for(var W=1;W<U.length;W++)U[W]=""}}}}return Dn(p)}catch{return m}}var Ui={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function Ln(){}Z(Ln,bs),Ln.prototype.g=function(){return new XMLHttpRequest},Ln.prototype.i=function(){return{}},zn=new Ln;function Ye(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new Ra(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var Ns={},gr={};function Cn(o,m,p){o.L=1,o.v=xa(an(m)),o.m=p,o.P=!0,si(o,null)}function si(o,m){o.F=Date.now(),Na(o),o.A=an(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),zs(p.i,"t",T),o.C=0,p=o.j.J,o.h=new le,o.g=yu(o.j,p?m:null,!o.m),0<o.O&&(o.M=new pc(B(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var U="readystatechange";Array.isArray(U)||(U&&(wa[0]=U.toString()),U=wa);for(var j=0;j<U.length;j++){var W=$l(p,U[j],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=o.H?b(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Mi(),Vs(o.i,o.u,o.A,o.l,o.R,o.m)}Ye.prototype.ca=function(o){o=o.target;const m=this.M;m&&_n(o)==3?m.j():this.Y(o)},Ye.prototype.Y=function(o){try{if(o==this.g)t:{const ve=_n(this.g);var m=this.g.Ba();const mi=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||ou(this.g)))){this.J||ve!=4||m==7||(m==8||0>=mi?Mi(3):Mi(2)),zi(this);var p=this.g.Z();this.X=p;e:if(nu(this)){var T=ou(this.g);o="";var U=T.length,j=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oe(this),Bn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(j&&m==U-1)});T.length=0,this.h.g+=o,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,yc(this.i,this.u,this.A,this.l,this.R,ve,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Nt,_e=this.g;if((Nt=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Et(Nt)){var It=Nt;break e}}It=null}if(p=It)xi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ia(this,p);else{this.o=!1,this.s=3,Wt(12),Oe(this),Bn(this);break t}}if(this.P){p=!0;let Me;for(;!this.J&&this.C<W.length;)if(Me=iu(this,W),Me==gr){ve==4&&(this.s=4,Wt(14),p=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==Ns){this.s=4,Wt(15),xi(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else xi(this.i,this.l,Me,null),Ia(this,Me);if(nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||W.length!=0||this.h.h||(this.s=1,Wt(16),p=!1),this.o=this.o&&p,!p)xi(this.i,this.l,W,"[Invalid Chunked Response]"),Oe(this),Bn(this);else if(0<W.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),ka(De),De.M=!0,Wt(11))}}else xi(this.i,this.l,W,null),Ia(this,W);ve==4&&Oe(this),this.o&&!this.J&&(ve==4?mu(this.j,this):(this.o=!1,Na(this)))}else Ac(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Oe(this),Bn(this)}}}catch{}finally{}};function nu(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function iu(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?gr:(p=Number(m.substring(p,T)),isNaN(p)?Ns:(T+=1,T+p>m.length?gr:(m=m.slice(T,T+p),o.C=T+p,m)))}Ye.prototype.cancel=function(){this.J=!0,Oe(this)};function Na(o){o.S=Date.now()+o.I,au(o,o.I)}function au(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=he(B(o.ba,o),m)}function zi(o){o.B&&(g.clearTimeout(o.B),o.B=null)}Ye.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(eu(this.i,this.A),this.L!=2&&(Mi(),Wt(17)),Oe(this),this.s=2,Bn(this)):au(this,this.S-o)};function Bn(o){o.j.G==0||o.J||mu(o.j,o)}function Oe(o){zi(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,Da(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Ia(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||Is(p.h,o))){if(!o.K&&Is(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)Dr(p),Rr(p);else break t;js(p),Wt(18)}}else p.za=U[1],0<p.za-p.T&&37500>U[2]&&p.F&&p.v==0&&!p.C&&(p.C=he(B(p.Za,p),6e3));if(1>=yr(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else di(p,11)}else if((o.K||p.g==o)&&Dr(p),!Et(m))for(U=p.Da.g.parse(m),m=0;m<U.length;m++){let It=U[m];if(p.T=It[0],It=It[1],p.G==2)if(It[0]=="c"){p.K=It[1],p.ia=It[2];const De=It[3];De!=null&&(p.la=De,p.j.info("VER="+p.la));const ve=It[4];ve!=null&&(p.Aa=ve,p.j.info("SVER="+p.Aa));const mi=It[5];mi!=null&&typeof mi=="number"&&0<mi&&(T=1.5*mi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Me=o.g;if(Me){const Qn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var j=T.h;j.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(_r(j,j.h),j.h=null))}if(T.D){const Hs=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;Hs&&(T.ya=Hs,Qt(T.I,T.D,Hs))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var W=o;if(T.qa=pu(T,T.J?T.ia:null,T.W),W.K){Ke(T.h,W);var Nt=W,_e=T.L;_e&&(Nt.I=_e),Nt.B&&(zi(Nt),Na(Nt)),T.g=W}else fu(T);0<p.i.length&&wr(p)}else It[0]!="stop"&&It[0]!="close"||di(p,7);else p.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?di(p,7):Ps(p):It[0]!="noop"&&p.l&&p.l.ta(It),p.v=0)}}Mi(4)}catch{}}var ru=class{constructor(o,m){this.g=o,this.map=m}};function li(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pr(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function yr(o){return o.h?1:o.g?o.g.size:0}function Is(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function _r(o,m){o.g?o.g.add(m):o.h=m}function Ke(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}li.prototype.cancel=function(){if(this.i=Os(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Os(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return nt(o.i)}function _c(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function vr(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function Ms(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=vr(o),T=_c(o),U=T.length,j=0;j<U;j++)m.call(void 0,T[j],p&&p[j],o)}var Oa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vc(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),U=null;if(0<=T){var j=o[p].substring(0,T);U=o[p].substring(T+1)}else j=o[p];m(j,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function fe(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof fe){this.h=o.h,Ma(this,o.j),this.o=o.o,this.g=o.g,Li(this,o.s),this.l=o.l;var m=o.i,p=new oi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),ui(this,p),this.m=o.m}else o&&(m=String(o).match(Oa))?(this.h=!1,Ma(this,m[1]||"",!0),this.o=gn(m[2]||""),this.g=gn(m[3]||"",!0),Li(this,m[4]),this.l=gn(m[5]||"",!0),ui(this,m[6]||"",!0),this.m=gn(m[7]||"")):(this.h=!1,this.i=new oi(null,this.h))}fe.prototype.toString=function(){var o=[],m=this.j;m&&o.push(Ua(m,xs,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Ua(m,xs,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Ua(p,p.charAt(0)=="/"?Ec:Us,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Ua(p,Er)),o.join("")};function an(o){return new fe(o)}function Ma(o,m,p){o.j=p?gn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Li(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function ui(o,m,p){m instanceof oi?(o.i=m,lu(o.i,o.h)):(p||(m=Ua(m,Tc)),o.i=new oi(m,o.h))}function Qt(o,m,p){o.i.set(m,p)}function xa(o){return Qt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function gn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ua(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,su),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function su(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var xs=/[#\/\?@]/g,Us=/[#\?:]/g,Ec=/[#\?]/g,Tc=/[#\?@]/g,Er=/#/g;function oi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function pn(o){o.g||(o.g=new Map,o.h=0,o.i&&vc(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=oi.prototype,s.add=function(o,m){pn(this),this.i=null,o=Pn(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function ci(o,m){pn(o),m=Pn(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function hi(o,m){return pn(o),m=Pn(o,m),o.g.has(m)}s.forEach=function(o,m){pn(this),this.g.forEach(function(p,T){p.forEach(function(U){o.call(m,U,T,this)},this)},this)},s.na=function(){pn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const U=o[T];for(let j=0;j<U.length;j++)p.push(m[T])}return p},s.V=function(o){pn(this);let m=[];if(typeof o=="string")hi(this,o)&&(m=m.concat(this.g.get(Pn(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},s.set=function(o,m){return pn(this),this.i=null,o=Pn(this,o),hi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function zs(o,m,p){ci(o,m),0<p.length&&(o.i=null,o.g.set(Pn(o,m),nt(p)),o.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const j=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var U=j;W[T]!==""&&(U+="="+encodeURIComponent(String(W[T]))),o.push(U)}}return this.i=o.join("&")};function Pn(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function lu(o,m){m&&!o.j&&(pn(o),o.i=null,o.g.forEach(function(p,T){var U=T.toLowerCase();T!=U&&(ci(this,T),zs(this,U,p))},o)),o.j=m}function za(o,m){const p=new mn;if(g.Image){const T=new Image;T.onload=Q(yn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=Q(yn,p,"TestLoadImage: error",!1,m,T),T.onabort=Q(yn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=Q(yn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Vn(o,m){const p=new mn,T=new AbortController,U=setTimeout(()=>{T.abort(),yn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(j=>{clearTimeout(U),j.ok?yn(p,"TestPingServer: ok",!0,m):yn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),yn(p,"TestPingServer: error",!1,m)})}function yn(o,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function La(){this.g=new Ca}function qn(o,m,p){const T=p||"";try{Ms(o,function(U,j){let W=U;v(U)&&(W=Dn(U)),m.push(T+j+"="+encodeURIComponent(W))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function Bi(o){this.l=o.Ub||null,this.j=o.eb||!1}Z(Bi,bs),Bi.prototype.g=function(){return new fi(this.l,this.j)},Bi.prototype.i=function(o){return function(){return o}}({});function fi(o,m){ae.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(fi,ae),s=fi.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,kn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ls(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ls(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?jn(this):kn(this),this.readyState==3&&Ls(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,jn(this))},s.Qa=function(o){this.g&&(this.response=o,jn(this))},s.ga=function(){this.g&&jn(this)};function jn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,kn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function kn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Bs(o){let m="";return Ut(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function we(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Bs(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):Qt(o,m,p))}function qt(o){ae.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(qt,ae);var Tr=/^https?$/i,Ba=["POST","PUT"];s=qt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?Rs(this.o):Rs(zn),this.g.onreadystatechange=B(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(j){uu(this,j);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())p.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(j=>j.toLowerCase()=="content-type"),U=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Ba,m,void 0))||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of p)this.g.setRequestHeader(j,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pa(this),this.u=!0,this.g.send(o),this.u=!1}catch(j){uu(this,j)}};function uu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Ar(o),Hn(o)}function Ar(o){o.A||(o.A=!0,kt(o,"complete"),kt(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,kt(this,"complete"),kt(this,"abort"),Hn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hn(this,!0)),qt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Sr(this):this.bb())},s.bb=function(){Sr(this)};function Sr(o){if(o.h&&typeof d<"u"&&(!o.v[1]||_n(o)!=4||o.Z()!=2)){if(o.u&&_n(o)==4)qe(o.Ea,0,o);else if(kt(o,"readystatechange"),_n(o)==4){o.h=!1;try{const W=o.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=W===0){var U=String(o.D).match(Oa)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),T=!Tr.test(U?U.toLowerCase():"")}p=T}if(p)kt(o,"complete"),kt(o,"success");else{o.m=6;try{var j=2<_n(o)?o.g.statusText:""}catch{j=""}o.l=j+" ["+o.Z()+"]",Ar(o)}}finally{Hn(o)}}}}function Hn(o,m){if(o.g){Pa(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||kt(o,"ready");try{p.onreadystatechange=T}catch{}}}function Pa(o){o.I&&(g.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function _n(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),dr(m)}};function ou(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ac(o){const m={};o=(o.g&&2<=_n(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(Et(o[T]))continue;var p=C(o[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const j=m[U]||[];m[U]=j,j.push(p)}O(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qa(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function br(o){this.Aa=0,this.i=[],this.j=new mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qa("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qa("baseRetryDelayMs",5e3,o),this.cb=qa("retryDelaySeedMs",1e4,o),this.Wa=qa("forwardChannelMaxRetries",2,o),this.wa=qa("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new li(o&&o.concurrentRequestLimit),this.Da=new La,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=br.prototype,s.la=8,s.G=1,s.connect=function(o,m,p,T){Wt(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=pu(this,null,this.W),wr(this)};function Ps(o){if(cu(o),o.G==3){var m=o.U++,p=an(o.I);if(Qt(p,"SID",o.K),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),ja(o,p),m=new Ye(o,o.j,m),m.L=2,m.v=xa(an(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=yu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Na(m)}gu(o)}function Rr(o){o.g&&(ka(o),o.g.cancel(),o.g=null)}function cu(o){Rr(o),o.u&&(g.clearTimeout(o.u),o.u=null),Dr(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function wr(o){if(!pr(o.h)&&!o.s){o.s=!0;var m=o.Ga;tt||V(),lt||(tt(),lt=!0),Bt.add(m,o),o.B=0}}function Sc(o,m){return yr(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=he(B(o.Ga,o,m),ks(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const U=new Ye(this,this.j,o);let j=this.o;if(this.S&&(j?(j=b(j),S(j,this.S)):j=this.S),this.m!==null||this.O||(U.H=j,j=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=hu(this,U,m),p=an(this.I),Qt(p,"RID",o),Qt(p,"CVER",22),this.D&&Qt(p,"X-HTTP-Session-Id",this.D),ja(this,p),j&&(this.O?m="headers="+encodeURIComponent(String(Bs(j)))+"&"+m:this.m&&we(p,this.m,j)),_r(this.h,U),this.Ua&&Qt(p,"TYPE","init"),this.P?(Qt(p,"$req",m),Qt(p,"SID","null"),U.T=!0,Cn(U,p,null)):Cn(U,p,m),this.G=2}}else this.G==3&&(o?qs(this,o):this.i.length==0||pr(this.h)||qs(this))};function qs(o,m){var p;m?p=m.l:p=o.U++;const T=an(o.I);Qt(T,"SID",o.K),Qt(T,"RID",p),Qt(T,"AID",o.T),ja(o,T),o.m&&o.o&&we(T,o.m,o.o),p=new Ye(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=hu(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),_r(o.h,p),Cn(p,T,m)}function ja(o,m){o.H&&Ut(o.H,function(p,T){Qt(m,T,p)}),o.l&&Ms({},function(p,T){Qt(m,T,p)})}function hu(o,m,p){p=Math.min(o.i.length,p);var T=o.l?B(o.l.Na,o.l,o):null;t:{var U=o.i;let j=-1;for(;;){const W=["count="+p];j==-1?0<p?(j=U[0].g,W.push("ofs="+j)):j=0:W.push("ofs="+j);let Nt=!0;for(let _e=0;_e<p;_e++){let It=U[_e].g;const De=U[_e].map;if(It-=j,0>It)j=Math.max(0,U[_e].g-100),Nt=!1;else try{qn(De,W,"req"+It+"_")}catch{T&&T(De)}}if(Nt){T=W.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function fu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;tt||V(),lt||(tt(),lt=!0),Bt.add(m,o),o.v=0}}function js(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=he(B(o.Fa,o),ks(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=he(B(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Rr(this),du(this))};function ka(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function du(o){o.g=new Ye(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=an(o.qa);Qt(m,"RID","rpc"),Qt(m,"SID",o.K),Qt(m,"AID",o.T),Qt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Qt(m,"TO",o.ja),Qt(m,"TYPE","xmlhttp"),ja(o,m),o.m&&o.o&&we(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=xa(an(m)),p.m=null,p.P=!0,si(p,o)}s.Za=function(){this.C!=null&&(this.C=null,Rr(this),js(this),Wt(19))};function Dr(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function mu(o,m){var p=null;if(o.g==m){Dr(o),ka(o),o.g=null;var T=2}else if(Is(o.h,m))p=m.D,Ke(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var U=o.B;T=Oi(),kt(T,new ye(T,p)),wr(o)}else fu(o);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&Sc(o,m)||T==2&&js(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),U){case 1:di(o,5);break;case 4:di(o,10);break;case 3:di(o,6);break;default:di(o,2)}}}function ks(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function di(o,m){if(o.j.info("Error code "+m),m==2){var p=B(o.fb,o),T=o.Xa;const U=!T;T=new fe(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ma(T,"https"),xa(T),U?za(T.toString(),p):Vn(T.toString(),p)}else Wt(2);o.G=0,o.l&&o.l.sa(m),gu(o),cu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function gu(o){if(o.G=0,o.ka=[],o.l){const m=Os(o.h);(m.length!=0||o.i.length!=0)&&(J(o.ka,m),J(o.ka,o.i),o.h.i.length=0,nt(o.i),o.i.length=0),o.l.ra()}}function pu(o,m,p){var T=p instanceof fe?an(p):new fe(p);if(T.g!="")m&&(T.g=m+"."+T.g),Li(T,T.s);else{var U=g.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var j=new fe(null);T&&Ma(j,T),m&&(j.g=m),U&&Li(j,U),p&&(j.l=p),T=j}return p=o.D,m=o.ya,p&&m&&Qt(T,p,m),Qt(T,"VER",o.la),ja(o,T),T}function yu(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new qt(new Bi({eb:p})):new qt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}s=_u.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Cr(){}Cr.prototype.g=function(o,m){return new Fe(o,m)};function Fe(o,m){ae.call(this),this.g=new br(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!Et(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Et(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Gn(this)}Z(Fe,ae),Fe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fe.prototype.close=function(){Ps(this.g)},Fe.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=Dn(o),o=p);m.i.push(new ru(m.Ya++,o)),m.G==3&&wr(m)},Fe.prototype.N=function(){this.g.l=null,delete this.j,Ps(this.g),delete this.g,Fe.aa.N.call(this)};function vu(o){ai.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}Z(vu,ai);function Eu(){Ds.call(this),this.status=1}Z(Eu,Ds);function Gn(o){this.g=o}Z(Gn,_u),Gn.prototype.ua=function(){kt(this.g,"a")},Gn.prototype.ta=function(o){kt(this.g,new vu(o))},Gn.prototype.sa=function(o){kt(this.g,new Eu)},Gn.prototype.ra=function(){kt(this.g,"b")},Cr.prototype.createWebChannel=Cr.prototype.g,Fe.prototype.send=Fe.prototype.o,Fe.prototype.open=Fe.prototype.m,Fe.prototype.close=Fe.prototype.close,T_=function(){return new Cr},E_=function(){return Oi()},v_=Un,xf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ui.NO_ERROR=0,Ui.TIMEOUT=8,Ui.HTTP_ERROR=6,Vo=Ui,ri.COMPLETE="complete",__=ri,ws.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",ae.prototype.listen=ae.prototype.K,Il=ws,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,y_=qt}).apply(typeof Ao<"u"?Ao:typeof self<"u"?self:typeof window<"u"?window:{});const cy="@firebase/firestore",hy="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ys="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new c_("@firebase/firestore");function is(){return sr.logLevel}function it(s,...e){if(sr.logLevel<=xt.DEBUG){const i=e.map(ed);sr.debug(`Firestore (${ys}): ${s}`,...i)}}function Vi(s,...e){if(sr.logLevel<=xt.ERROR){const i=e.map(ed);sr.error(`Firestore (${ys}): ${s}`,...i)}}function os(s,...e){if(sr.logLevel<=xt.WARN){const i=e.map(ed);sr.warn(`Firestore (${ys}): ${s}`,...i)}}function ed(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(s="Unexpected state"){const e=`FIRESTORE (${ys}) INTERNAL ASSERTION FAILED: `+s;throw Vi(e),new Error(e)}function jt(s,e){s||mt()}function vt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends ps{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class sA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class lA{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){jt(this.o===void 0);let r=this.i;const u=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let h=new ca;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ca,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},g=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ca)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(jt(typeof r.accessToken=="string"),new A_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string"),new Ge(e)}}class uA{constructor(e,i,r){this.l=e,this.h=i,this.P=r,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class oA{constructor(e,i,r){this.l=e,this.h=i,this.P=r}getToken(){return Promise.resolve(new uA(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cA{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,kT(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){jt(this.o===void 0);const r=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>r(h))};const u=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?u(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new fy(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(jt(typeof i.token=="string"),this.R=i.token,new fy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const u=hA(40);for(let h=0;h<u.length;++h)r.length<20&&u[h]<i&&(r+=e.charAt(u[h]%62))}return r}}function St(s,e){return s<e?-1:s>e?1:0}function Uf(s,e){let i=0;for(;i<s.length&&i<e.length;){const r=s.codePointAt(i),u=e.codePointAt(i);if(r!==u){if(r<128&&u<128)return St(r,u);{const h=S_(),d=fA(h.encode(dy(s,i)),h.encode(dy(e,i)));return d!==0?d:St(r,u)}}i+=r>65535?2:1}return St(s.length,e.length)}function dy(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function fA(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return St(s[i],e[i]);return St(s.length,e.length)}function cs(s,e,i){return s.length===e.length&&s.every((r,u)=>i(r,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my=-62135596800,gy=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*gy);return new Se(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<my)throw new ut(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gy}_compareTo(e){return this.seconds===e.seconds?St(this.nanoseconds,e.nanoseconds):St(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-my;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new Se(0,0))}static max(){return new yt(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="__name__";class $n{constructor(e,i,r){i===void 0?i=0:i>e.length&&mt(),r===void 0?r=e.length-i:r>e.length-i&&mt(),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return $n.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof $n?e.forEach(r=>{i.push(r)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let u=0;u<r;u++){const h=$n.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return St(e.length,i.length)}static compareSegments(e,i){const r=$n.isNumericId(e),u=$n.isNumericId(i);return r&&!u?-1:!r&&u?1:r&&u?$n.extractNumericId(e).compare($n.extractNumericId(i)):Uf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oa.fromString(e.substring(4,e.length-2))}}class ee extends $n{construct(e,i,r){return new ee(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ut(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(u=>u.length>0))}return new ee(i)}static emptyPath(){return new ee([])}}const dA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends $n{construct(e,i,r){return new Be(e,i,r)}static isValidIdentifier(e){return dA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===py}static keyField(){return new Be([py])}static fromServerFormat(e){const i=[];let r="",u=0;const h=()=>{if(r.length===0)throw new ut(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new ut(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ut(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(r+=g,u++):(h(),u++)}if(h(),d)throw new ut(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.path=e}static fromPath(e){return new ct(ee.fromString(e))}static fromName(e){return new ct(ee.fromString(e).popFirst(5))}static empty(){return new ct(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new ee(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=-1;function mA(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,u=yt.fromTimestamp(r===1e9?new Se(i+1,0):new Se(i,r));return new da(u,ct.empty(),e)}function gA(s){return new da(s.readTime,s.key,ql)}class da{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new da(yt.min(),ct.empty(),ql)}static max(){return new da(yt.max(),ct.empty(),ql)}}function pA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(s.documentKey,e.documentKey),i!==0?i:St(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _A{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _s(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==yA)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new K((r,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):K.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):K.reject(i)}static resolve(e){return new K((i,r)=>{i(e)})}static reject(e){return new K((i,r)=>{r(e)})}static waitFor(e){return new K((i,r)=>{let u=0,h=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++h,d&&h===u&&i()},_=>r(_))}),d=!0,h===u&&i()})}static or(e){let i=K.resolve(!1);for(const r of e)i=i.next(u=>u?K.resolve(u):r());return i}static forEach(e,i){const r=[];return e.forEach((u,h)=>{r.push(i.call(this,u,h))}),this.waitFor(r)}static mapArray(e,i){return new K((r,u)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++g,g===h&&r(d)},A=>u(A))}})}static doWhile(e,i){return new K((r,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):r()};h()})}}function vA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function vs(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.oe(r),this._e=r=>i.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}$o.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=-1;function Jo(s){return s==null}function Po(s){return s===0&&1/s==-1/0}function EA(s){return typeof s=="number"&&Number.isInteger(s)&&!Po(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="";function TA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=yy(e)),e=AA(s.get(i),e);return yy(e)}function AA(s,e){let i=e;const r=s.length;for(let u=0;u<r;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case R_:i+="";break;default:i+=h}}return i}function yy(s){return s+R_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function va(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function w_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,i){this.comparator=e,this.root=i||Le.EMPTY}insert(e,i){return new ie(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(e){return new ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Le.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const u=this.comparator(e,r.key);if(u===0)return i+r.left.size;u<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,r)=>(e(i,r),!1))}toString(){const e=[];return this.inorderTraversal((i,r)=>(e.push(`${i}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new So(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new So(this.root,e,this.comparator,!1)}getReverseIterator(){return new So(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new So(this.root,e,this.comparator,!0)}}class So{constructor(e,i,r,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Le{constructor(e,i,r,u,h){this.key=e,this.value=i,this.color=r??Le.RED,this.left=u??Le.EMPTY,this.right=h??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,u,h){return new Le(e??this.key,i??this.value,r??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let u=this;const h=r(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,r),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,r)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Le.EMPTY;r=u.right.min(),u=u.copy(r.key,r.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const e=this.left.check();if(e!==this.right.check())throw mt();return e+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(e,i,r,u,h){return this}insert(e,i,r){return new Le(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,r)=>(e(i),!1))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const u=r.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new vy(this.data.getIterator())}getIteratorFrom(e){return new vy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(r=>{i=i.add(r)}),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=r.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class vy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new fn([])}unionWith(e){let i=new be(Be.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new fn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return cs(this.fields,e.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new D_("Invalid base64 string: "+h):h}}(e);return new Pe(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Pe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let u=0;u<i.length;u++)r[u]=i.charCodeAt(u);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return St(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pe.EMPTY_BYTE_STRING=new Pe("");const SA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ma(s){if(jt(!!s),typeof s=="string"){let e=0;const i=SA.exec(s);if(jt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ce(s.seconds),nanos:ce(s.nanos)}}function ce(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ga(s){return typeof s=="string"?Pe.fromBase64String(s):Pe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="server_timestamp",V_="__type__",N_="__previous_value__",I_="__local_write_time__";function id(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[V_])===null||i===void 0?void 0:i.stringValue)===C_}function Wo(s){const e=s.mapValue.fields[N_];return id(e)?Wo(e):e}function jl(s){const e=ma(s.mapValue.fields[I_].timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,i,r,u,h,d,g,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}const qo="(default)";class kl{constructor(e,i){this.projectId=e,this.database=i||qo}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===qo}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="__type__",RA="__max__",bo={mapValue:{}},M_="__vector__",jo="value";function pa(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?id(s)?4:DA(s)?9007199254740991:wA(s)?10:11:mt()}function ti(s,e){if(s===e)return!0;const i=pa(s);if(i!==pa(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return jl(s).isEqual(jl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=ma(u.timestampValue),g=ma(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return ga(u.bytesValue).isEqual(ga(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return ce(u.geoPointValue.latitude)===ce(h.geoPointValue.latitude)&&ce(u.geoPointValue.longitude)===ce(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return ce(u.integerValue)===ce(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ce(u.doubleValue),g=ce(h.doubleValue);return d===g?Po(d)===Po(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return cs(s.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(_y(d)!==_y(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ti(d[_],g[_])))return!1;return!0}(s,e);default:return mt()}}function Hl(s,e){return(s.values||[]).find(i=>ti(i,e))!==void 0}function hs(s,e){if(s===e)return 0;const i=pa(s),r=pa(e);if(i!==r)return St(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return St(s.booleanValue,e.booleanValue);case 2:return function(h,d){const g=ce(h.integerValue||h.doubleValue),_=ce(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(s,e);case 3:return Ey(s.timestampValue,e.timestampValue);case 4:return Ey(jl(s),jl(e));case 5:return Uf(s.stringValue,e.stringValue);case 6:return function(h,d){const g=ga(h),_=ga(d);return g.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=St(g[v],_[v]);if(A!==0)return A}return St(g.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const g=St(ce(h.latitude),ce(d.latitude));return g!==0?g:St(ce(h.longitude),ce(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Ty(s.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,A;const M=h.fields||{},B=d.fields||{},Q=(g=M[jo])===null||g===void 0?void 0:g.arrayValue,Z=(_=B[jo])===null||_===void 0?void 0:_.arrayValue,nt=St(((v=Q==null?void 0:Q.values)===null||v===void 0?void 0:v.length)||0,((A=Z==null?void 0:Z.values)===null||A===void 0?void 0:A.length)||0);return nt!==0?nt:Ty(Q,Z)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===bo.mapValue&&d===bo.mapValue)return 0;if(h===bo.mapValue)return 1;if(d===bo.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let M=0;M<_.length&&M<A.length;++M){const B=Uf(_[M],A[M]);if(B!==0)return B;const Q=hs(g[_[M]],v[A[M]]);if(Q!==0)return Q}return St(_.length,A.length)}(s.mapValue,e.mapValue);default:throw mt()}}function Ey(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return St(s,e);const i=ma(s),r=ma(e),u=St(i.seconds,r.seconds);return u!==0?u:St(i.nanos,r.nanos)}function Ty(s,e){const i=s.values||[],r=e.values||[];for(let u=0;u<i.length&&u<r.length;++u){const h=hs(i[u],r[u]);if(h)return h}return St(i.length,r.length)}function fs(s){return zf(s)}function zf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const r=ma(i);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return ga(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ct.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let r="[",u=!0;for(const h of i.values||[])u?u=!1:r+=",",r+=zf(h);return r+"]"}(s.arrayValue):"mapValue"in s?function(i){const r=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of r)h?h=!1:u+=",",u+=`${d}:${zf(i.fields[d])}`;return u+"}"}(s.mapValue):mt()}function No(s){switch(pa(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wo(s);return e?16+No(e):16;case 5:return 2*s.stringValue.length;case 6:return ga(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((u,h)=>u+No(h),0)}(s.arrayValue);case 10:case 11:return function(r){let u=0;return va(r.fields,(h,d)=>{u+=h.length+No(d)}),u}(s.mapValue);default:throw mt()}}function Lf(s){return!!s&&"integerValue"in s}function ad(s){return!!s&&"arrayValue"in s}function Ay(s){return!!s&&"nullValue"in s}function Sy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Io(s){return!!s&&"mapValue"in s}function wA(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[O_])===null||i===void 0?void 0:i.stringValue)===M_}function xl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return va(s.mapValue.fields,(i,r)=>e.mapValue.fields[i]=xl(r)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=xl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function DA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===RA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Io(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=xl(i)}setAll(e){let i=Be.emptyPath(),r={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,r,u),r={},u=[],i=g.popLast()}d?r[g.lastSegment()]=xl(d):u.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,r,u)}delete(e){const i=this.field(e.popLast());Io(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let u=i.mapValue.fields[e.get(r)];Io(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,r){va(i,(u,h)=>e[u]=h);for(const u of r)delete e[u]}clone(){return new en(xl(this.value))}}function x_(s){const e=[];return va(s.fields,(i,r)=>{const u=new Be([i]);if(Io(r)){const h=x_(r.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,r,u,h,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Qe(e,0,yt.min(),yt.min(),yt.min(),en.empty(),0)}static newFoundDocument(e,i,r,u){return new Qe(e,1,i,yt.min(),r,u,0)}static newNoDocument(e,i){return new Qe(e,2,i,yt.min(),yt.min(),en.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,yt.min(),yt.min(),en.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,i){this.position=e,this.inclusive=i}}function by(s,e,i){let r=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?r=ct.comparator(ct.fromName(d.referenceValue),i.key):r=hs(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ry(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ti(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,i="asc"){this.field=e,this.dir=i}}function CA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{}class Ae extends U_{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new NA(e,i,r):i==="array-contains"?new MA(e,r):i==="in"?new xA(e,r):i==="not-in"?new UA(e,r):i==="array-contains-any"?new zA(e,r):new Ae(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new IA(e,r):new OA(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(hs(i,this.value)):i!==null&&pa(this.value)===pa(i)&&this.matchesComparison(hs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends U_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ei(e,i)}matches(e){return z_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function z_(s){return s.op==="and"}function L_(s){return VA(s)&&z_(s)}function VA(s){for(const e of s.filters)if(e instanceof ei)return!1;return!0}function Bf(s){if(s instanceof Ae)return s.field.canonicalString()+s.op.toString()+fs(s.value);if(L_(s))return s.filters.map(e=>Bf(e)).join(",");{const e=s.filters.map(i=>Bf(i)).join(",");return`${s.op}(${e})`}}function B_(s,e){return s instanceof Ae?function(r,u){return u instanceof Ae&&r.op===u.op&&r.field.isEqual(u.field)&&ti(r.value,u.value)}(s,e):s instanceof ei?function(r,u){return u instanceof ei&&r.op===u.op&&r.filters.length===u.filters.length?r.filters.reduce((h,d,g)=>h&&B_(d,u.filters[g]),!0):!1}(s,e):void mt()}function P_(s){return s instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${fs(i.value)}`}(s):s instanceof ei?function(i){return i.op.toString()+" {"+i.getFilters().map(P_).join(" ,")+"}"}(s):"Filter"}class NA extends Ae{constructor(e,i,r){super(e,i,r),this.key=ct.fromName(r.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class IA extends Ae{constructor(e,i){super(e,"in",i),this.keys=q_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class OA extends Ae{constructor(e,i){super(e,"not-in",i),this.keys=q_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function q_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(r=>ct.fromName(r.referenceValue))}class MA extends Ae{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return ad(i)&&Hl(i.arrayValue,this.value)}}class xA extends Ae{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Hl(this.value.arrayValue,i)}}class UA extends Ae{constructor(e,i){super(e,"not-in",i)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Hl(this.value.arrayValue,i)}}class zA extends Ae{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!ad(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>Hl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,i=null,r=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function wy(s,e=null,i=[],r=[],u=null,h=null,d=null){return new LA(s,e,i,r,u,h,d)}function rd(s){const e=vt(s);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(r=>Bf(r)).join(","),i+="|ob:",i+=e.orderBy.map(r=>function(h){return h.field.canonicalString()+h.dir}(r)).join(","),Jo(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>fs(r)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>fs(r)).join(",")),e.le=i}return e.le}function sd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!CA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!B_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Ry(s.startAt,e.startAt)&&Ry(s.endAt,e.endAt)}function Pf(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,i=null,r=[],u=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function BA(s,e,i,r,u,h,d,g){return new tc(s,e,i,r,u,h,d,g)}function j_(s){return new tc(s)}function Dy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function PA(s){return s.collectionGroup!==null}function Ul(s){const e=vt(s);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(Be.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new Ho(h,r))}),i.has(Be.keyField().canonicalString())||e.he.push(new Ho(Be.keyField(),r))}return e.he}function Jn(s){const e=vt(s);return e.Pe||(e.Pe=qA(e,Ul(s))),e.Pe}function qA(s,e){if(s.limitType==="F")return wy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Ho(u.field,h)});const i=s.endAt?new ko(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new ko(s.startAt.position,s.startAt.inclusive):null;return wy(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function qf(s,e,i){return new tc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function ec(s,e){return sd(Jn(s),Jn(e))&&s.limitType===e.limitType}function k_(s){return`${rd(Jn(s))}|lt:${s.limitType}`}function as(s){return`Query(target=${function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(u=>P_(u)).join(", ")}]`),Jo(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map(u=>fs(u)).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map(u=>fs(u)).join(",")),`Target(${r})`}(Jn(s))}; limitType=${s.limitType})`}function nc(s,e){return e.isFoundDocument()&&function(r,u){const h=u.key.path;return r.collectionGroup!==null?u.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):ct.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)}(s,e)&&function(r,u){for(const h of Ul(r))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(r,u){for(const h of r.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(r,u){return!(r.startAt&&!function(d,g,_){const v=by(d,g,_);return d.inclusive?v<=0:v<0}(r.startAt,Ul(r),u)||r.endAt&&!function(d,g,_){const v=by(d,g,_);return d.inclusive?v>=0:v>0}(r.endAt,Ul(r),u))}(s,e)}function jA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function H_(s){return(e,i)=>{let r=!1;for(const u of Ul(s)){const h=kA(u,e,i);if(h!==0)return h;r=r||u.field.isKeyField()}return 0}}function kA(s,e,i){const r=s.field.isKeyField()?ct.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?hs(_,v):mt()}(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return mt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[u,h]of r)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),u=this.inner[r];if(u===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let u=0;u<r.length;u++)if(this.equalsFn(r[u][0],e))return r.length===1?delete this.inner[i]:r.splice(u,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,(i,r)=>{for(const[u,h]of r)e(u,h)})}isEmpty(){return w_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=new ie(ct.comparator);function Ni(){return HA}const G_=new ie(ct.comparator);function Ol(...s){let e=G_;for(const i of s)e=e.insert(i.key,i);return e}function Q_(s){let e=G_;return s.forEach((i,r)=>e=e.insert(i,r.overlayedDocument)),e}function rr(){return zl()}function Y_(){return zl()}function zl(){return new or(s=>s.toString(),(s,e)=>s.isEqual(e))}const GA=new ie(ct.comparator),QA=new be(ct.comparator);function Vt(...s){let e=QA;for(const i of s)e=e.add(i);return e}const YA=new be(St);function KA(){return YA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Po(e)?"-0":e}}function K_(s){return{integerValue:""+s}}function FA(s,e){return EA(e)?K_(e):ld(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(){this._=void 0}}function XA(s,e,i){return s instanceof Go?function(u,h){const d={fields:{[V_]:{stringValue:C_},[I_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&id(h)&&(h=Wo(h)),h&&(d.fields[N_]=h),{mapValue:d}}(i,e):s instanceof Gl?X_(s,e):s instanceof Ql?Z_(s,e):function(u,h){const d=F_(u,h),g=Cy(d)+Cy(u.Ie);return Lf(d)&&Lf(u.Ie)?K_(g):ld(u.serializer,g)}(s,e)}function ZA(s,e,i){return s instanceof Gl?X_(s,e):s instanceof Ql?Z_(s,e):i}function F_(s,e){return s instanceof Qo?function(r){return Lf(r)||function(h){return!!h&&"doubleValue"in h}(r)}(e)?e:{integerValue:0}:null}class Go extends ic{}class Gl extends ic{constructor(e){super(),this.elements=e}}function X_(s,e){const i=$_(e);for(const r of s.elements)i.some(u=>ti(u,r))||i.push(r);return{arrayValue:{values:i}}}class Ql extends ic{constructor(e){super(),this.elements=e}}function Z_(s,e){let i=$_(e);for(const r of s.elements)i=i.filter(u=>!ti(u,r));return{arrayValue:{values:i}}}class Qo extends ic{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function Cy(s){return ce(s.integerValue||s.doubleValue)}function $_(s){return ad(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function $A(s,e){return s.field.isEqual(e.field)&&function(r,u){return r instanceof Gl&&u instanceof Gl||r instanceof Ql&&u instanceof Ql?cs(r.elements,u.elements,ti):r instanceof Qo&&u instanceof Qo?ti(r.Ie,u.Ie):r instanceof Go&&u instanceof Go}(s.transform,e.transform)}class JA{constructor(e,i){this.version=e,this.transformResults=i}}class Mn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class ac{}function J_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new ud(s.key,Mn.none()):new Yl(s.key,s.data,Mn.none());{const i=s.data,r=en.empty();let u=new be(Be.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),u=u.add(h)}return new Ea(s.key,r,new fn(u.toArray()),Mn.none())}}function WA(s,e,i){s instanceof Yl?function(u,h,d){const g=u.value.clone(),_=Ny(u.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,i):s instanceof Ea?function(u,h,d){if(!Oo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Ny(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(W_(u)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Ll(s,e,i,r){return s instanceof Yl?function(h,d,g,_){if(!Oo(h.precondition,d))return g;const v=h.value.clone(),A=Iy(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,r):s instanceof Ea?function(h,d,g,_){if(!Oo(h.precondition,d))return g;const v=Iy(h.fieldTransforms,_,d),A=d.data;return A.setAll(W_(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(M=>M.field))}(s,e,i,r):function(h,d,g){return Oo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,i)}function tS(s,e){let i=null;for(const r of s.fieldTransforms){const u=e.data.field(r.field),h=F_(r.transform,u||null);h!=null&&(i===null&&(i=en.empty()),i.set(r.field,h))}return i||null}function Vy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(r,u){return r===void 0&&u===void 0||!(!r||!u)&&cs(r,u,(h,d)=>$A(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Yl extends ac{constructor(e,i,r,u=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ea extends ac{constructor(e,i,r,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function W_(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}}),e}function Ny(s,e,i){const r=new Map;jt(s.length===i.length);for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,g=e.data.field(h.field);r.set(h.field,ZA(d,g,i[u]))}return r}function Iy(s,e,i){const r=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);r.set(u.field,XA(h,d,e))}return r}class ud extends ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eS extends ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,i,r,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=u}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&WA(h,e,r[u])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Ll(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Ll(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Y_();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const _=J_(d,g);_!==null&&r.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(yt.min())}),r}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Vt())}isEqual(e){return this.batchId===e.batchId&&cs(this.mutations,e.mutations,(i,r)=>Vy(i,r))&&cs(this.baseMutations,e.baseMutations,(i,r)=>Vy(i,r))}}class od{constructor(e,i,r,u){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=u}static from(e,i,r){jt(e.mutations.length===r.length);let u=function(){return GA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,r[d].version);return new od(e,i,r,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Mt;function rS(s){switch(s){case X.OK:return mt();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return mt()}}function tv(s){if(s===void 0)return Vi("GRPC error has no .code"),X.UNKNOWN;switch(s){case ge.OK:return X.OK;case ge.CANCELLED:return X.CANCELLED;case ge.UNKNOWN:return X.UNKNOWN;case ge.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ge.INTERNAL:return X.INTERNAL;case ge.UNAVAILABLE:return X.UNAVAILABLE;case ge.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ge.NOT_FOUND:return X.NOT_FOUND;case ge.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ge.ABORTED:return X.ABORTED;case ge.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ge.DATA_LOSS:return X.DATA_LOSS;default:return mt()}}(Mt=ge||(ge={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=new oa([4294967295,4294967295],0);function Oy(s){const e=S_().encode(s),i=new p_;return i.update(e),new Uint8Array(i.digest())}function My(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new oa([i,r],0),new oa([u,h],0)]}class cd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Ml(`Invalid padding: ${i}`);if(r<0)throw new Ml(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=oa.fromNumber(this.Ee)}Ae(e,i,r){let u=e.add(i.multiply(oa.fromNumber(r)));return u.compare(sS)===1&&(u=new oa([u.getBits(0),u.getBits(1)],0)),u.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=Oy(e),[r,u]=My(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(r,u,h);if(!this.Re(d))return!1}return!0}static create(e,i,r){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new cd(h,u,i);return r.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=Oy(e),[r,u]=My(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(r,u,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,i,r,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const u=new Map;return u.set(e,Kl.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new rc(yt.min(),u,new ie(St),Ni(),Vt())}}class Kl{constructor(e,i,r,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Kl(r,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,i,r,u){this.me=e,this.removedTargetIds=i,this.key=r,this.fe=u}}class ev{constructor(e,i){this.targetId=e,this.ge=i}}class nv{constructor(e,i,r=Pe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=u}}class xy{constructor(){this.pe=0,this.ye=Uy(),this.we=Pe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Vt(),i=Vt(),r=Vt();return this.ye.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:r=r.add(u);break;default:mt()}}),new Kl(this.we,this.Se,e,i,r)}Me(){this.be=!1,this.ye=Uy()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,jt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class lS{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ni(),this.$e=Ro(),this.Ue=Ro(),this.Ke=new ie(St)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const r=this.He(i);switch(e.state){case 0:this.Je(i)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(i);break;case 3:this.Je(i)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),r.Ce(e.resumeToken));break;default:mt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((r,u)=>{this.Je(u)&&i(u)})}Ze(e){const i=e.targetId,r=e.ge.count,u=this.Xe(i);if(u){const h=u.target;if(Pf(h))if(r===0){const d=new ct(h.path);this.ze(i,d,Qe.newNoDocument(d,yt.min()))}else jt(r===1);else{const d=this.et(i);if(d!==r){const g=this.tt(e),_=g?this.nt(g,e,d):1;if(_!==0){this.Ye(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,v)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=ga(r).toUint8Array()}catch(_){if(_ instanceof D_)return os("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new cd(d,u,h)}catch(_){return os(_ instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Ee===0?null:g}nt(e,i,r){return i.ge.count===r-this.st(e,i.targetId)?0:2}st(e,i){const r=this.ke.getRemoteKeysForTarget(i);let u=0;return r.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,h,null),u++)}),u}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&Pf(g.target)){const _=new ct(g.target.path);this._t(_).has(d)||this.ut(d,_)||this.ze(d,_,Qe.newNoDocument(_,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let r=Vt();this.Ue.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.Xe(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(r=r.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const u=new rc(e,i,this.Ke,this.Qe,r);return this.Qe=Ni(),this.$e=Ro(),this.Ue=Ro(),this.Ke=new ie(St),u}Ge(e,i){if(!this.Je(e))return;const r=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,r),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,r){if(!this.Je(e))return;const u=this.He(e);this.ut(e,i)?u.xe(i,1):u.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),r&&(this.Qe=this.Qe.insert(i,r))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new xy,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new be(St),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new be(St),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new xy),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Ro(){return new ie(ct.comparator)}function Uy(){return new ie(ct.comparator)}const uS={asc:"ASCENDING",desc:"DESCENDING"},oS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cS={and:"AND",or:"OR"};class hS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function jf(s,e){return s.useProto3Json||Jo(e)?e:{value:e}}function Yo(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function fS(s,e){return Yo(s,e.toTimestamp())}function Wn(s){return jt(!!s),yt.fromTimestamp(function(i){const r=ma(i);return new Se(r.seconds,r.nanos)}(s))}function hd(s,e){return kf(s,e).canonicalString()}function kf(s,e){const i=function(u){return new ee(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function av(s){const e=ee.fromString(s);return jt(ov(e)),e}function Hf(s,e){return hd(s.databaseId,e.path)}function Rf(s,e){const i=av(e);if(i.get(1)!==s.databaseId.projectId)throw new ut(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ut(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ct(sv(i))}function rv(s,e){return hd(s.databaseId,e)}function dS(s){const e=av(s);return e.length===4?ee.emptyPath():sv(e)}function Gf(s){return new ee(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function sv(s){return jt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function zy(s,e,i){return{name:Hf(s,e),fields:i.value.mapValue.fields}}function mS(s,e){let i;if("targetChange"in e){e.targetChange;const r=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:mt()}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(jt(A===void 0||typeof A=="string"),Pe.fromBase64String(A||"")):(jt(A===void 0||A instanceof Buffer||A instanceof Uint8Array),Pe.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const A=v.code===void 0?X.UNKNOWN:tv(v.code);return new ut(A,v.message||"")}(d);i=new nv(r,u,h,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const u=Rf(s,r.document.name),h=Wn(r.document.updateTime),d=r.document.createTime?Wn(r.document.createTime):yt.min(),g=new en({mapValue:{fields:r.document.fields}}),_=Qe.newFoundDocument(u,h,d,g),v=r.targetIds||[],A=r.removedTargetIds||[];i=new Mo(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const u=Rf(s,r.document),h=r.readTime?Wn(r.readTime):yt.min(),d=Qe.newNoDocument(u,h),g=r.removedTargetIds||[];i=new Mo([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const u=Rf(s,r.document),h=r.removedTargetIds||[];i=new Mo([],h,u,null)}else{if(!("filter"in e))return mt();{e.filter;const r=e.filter;r.targetId;const{count:u=0,unchangedNames:h}=r,d=new aS(u,h),g=r.targetId;i=new ev(g,d)}}return i}function gS(s,e){let i;if(e instanceof Yl)i={update:zy(s,e.key,e.value)};else if(e instanceof ud)i={delete:Hf(s,e.key)};else if(e instanceof Ea)i={update:zy(s,e.key,e.data),updateMask:bS(e.fieldMask)};else{if(!(e instanceof eS))return mt();i={verify:Hf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(r=>function(h,d){const g=d.transform;if(g instanceof Go)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Gl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Qo)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw mt()}(0,r))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:fS(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:mt()}(s,e.precondition)),i}function pS(s,e){return s&&s.length>0?(jt(e!==void 0),s.map(i=>function(u,h){let d=u.updateTime?Wn(u.updateTime):Wn(h);return d.isEqual(yt.min())&&(d=Wn(h)),new JA(d,u.transformResults||[])}(i,e))):[]}function yS(s,e){return{documents:[rv(s,e.path)]}}function _S(s,e){const i={structuredQuery:{}},r=e.path;let u;e.collectionGroup!==null?(u=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=rv(s,u);const h=function(v){if(v.length!==0)return uv(ei.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(B){return{field:rs(B.field),direction:TS(B.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=jf(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:i,parent:u}}function vS(s){let e=dS(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let u=null;if(r>0){jt(r===1);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(M){const B=lv(M);return B instanceof ei&&L_(B)?B.getFilters():[B]}(i.where));let d=[];i.orderBy&&(d=function(M){return M.map(B=>function(Z){return new Ho(ss(Z.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(B))}(i.orderBy));let g=null;i.limit&&(g=function(M){let B;return B=typeof M=="object"?M.value:M,Jo(B)?null:B}(i.limit));let _=null;i.startAt&&(_=function(M){const B=!!M.before,Q=M.values||[];return new ko(Q,B)}(i.startAt));let v=null;return i.endAt&&(v=function(M){const B=!M.before,Q=M.values||[];return new ko(Q,B)}(i.endAt)),BA(e,u,d,h,g,"F",_,v)}function ES(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function lv(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=ss(i.unaryFilter.field);return Ae.create(r,"==",{doubleValue:NaN});case"IS_NULL":const u=ss(i.unaryFilter.field);return Ae.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ss(i.unaryFilter.field);return Ae.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ss(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}(s):s.fieldFilter!==void 0?function(i){return Ae.create(ss(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return ei.create(i.compositeFilter.filters.map(r=>lv(r)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return mt()}}(i.compositeFilter.op))}(s):mt()}function TS(s){return uS[s]}function AS(s){return oS[s]}function SS(s){return cS[s]}function rs(s){return{fieldPath:s.canonicalString()}}function ss(s){return Be.fromServerFormat(s.fieldPath)}function uv(s){return s instanceof Ae?function(i){if(i.op==="=="){if(Sy(i.value))return{unaryFilter:{field:rs(i.field),op:"IS_NAN"}};if(Ay(i.value))return{unaryFilter:{field:rs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Sy(i.value))return{unaryFilter:{field:rs(i.field),op:"IS_NOT_NAN"}};if(Ay(i.value))return{unaryFilter:{field:rs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rs(i.field),op:AS(i.op),value:i.value}}}(s):s instanceof ei?function(i){const r=i.getFilters().map(u=>uv(u));return r.length===1?r[0]:{compositeFilter:{op:SS(i.op),filters:r}}}(s):mt()}function bS(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function ov(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,i,r,u,h=yt.min(),d=yt.min(),g=Pe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.Tt=e}}function wS(s){const e=vS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?qf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.Tn=new CS}addToCollectionParentIndex(e,i){return this.Tn.add(i),K.resolve()}getCollectionParents(e,i){return K.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return K.resolve()}deleteFieldIndex(e,i){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,i){return K.resolve()}getDocumentsMatchingTarget(e,i){return K.resolve(null)}getIndexType(e,i){return K.resolve(0)}getFieldIndexes(e,i){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,i){return K.resolve(da.min())}getMinOffsetFromCollectionGroup(e,i){return K.resolve(da.min())}updateCollectionGroup(e,i,r){return K.resolve()}updateIndexEntries(e,i){return K.resolve()}}class CS{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),u=this.index[i]||new be(ee.comparator),h=!u.has(r);return this.index[i]=u.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),u=this.index[i];return u&&u.has(r)}getEntries(e){return(this.index[e]||new be(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cv=41943040;class We{static withCacheSize(e){return new We(e,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */We.DEFAULT_COLLECTION_PERCENTILE=10,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,We.DEFAULT=new We(cv,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),We.DISABLED=new We(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ds(0)}static Kn(){return new ds(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="LruGarbageCollector",VS=1048576;function Py([s,e],[i,r]){const u=St(s,i);return u===0?St(e,r):u}class NS{constructor(e){this.Hn=e,this.buffer=new be(Py),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Py(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class IS{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){it(By,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){vs(i)?it(By,"Ignoring IndexedDB error during garbage collection: ",i):await _s(i)}await this.er(3e5)})}}class OS{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(r=>Math.floor(i/100*r))}nthSequenceNumber(e,i){if(i===0)return K.resolve($o.ae);const r=new NS(i);return this.tr.forEachTarget(e,u=>r.Zn(u.sequenceNumber)).next(()=>this.tr.rr(e,u=>r.Zn(u))).next(()=>r.maxValue)}removeTargets(e,i,r){return this.tr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Ly)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ly):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let r,u,h,d,g,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),u=this.params.maximumSequenceNumbersToCollect):u=M,d=Date.now(),this.nthSequenceNumber(e,u))).next(M=>(r=M,g=Date.now(),this.removeTargets(e,r,i))).next(M=>(h=M,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(v=Date.now(),is()<=xt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${M} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:M})))}}function MS(s,e){return new OS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.changes=new or(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?K.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,i,r,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=u}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(r=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(r!==null&&Ll(r.mutation,u,fn.empty(),Se.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(r=>this.getLocalViewOfDocuments(e,r,Vt()).next(()=>r))}getLocalViewOfDocuments(e,i,r=Vt()){const u=rr();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,r).next(h=>{let d=Ol();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const r=rr();return this.populateOverlays(e,r,i).next(()=>this.computeViews(e,i,r,Vt()))}populateOverlays(e,i,r){const u=[];return r.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,r,u){let h=Ni();const d=zl(),g=function(){return zl()}();return i.forEach((_,v)=>{const A=r.get(v.key);u.has(v.key)&&(A===void 0||A.mutation instanceof Ea)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Ll(A.mutation,v,A.mutation.getFieldMask(),Se.now())):d.set(v.key,fn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var M;return g.set(v,new US(A,(M=d.get(v))!==null&&M!==void 0?M:null))}),g))}recalculateAndSaveOverlays(e,i){const r=zl();let u=new ie((d,g)=>d-g),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=r.get(_)||fn.empty();A=g.applyToLocalView(v,A),r.set(_,A);const M=(u.get(g.batchId)||Vt()).add(_);u=u.insert(g.batchId,M)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,M=Y_();A.forEach(B=>{if(!h.has(B)){const Q=J_(i.get(B),r.get(B));Q!==null&&M.set(B,Q),h=h.add(B)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,M))}return K.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,i,r,u){return function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):PA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,u):this.getDocumentsMatchingCollectionQuery(e,i,r,u)}getNextDocuments(e,i,r,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,u-h.size):K.resolve(rr());let g=ql,_=h;return d.next(v=>K.forEach(v,(A,M)=>(g<M.largestBatchId&&(g=M.largestBatchId),h.get(A)?K.resolve():this.remoteDocumentCache.getEntry(e,A).next(B=>{_=_.insert(A,B)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Vt())).next(A=>({batchId:g,changes:Q_(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next(r=>{let u=Ol();return r.isFoundDocument()&&(u=u.insert(r.key,r)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,r,u){const h=i.collectionGroup;let d=Ol();return this.indexManager.getCollectionParents(e,h).next(g=>K.forEach(g,_=>{const v=function(M,B){return new tc(B,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,r,u).next(A=>{A.forEach((M,B)=>{d=d.insert(M,B)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,r,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,u))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))});let g=Ol();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&Ll(A.mutation,v,fn.empty(),Se.now()),nc(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return K.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:Wn(u.createTime)}}(i)),K.resolve()}getNamedQuery(e,i){return K.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(u){return{name:u.name,query:wS(u.bundledQuery),readTime:Wn(u.readTime)}}(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.overlays=new ie(ct.comparator),this.Rr=new Map}getOverlay(e,i){return K.resolve(this.overlays.get(i))}getOverlays(e,i){const r=rr();return K.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&r.set(u,h)})).next(()=>r)}saveOverlays(e,i,r){return r.forEach((u,h)=>{this.Et(e,i,h)}),K.resolve()}removeOverlaysForBatchId(e,i,r){const u=this.Rr.get(r);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(r)),K.resolve()}getOverlaysForCollection(e,i,r){const u=rr(),h=i.length+1,d=new ct(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>r&&u.set(_.getKey(),_)}return K.resolve(u)}getOverlaysForCollectionGroup(e,i,r,u){let h=new ie((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let A=h.get(v.largestBatchId);A===null&&(A=rr(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=rr(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=u)););return K.resolve(g)}Et(e,i,r){const u=this.overlays.get(r.key);if(u!==null){const d=this.Rr.get(u.largestBatchId).delete(r.key);this.Rr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new iS(i,r));let h=this.Rr.get(i);h===void 0&&(h=Vt(),this.Rr.set(i,h)),this.Rr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(){this.sessionToken=Pe.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this.Vr=new be(Ie.mr),this.gr=new be(Ie.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const r=new Ie(e,i);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,i){e.forEach(r=>this.addReference(r,i))}removeReference(e,i){this.wr(new Ie(e,i))}Sr(e,i){e.forEach(r=>this.removeReference(r,i))}br(e){const i=new ct(new ee([])),r=new Ie(i,e),u=new Ie(i,e+1),h=[];return this.gr.forEachInRange([r,u],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new ct(new ee([])),r=new Ie(i,e),u=new Ie(i,e+1);let h=Vt();return this.gr.forEachInRange([r,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ie(e,0),r=this.Vr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Ie{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return ct.comparator(e.key,i.key)||St(e.Cr,i.Cr)}static pr(e,i){return St(e.Cr,i.Cr)||ct.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new be(Ie.mr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,u){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new nS(h,i,r,u);this.mutationQueue.push(d);for(const g of u)this.Mr=this.Mr.add(new Ie(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,i){return K.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,u=this.Nr(r),h=u<0?0:u;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?nd:this.Fr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Ie(i,0),u=new Ie(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([r,u],d=>{const g=this.Or(d.Cr);h.push(g)}),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new be(St);return i.forEach(u=>{const h=new Ie(u,0),d=new Ie(u,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{r=r.add(g.Cr)})}),K.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,u=r.length+1;let h=r;ct.isDocumentKey(h)||(h=h.child(""));const d=new Ie(new ct(h),0);let g=new be(St);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!r.isPrefixOf(v)&&(v.length===u&&(g=g.add(_.Cr)),!0)},d),K.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(r=>{const u=this.Or(r);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){jt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return K.forEach(i.mutations,u=>{const h=new Ie(u.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,i){const r=new Ie(i,0),u=this.Mr.firstAfterOrEqual(r);return K.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.kr=e,this.docs=function(){return new ie(ct.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,u=this.docs.get(r),h=u?u.size:0,d=this.kr(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return K.resolve(r?r.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let r=Ni();return i.forEach(u=>{const h=this.docs.get(u);r=r.insert(u,h?h.document.mutableCopy():Qe.newInvalidDocument(u))}),K.resolve(r)}getDocumentsMatchingQuery(e,i,r,u){let h=Ni();const d=i.path,g=new ct(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||pA(gA(A),r)<=0||(u.has(A.key)||nc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(e,i,r,u){mt()}qr(e,i){return K.forEach(this.docs,r=>i(r))}newChangeBuffer(e){return new kS(this)}getSize(e){return K.resolve(this.size)}}class kS extends xS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((r,u)=>{u.isValidDocument()?i.push(this.Ir.addEntry(e,u)):this.Ir.removeEntry(r)}),K.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.persistence=e,this.Qr=new or(i=>rd(i),sd),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new fd,this.targetCount=0,this.Kr=ds.Un()}forEachTarget(e,i){return this.Qr.forEach((r,u)=>i(u)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.$r&&(this.$r=i),K.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new ds(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,K.resolve()}updateTargetData(e,i){return this.zn(i),K.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,i,r){let u=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),K.waitFor(h).next(()=>u)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,i){const r=this.Qr.get(i)||null;return K.resolve(r)}addMatchingKeys(e,i,r){return this.Ur.yr(i,r),K.resolve()}removeMatchingKeys(e,i,r){this.Ur.Sr(i,r);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),K.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),K.resolve()}getMatchingKeysForTargetId(e,i){const r=this.Ur.vr(i);return K.resolve(r)}containsKey(e,i){return K.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new $o(0),this.zr=!1,this.zr=!0,this.jr=new PS,this.referenceDelegate=e(this),this.Hr=new HS(this),this.indexManager=new DS,this.remoteDocumentCache=function(u){return new jS(u)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new RS(i),this.Yr=new LS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new BS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.Wr[e.toKey()];return r||(r=new qS(i,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,r){it("MemoryPersistence","Starting transaction:",e);const u=new GS(this.Gr.next());return this.referenceDelegate.Zr(),r(u).next(h=>this.referenceDelegate.Xr(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}ei(e,i){return K.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,i)))}}class GS extends _A{constructor(e){super(),this.currentSequenceNumber=e}}class dd{constructor(e){this.persistence=e,this.ti=new fd,this.ni=null}static ri(e){return new dd(e)}get ii(){if(this.ni)return this.ni;throw mt()}addReference(e,i,r){return this.ti.addReference(r,i),this.ii.delete(r.toString()),K.resolve()}removeReference(e,i,r){return this.ti.removeReference(r,i),this.ii.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),K.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(u=>this.ii.add(u.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.ii.add(h.toString()))}).next(()=>r.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ii,r=>{const u=ct.fromPath(r);return this.si(e,u).next(h=>{h||i.removeEntry(u,yt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(r=>{r?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return K.or([()=>K.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Ko{constructor(e,i){this.persistence=e,this.oi=new or(r=>TA(r.path),(r,u)=>r.isEqual(u)),this.garbageCollector=MS(this,i)}static ri(e,i){return new Ko(e,i)}Zr(){}Xr(e){return K.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>i.next(u=>r+u))}sr(e){let i=0;return this.rr(e,r=>{i++}).next(()=>i)}rr(e,i){return K.forEach(this.oi,(r,u)=>this.ar(e,r,u).next(h=>h?K.resolve():i(u)))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.qr(e,d=>this.ar(e,d,i).next(g=>{g||(r++,h.removeEntry(d,yt.min()))})).next(()=>h.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),K.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.oi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,i,r){return this.oi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),K.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=No(e.data.value)),i}ar(e,i,r){return K.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.oi.get(i);return K.resolve(u!==void 0&&u>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,i,r,u){this.targetId=e,this.fromCache=i,this.Hi=r,this.Ji=u}static Yi(e,i){let r=Vt(),u=Vt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new md(e,i.fromCache,r,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return PE()?8:vA(LE())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,r,u){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,u,r).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new QS;return this._s(e,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>h.result)}us(e,i,r,u){return r.documentReadCount<this.es?(is()<=xt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",as(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),K.resolve()):(is()<=xt.DEBUG&&it("QueryEngine","Query:",as(i),"scans",r.documentReadCount,"local documents and returns",u,"documents as results."),r.documentReadCount>this.ts*u?(is()<=xt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",as(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(i))):K.resolve())}rs(e,i){if(Dy(i))return K.resolve(null);let r=Jn(i);return this.indexManager.getIndexType(e,r).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=qf(i,null,"F"),r=Jn(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next(h=>{const d=Vt(...h);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,r).next(_=>{const v=this.cs(i,g);return this.ls(i,v,d,_.readTime)?this.rs(e,qf(i,null,"F")):this.hs(e,v,i,_)}))})))}ss(e,i,r,u){return Dy(i)||u.isEqual(yt.min())?K.resolve(null):this.ns.getDocuments(e,r).next(h=>{const d=this.cs(i,h);return this.ls(i,d,r,u)?K.resolve(null):(is()<=xt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),as(i)),this.hs(e,d,i,mA(u,ql)).next(g=>g))})}cs(e,i){let r=new be(H_(e));return i.forEach((u,h)=>{nc(e,h)&&(r=r.add(h))}),r}ls(e,i,r,u){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}_s(e,i,r){return is()<=xt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",as(i)),this.ns.getDocumentsMatchingQuery(e,i,da.min(),r)}hs(e,i,r,u){return this.ns.getDocumentsMatchingQuery(e,r,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd="LocalStore",KS=3e8;class FS{constructor(e,i,r,u){this.persistence=e,this.Ps=i,this.serializer=u,this.Ts=new ie(St),this.Is=new or(h=>rd(h),sd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function XS(s,e,i,r){return new FS(s,e,i,r)}async function fv(s,e){const i=vt(s);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let u;return i.mutationQueue.getAllMutationBatches(r).next(h=>(u=h,i.As(e),i.mutationQueue.getAllMutationBatches(r))).next(h=>{const d=[],g=[];let _=Vt();for(const v of u){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(r,_).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:g}))})})}function ZS(s,e){const i=vt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const u=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,_,v,A){const M=v.batch,B=M.keys();let Q=K.resolve();return B.forEach(Z=>{Q=Q.next(()=>A.getEntry(_,Z)).next(nt=>{const J=v.docVersions.get(Z);jt(J!==null),nt.version.compareTo(J)<0&&(M.applyToRemoteDocument(nt,v),nt.isValidDocument()&&(nt.setReadTime(v.commitVersion),A.addEntry(nt)))})}),Q.next(()=>g.mutationQueue.removeMutationBatch(_,M))}(i,r,e,h).next(()=>h.apply(r)).next(()=>i.mutationQueue.performConsistencyCheck(r)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(r,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(g){let _=Vt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(r,u))})}function dv(s){const e=vt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function $S(s,e){const i=vt(s),r=e.snapshotVersion;let u=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});u=i.Ts;const g=[];e.targetChanges.forEach((A,M)=>{const B=u.get(M);if(!B)return;g.push(i.Hr.removeMatchingKeys(h,A.removedDocuments,M).next(()=>i.Hr.addMatchingKeys(h,A.addedDocuments,M)));let Q=B.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(M)!==null?Q=Q.withResumeToken(Pe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,r)),u=u.insert(M,Q),function(nt,J,bt){return nt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=KS?!0:bt.addedDocuments.size+bt.modifiedDocuments.size+bt.removedDocuments.size>0}(B,Q,A)&&g.push(i.Hr.updateTargetData(h,Q))});let _=Ni(),v=Vt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(JS(h,d,e.documentUpdates).next(A=>{_=A.Vs,v=A.fs})),!r.isEqual(yt.min())){const A=i.Hr.getLastRemoteSnapshotVersion(h).next(M=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,r));g.push(A)}return K.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ts=u,h))}function JS(s,e,i){let r=Vt(),u=Vt();return i.forEach(h=>r=r.add(h)),e.getEntries(s,r).next(h=>{let d=Ni();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(g)),_.isNoDocument()&&_.version.isEqual(yt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):it(gd,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{Vs:d,fs:u}})}function WS(s,e){const i=vt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=nd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function t1(s,e){const i=vt(s);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let u;return i.Hr.getTargetData(r,e).next(h=>h?(u=h,K.resolve(u)):i.Hr.allocateTargetId(r).next(d=>(u=new sa(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Hr.addTargetData(r,u).next(()=>u))))}).then(r=>{const u=i.Ts.get(r.targetId);return(u===null||r.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(r.targetId,r),i.Is.set(e,r.targetId)),r})}async function Qf(s,e,i){const r=vt(s),u=r.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,d=>r.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!vs(d))throw d;it(gd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ts=r.Ts.remove(e),r.Is.delete(u.target)}function qy(s,e,i){const r=vt(s);let u=yt.min(),h=Vt();return r.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const M=vt(_),B=M.Is.get(A);return B!==void 0?K.resolve(M.Ts.get(B)):M.Hr.getTargetData(v,A)}(r,d,Jn(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>r.Ps.getDocumentsMatchingQuery(d,e,i?u:yt.min(),i?h:Vt())).next(g=>(e1(r,jA(e),g),{documents:g,gs:h})))}function e1(s,e,i){let r=s.Es.get(e)||yt.min();i.forEach((u,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)}),s.Es.set(e,r)}class jy{constructor(){this.activeTargetIds=KA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class n1{constructor(){this.ho=new jy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,r){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new jy,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="ConnectivityMonitor";class Hy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){it(ky,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){it(ky,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo=null;function Yf(){return wo===null?wo=function(){return 268435456+Math.round(2147483648*Math.random())}():wo++,"0x"+wo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="RestConnection",a1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class r1{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${r}/databases/${u}`,this.wo=this.databaseId.database===qo?`project_id=${r}`:`project_id=${r}&database_id=${u}`}So(e,i,r,u,h){const d=Yf(),g=this.bo(e,i.toUriEncodedString());it(wf,`Sending RPC '${e}' ${d}:`,g,r);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,u,h),this.vo(e,g,_,r).then(v=>(it(wf,`Received RPC '${e}' ${d}: `,v),v),v=>{throw os(wf,`RPC '${e}' ${d} failed with error: `,v,"url: ",g,"request:",r),v})}Co(e,i,r,u,h,d){return this.So(e,i,r,u,h)}Do(e,i,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ys}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),r&&r.headers.forEach((u,h)=>e[h]=u)}bo(e,i){const r=a1[e];return`${this.po}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class l1 extends r1{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,r,u){const h=Yf();return new Promise((d,g)=>{const _=new y_;_.setWithCredentials(!0),_.listenOnce(__.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Vo.NO_ERROR:const A=_.getResponseJson();it(He,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),d(A);break;case Vo.TIMEOUT:it(He,`RPC '${e}' ${h} timed out`),g(new ut(X.DEADLINE_EXCEEDED,"Request time out"));break;case Vo.HTTP_ERROR:const M=_.getStatus();if(it(He,`RPC '${e}' ${h} failed with status:`,M,"response text:",_.getResponseText()),M>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const Q=B==null?void 0:B.error;if(Q&&Q.status&&Q.message){const Z=function(J){const bt=J.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(bt)>=0?bt:X.UNKNOWN}(Q.status);g(new ut(Z,Q.message))}else g(new ut(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ut(X.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{it(He,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(u);it(He,`RPC '${e}' ${h} sending request:`,u),_.send(i,"POST",v,r,15)})}Wo(e,i,r){const u=Yf(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=T_(),g=E_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const A=h.join("");it(He,`Creating RPC '${e}' stream ${u}: ${A}`,_);const M=d.createWebChannel(A,_);let B=!1,Q=!1;const Z=new s1({Fo:J=>{Q?it(He,`Not sending because RPC '${e}' stream ${u} is closed:`,J):(B||(it(He,`Opening RPC '${e}' stream ${u} transport.`),M.open(),B=!0),it(He,`RPC '${e}' stream ${u} sending:`,J),M.send(J))},Mo:()=>M.close()}),nt=(J,bt,Et)=>{J.listen(bt,gt=>{try{Et(gt)}catch(zt){setTimeout(()=>{throw zt},0)}})};return nt(M,Il.EventType.OPEN,()=>{Q||(it(He,`RPC '${e}' stream ${u} transport opened.`),Z.Qo())}),nt(M,Il.EventType.CLOSE,()=>{Q||(Q=!0,it(He,`RPC '${e}' stream ${u} transport closed`),Z.Uo())}),nt(M,Il.EventType.ERROR,J=>{Q||(Q=!0,os(He,`RPC '${e}' stream ${u} transport errored:`,J),Z.Uo(new ut(X.UNAVAILABLE,"The operation could not be completed")))}),nt(M,Il.EventType.MESSAGE,J=>{var bt;if(!Q){const Et=J.data[0];jt(!!Et);const gt=Et,zt=(gt==null?void 0:gt.error)||((bt=gt[0])===null||bt===void 0?void 0:bt.error);if(zt){it(He,`RPC '${e}' stream ${u} received error:`,zt);const _t=zt.status;let Ut=function(D){const S=ge[D];if(S!==void 0)return tv(S)}(_t),O=zt.message;Ut===void 0&&(Ut=X.INTERNAL,O="Unknown error status: "+_t+" with message "+zt.message),Q=!0,Z.Uo(new ut(Ut,O)),M.close()}else it(He,`RPC '${e}' stream ${u} received:`,Et),Z.Ko(Et)}}),nt(g,v_.STAT_EVENT,J=>{J.stat===xf.PROXY?it(He,`RPC '${e}' stream ${u} detected buffering proxy`):J.stat===xf.NOPROXY&&it(He,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Z.$o()},0),Z}}function Df(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(s){return new hS(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,i,r=1e3,u=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=r,this.zo=u,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),u=Math.max(0,i-r);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,u,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="PersistentStream";class gv{constructor(e,i,r,u,h,d,g,_){this.Ti=e,this.n_=r,this.r_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new mv(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Vi(i.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,u])=>{this.i_===i&&this.V_(r,u)},r=>{e(()=>{const u=new ut(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(u)})})}V_(e,i){const r=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(u=>{r(()=>this.m_(u))}),this.stream.onMessage(u=>{r(()=>++this.__==1?this.g_(u):this.onNext(u))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return it(Gy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(it(Gy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class u1 extends gv{constructor(e,i,r,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,u,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=mS(this.serializer,e),r=function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?Wn(d.readTime):yt.min()}(e);return this.listener.p_(i,r)}y_(e){const i={};i.database=Gf(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=Pf(_)?{documents:yS(h,_)}:{query:_S(h,_).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=iv(h,d.resumeToken);const v=jf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(yt.min())>0){g.readTime=Yo(h,d.snapshotVersion.toTimestamp());const v=jf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const r=ES(this.serializer,e);r&&(i.labels=r),this.I_(i)}w_(e){const i={};i.database=Gf(this.serializer),i.removeTarget=e,this.I_(i)}}class o1 extends gv{constructor(e,i,r,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,u,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return jt(!!e.streamToken),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){jt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=pS(e.writeResults,e.commitTime),r=Wn(e.commitTime);return this.listener.v_(r,i)}C_(){const e={};e.database=Gf(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(r=>gS(this.serializer,r))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{}class h1 extends c1{constructor(e,i,r,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=u,this.F_=!1}M_(){if(this.F_)throw new ut(X.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,r,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,kf(i,r),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(X.UNKNOWN,h.toString())})}Co(e,i,r,u,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,kf(i,r),u,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(X.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class f1{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Vi(i),this.N_=!1):it("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr="RemoteStore";class d1{constructor(e,i,r,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{r.enqueueAndForget(async()=>{cr(this)&&(it(lr,"Restarting streams for network reachability change."),await async function(_){const v=vt(_);v.W_.add(4),await Fl(v),v.j_.set("Unknown"),v.W_.delete(4),await lc(v)}(this))})}),this.j_=new f1(r,u)}}async function lc(s){if(cr(s))for(const e of s.G_)await e(!0)}async function Fl(s){for(const e of s.G_)await e(!1)}function pv(s,e){const i=vt(s);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),vd(i)?_d(i):Es(i).c_()&&yd(i,e))}function pd(s,e){const i=vt(s),r=Es(i);i.K_.delete(e),r.c_()&&yv(i,e),i.K_.size===0&&(r.c_()?r.P_():cr(i)&&i.j_.set("Unknown"))}function yd(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Es(s).y_(e)}function yv(s,e){s.H_.Ne(e),Es(s).w_(e)}function _d(s){s.H_=new lS({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.K_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Es(s).start(),s.j_.B_()}function vd(s){return cr(s)&&!Es(s).u_()&&s.K_.size>0}function cr(s){return vt(s).W_.size===0}function _v(s){s.H_=void 0}async function m1(s){s.j_.set("Online")}async function g1(s){s.K_.forEach((e,i)=>{yd(s,e)})}async function p1(s,e){_v(s),vd(s)?(s.j_.q_(e),_d(s)):s.j_.set("Unknown")}async function y1(s,e,i){if(s.j_.set("Online"),e instanceof nv&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const g of h.targetIds)u.K_.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.K_.delete(g),u.H_.removeTarget(g))}(s,e)}catch(r){it(lr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fo(s,r)}else if(e instanceof Mo?s.H_.We(e):e instanceof ev?s.H_.Ze(e):s.H_.je(e),!i.isEqual(yt.min()))try{const r=await dv(s.localStore);i.compareTo(r)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.K_.get(v);A&&h.K_.set(v,A.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const A=h.K_.get(_);if(!A)return;h.K_.set(_,A.withResumeToken(Pe.EMPTY_BYTE_STRING,A.snapshotVersion)),yv(h,_);const M=new sa(A.target,_,v,A.sequenceNumber);yd(h,M)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(r){it(lr,"Failed to raise snapshot:",r),await Fo(s,r)}}async function Fo(s,e,i){if(!vs(e))throw e;s.W_.add(1),await Fl(s),s.j_.set("Offline"),i||(i=()=>dv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{it(lr,"Retrying IndexedDB access"),await i(),s.W_.delete(1),await lc(s)})}function vv(s,e){return e().catch(i=>Fo(s,i,e))}async function uc(s){const e=vt(s),i=ya(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:nd;for(;_1(e);)try{const u=await WS(e.localStore,r);if(u===null){e.U_.length===0&&i.P_();break}r=u.batchId,v1(e,u)}catch(u){await Fo(e,u)}Ev(e)&&Tv(e)}function _1(s){return cr(s)&&s.U_.length<10}function v1(s,e){s.U_.push(e);const i=ya(s);i.c_()&&i.S_&&i.b_(e.mutations)}function Ev(s){return cr(s)&&!ya(s).u_()&&s.U_.length>0}function Tv(s){ya(s).start()}async function E1(s){ya(s).C_()}async function T1(s){const e=ya(s);for(const i of s.U_)e.b_(i.mutations)}async function A1(s,e,i){const r=s.U_.shift(),u=od.from(r,e,i);await vv(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await uc(s)}async function S1(s,e){e&&ya(s).S_&&await async function(r,u){if(function(d){return rS(d)&&d!==X.ABORTED}(u.code)){const h=r.U_.shift();ya(r).h_(),await vv(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,u)),await uc(r)}}(s,e),Ev(s)&&Tv(s)}async function Qy(s,e){const i=vt(s);i.asyncQueue.verifyOperationInProgress(),it(lr,"RemoteStore received new credentials");const r=cr(i);i.W_.add(3),await Fl(i),r&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await lc(i)}async function b1(s,e){const i=vt(s);e?(i.W_.delete(2),await lc(i)):e||(i.W_.add(2),await Fl(i),i.j_.set("Unknown"))}function Es(s){return s.J_||(s.J_=function(i,r,u){const h=vt(i);return h.M_(),new u1(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:m1.bind(null,s),No:g1.bind(null,s),Lo:p1.bind(null,s),p_:y1.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),vd(s)?_d(s):s.j_.set("Unknown")):(await s.J_.stop(),_v(s))})),s.J_}function ya(s){return s.Y_||(s.Y_=function(i,r,u){const h=vt(i);return h.M_(),new o1(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:E1.bind(null,s),Lo:S1.bind(null,s),D_:T1.bind(null,s),v_:A1.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await uc(s)):(await s.Y_.stop(),s.U_.length>0&&(it(lr,`Stopping write stream with ${s.U_.length} pending writes`),s.U_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,i,r,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=u,this.removalCallback=h,this.deferred=new ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,u,h){const d=Date.now()+r,g=new Ed(e,i,d,u,h);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Td(s,e){if(Vi("AsyncQueue",`${e}: ${s}`),vs(s))return new ut(X.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{static emptySet(e){return new us(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ct.comparator(i.key,r.key):(i,r)=>ct.comparator(i.key,r.key),this.keyedMap=Ol(),this.sortedSet=new ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,r)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof us)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=r.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new us;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(){this.Z_=new ie(ct.comparator)}track(e){const i=e.doc.key,r=this.Z_.get(i);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(i):e.type===1&&r.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):mt():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,r)=>{e.push(r)}),e}}class ms{constructor(e,i,r,u,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,r,u,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new ms(e,i,us.emptySet(i),d,r,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ec(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==r[u].type||!i[u].doc.isEqual(r[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class w1{constructor(){this.queries=Ky(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,r){const u=vt(i),h=u.queries;u.queries=Ky(),h.forEach((d,g)=>{for(const _ of g.ta)_.onError(r)})})(this,new ut(X.ABORTED,"Firestore shutting down"))}}function Ky(){return new or(s=>k_(s),ec)}async function D1(s,e){const i=vt(s);let r=3;const u=e.query;let h=i.queries.get(u);h?!h.na()&&e.ra()&&(r=2):(h=new R1,r=e.ra()?0:1);try{switch(r){case 0:h.ea=await i.onListen(u,!0);break;case 1:h.ea=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=Td(d,`Initialization of query '${as(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&Ad(i)}async function C1(s,e){const i=vt(s),r=e.query;let u=3;const h=i.queries.get(r);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?u=e.ra()?0:1:!h.na()&&e.ra()&&(u=2))}switch(u){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function V1(s,e){const i=vt(s);let r=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(u)&&(r=!0);d.ea=u}}r&&Ad(i)}function N1(s,e,i){const r=vt(s),u=r.queries.get(e);if(u)for(const h of u.ta)h.onError(i);r.queries.delete(e)}function Ad(s){s.ia.forEach(e=>{e.next()})}var Kf,Fy;(Fy=Kf||(Kf={}))._a="default",Fy.Cache="cache";class I1{constructor(e,i,r){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const u of e.docChanges)u.type!==3&&r.push(u);e=new ms(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const r=i!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=ms.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Kf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e){this.key=e}}class Sv{constructor(e){this.key=e}}class O1{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Vt(),this.mutatedKeys=Vt(),this.ya=H_(e),this.wa=new us(this.ya)}get Sa(){return this.fa}ba(e,i){const r=i?i.Da:new Yy,u=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,M)=>{const B=u.get(A),Q=nc(this.query,M)?M:null,Z=!!B&&this.mutatedKeys.has(B.key),nt=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let J=!1;B&&Q?B.data.isEqual(Q.data)?Z!==nt&&(r.track({type:3,doc:Q}),J=!0):this.va(B,Q)||(r.track({type:2,doc:Q}),J=!0,(_&&this.ya(Q,_)>0||v&&this.ya(Q,v)<0)&&(g=!0)):!B&&Q?(r.track({type:0,doc:Q}),J=!0):B&&!Q&&(r.track({type:1,doc:B}),J=!0,(_||v)&&(g=!0)),J&&(Q?(d=d.add(Q),h=nt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{wa:d,Da:r,ls:g,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,u){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((A,M)=>function(Q,Z){const nt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return nt(Q)-nt(Z)}(A.type,M.type)||this.ya(A.doc,M.doc)),this.Ca(r),u=u!=null&&u;const g=i&&!u?this.Fa():[],_=this.pa.size===0&&this.current&&!u?1:0,v=_!==this.ga;return this.ga=_,d.length!==0||v?{snapshot:new ms(this.query,e.wa,h,d,e.mutatedKeys,_===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Yy,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Vt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const i=[];return e.forEach(r=>{this.pa.has(r)||i.push(new Sv(r))}),this.pa.forEach(r=>{e.has(r)||i.push(new Av(r))}),i}Oa(e){this.fa=e.gs,this.pa=Vt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return ms.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Sd="SyncEngine";class M1{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class x1{constructor(e){this.key=e,this.Ba=!1}}class U1{constructor(e,i,r,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new or(g=>k_(g),ec),this.qa=new Map,this.Qa=new Set,this.$a=new ie(ct.comparator),this.Ua=new Map,this.Ka=new fd,this.Wa={},this.Ga=new Map,this.za=ds.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function z1(s,e,i=!0){const r=Vv(s);let u;const h=r.ka.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.Na()):u=await bv(r,e,i,!0),u}async function L1(s,e){const i=Vv(s);await bv(i,e,!0,!1)}async function bv(s,e,i,r){const u=await t1(s.localStore,Jn(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return r&&(g=await B1(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&pv(s.remoteStore,u),g}async function B1(s,e,i,r,u){s.Ha=(M,B,Q)=>async function(nt,J,bt,Et){let gt=J.view.ba(bt);gt.ls&&(gt=await qy(nt.localStore,J.query,!1).then(({documents:O})=>J.view.ba(O,gt)));const zt=Et&&Et.targetChanges.get(J.targetId),_t=Et&&Et.targetMismatches.get(J.targetId)!=null,Ut=J.view.applyChanges(gt,nt.isPrimaryClient,zt,_t);return Zy(nt,J.targetId,Ut.Ma),Ut.snapshot}(s,M,B,Q);const h=await qy(s.localStore,e,!0),d=new O1(e,h.gs),g=d.ba(h.documents),_=Kl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",u),v=d.applyChanges(g,s.isPrimaryClient,_);Zy(s,i,v.Ma);const A=new M1(e,i,d);return s.ka.set(e,A),s.qa.has(i)?s.qa.get(i).push(e):s.qa.set(i,[e]),v.snapshot}async function P1(s,e,i){const r=vt(s),u=r.ka.get(e),h=r.qa.get(u.targetId);if(h.length>1)return r.qa.set(u.targetId,h.filter(d=>!ec(d,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(u.targetId),r.sharedClientState.isActiveQueryTarget(u.targetId)||await Qf(r.localStore,u.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(u.targetId),i&&pd(r.remoteStore,u.targetId),Ff(r,u.targetId)}).catch(_s)):(Ff(r,u.targetId),await Qf(r.localStore,u.targetId,!0))}async function q1(s,e){const i=vt(s),r=i.ka.get(e),u=i.qa.get(r.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),pd(i.remoteStore,r.targetId))}async function j1(s,e,i){const r=F1(s);try{const u=await function(d,g){const _=vt(d),v=Se.now(),A=g.reduce((Q,Z)=>Q.add(Z.key),Vt());let M,B;return _.persistence.runTransaction("Locally write mutations","readwrite",Q=>{let Z=Ni(),nt=Vt();return _.ds.getEntries(Q,A).next(J=>{Z=J,Z.forEach((bt,Et)=>{Et.isValidDocument()||(nt=nt.add(bt))})}).next(()=>_.localDocuments.getOverlayedDocuments(Q,Z)).next(J=>{M=J;const bt=[];for(const Et of g){const gt=tS(Et,M.get(Et.key).overlayedDocument);gt!=null&&bt.push(new Ea(Et.key,gt,x_(gt.value.mapValue),Mn.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,v,bt,g)}).next(J=>{B=J;const bt=J.applyToLocalDocumentSet(M,nt);return _.documentOverlayCache.saveOverlays(Q,J.batchId,bt)})}).then(()=>({batchId:B.batchId,changes:Q_(M)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(u.batchId),function(d,g,_){let v=d.Wa[d.currentUser.toKey()];v||(v=new ie(St)),v=v.insert(g,_),d.Wa[d.currentUser.toKey()]=v}(r,u.batchId,i),await Xl(r,u.changes),await uc(r.remoteStore)}catch(u){const h=Td(u,"Failed to persist write");i.reject(h)}}async function Rv(s,e){const i=vt(s);try{const r=await $S(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Ua.get(h);d&&(jt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?d.Ba=!0:u.modifiedDocuments.size>0?jt(d.Ba):u.removedDocuments.size>0&&(jt(d.Ba),d.Ba=!1))}),await Xl(i,r,e)}catch(r){await _s(r)}}function Xy(s,e,i){const r=vt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const u=[];r.ka.forEach((h,d)=>{const g=d.view.sa(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const _=vt(d);_.onlineState=g;let v=!1;_.queries.forEach((A,M)=>{for(const B of M.ta)B.sa(g)&&(v=!0)}),v&&Ad(_)}(r.eventManager,e),u.length&&r.La.p_(u),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function k1(s,e,i){const r=vt(s);r.sharedClientState.updateQueryState(e,"rejected",i);const u=r.Ua.get(e),h=u&&u.key;if(h){let d=new ie(ct.comparator);d=d.insert(h,Qe.newNoDocument(h,yt.min()));const g=Vt().add(h),_=new rc(yt.min(),new Map,new ie(St),d,g);await Rv(r,_),r.$a=r.$a.remove(h),r.Ua.delete(e),bd(r)}else await Qf(r.localStore,e,!1).then(()=>Ff(r,e,i)).catch(_s)}async function H1(s,e){const i=vt(s),r=e.batch.batchId;try{const u=await ZS(i.localStore,e);Dv(i,r,null),wv(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Xl(i,u)}catch(u){await _s(u)}}async function G1(s,e,i){const r=vt(s);try{const u=await function(d,g){const _=vt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next(M=>(jt(M!==null),A=M.keys(),_.mutationQueue.removeMutationBatch(v,M))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(r.localStore,e);Dv(r,e,i),wv(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Xl(r,u)}catch(u){await _s(u)}}function wv(s,e){(s.Ga.get(e)||[]).forEach(i=>{i.resolve()}),s.Ga.delete(e)}function Dv(s,e,i){const r=vt(s);let u=r.Wa[r.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),r.Wa[r.currentUser.toKey()]=u}}function Ff(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.qa.get(e))s.ka.delete(r),i&&s.La.Ja(r,i);s.qa.delete(e),s.isPrimaryClient&&s.Ka.br(e).forEach(r=>{s.Ka.containsKey(r)||Cv(s,r)})}function Cv(s,e){s.Qa.delete(e.path.canonicalString());const i=s.$a.get(e);i!==null&&(pd(s.remoteStore,i),s.$a=s.$a.remove(e),s.Ua.delete(i),bd(s))}function Zy(s,e,i){for(const r of i)r instanceof Av?(s.Ka.addReference(r.key,e),Q1(s,r)):r instanceof Sv?(it(Sd,"Document no longer in limbo: "+r.key),s.Ka.removeReference(r.key,e),s.Ka.containsKey(r.key)||Cv(s,r.key)):mt()}function Q1(s,e){const i=e.key,r=i.path.canonicalString();s.$a.get(i)||s.Qa.has(r)||(it(Sd,"New document in limbo: "+i),s.Qa.add(r),bd(s))}function bd(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const i=new ct(ee.fromString(e)),r=s.za.next();s.Ua.set(r,new x1(i)),s.$a=s.$a.insert(i,r),pv(s.remoteStore,new sa(Jn(j_(i.path)),r,"TargetPurposeLimboResolution",$o.ae))}}async function Xl(s,e,i){const r=vt(s),u=[],h=[],d=[];r.ka.isEmpty()||(r.ka.forEach((g,_)=>{d.push(r.Ha(_,e,i).then(v=>{var A;if((v||i)&&r.isPrimaryClient){const M=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;r.sharedClientState.updateQueryState(_.targetId,M?"current":"not-current")}if(v){u.push(v);const M=md.Yi(_.targetId,v);h.push(M)}}))}),await Promise.all(d),r.La.p_(u),await async function(_,v){const A=vt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>K.forEach(v,B=>K.forEach(B.Hi,Q=>A.persistence.referenceDelegate.addReference(M,B.targetId,Q)).next(()=>K.forEach(B.Ji,Q=>A.persistence.referenceDelegate.removeReference(M,B.targetId,Q)))))}catch(M){if(!vs(M))throw M;it(gd,"Failed to update sequence numbers: "+M)}for(const M of v){const B=M.targetId;if(!M.fromCache){const Q=A.Ts.get(B),Z=Q.snapshotVersion,nt=Q.withLastLimboFreeSnapshotVersion(Z);A.Ts=A.Ts.insert(B,nt)}}}(r.localStore,h))}async function Y1(s,e){const i=vt(s);if(!i.currentUser.isEqual(e)){it(Sd,"User change. New user:",e.toKey());const r=await fv(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(g=>{g.forEach(_=>{_.reject(new ut(X.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xl(i,r.Rs)}}function K1(s,e){const i=vt(s),r=i.Ua.get(e);if(r&&r.Ba)return Vt().add(r.key);{let u=Vt();const h=i.qa.get(e);if(!h)return u;for(const d of h){const g=i.ka.get(d);u=u.unionWith(g.view.Sa)}return u}}function Vv(s){const e=vt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k1.bind(null,e),e.La.p_=V1.bind(null,e.eventManager),e.La.Ja=N1.bind(null,e.eventManager),e}function F1(s){const e=vt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=H1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G1.bind(null,e),e}class Xo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return XS(this.persistence,new YS,e.initialUser,this.serializer)}Xa(e){return new hv(dd.ri,this.serializer)}Za(e){return new n1}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xo.provider={build:()=>new Xo};class X1 extends Xo{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){jt(this.persistence.referenceDelegate instanceof Ko);const r=this.persistence.referenceDelegate.garbageCollector;return new IS(r,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?We.withCacheSize(this.cacheSizeBytes):We.DEFAULT;return new hv(r=>Ko.ri(r,i),this.serializer)}}class Xf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Xy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y1.bind(null,this.syncEngine),await b1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new w1}()}createDatastore(e){const i=sc(e.databaseInfo.databaseId),r=function(h){return new l1(h)}(e.databaseInfo);return function(h,d,g,_){return new h1(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return function(r,u,h,d,g){return new d1(r,u,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>Xy(this.syncEngine,i,0),function(){return Hy.D()?new Hy:new i1}())}createSyncEngine(e,i){return function(u,h,d,g,_,v,A){const M=new U1(u,h,d,g,_,v);return A&&(M.ja=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=vt(u);it(lr,"RemoteStore shutting down."),h.W_.add(5),await Fl(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Xf.provider={build:()=>new Xf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="FirestoreClient";class $1{constructor(e,i,r,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=u,this.user=Ge.UNAUTHENTICATED,this.clientId=b_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,async d=>{it(_a,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(it(_a,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Td(i,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cf(s,e){s.asyncQueue.verifyOperationInProgress(),it(_a,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener(async u=>{r.isEqual(u)||(await fv(e.localStore,u),r=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function $y(s,e){s.asyncQueue.verifyOperationInProgress();const i=await J1(s);it(_a,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(r=>Qy(e.remoteStore,r)),s.setAppCheckTokenChangeListener((r,u)=>Qy(e.remoteStore,u)),s._onlineComponents=e}async function J1(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(_a,"Using user provided OfflineComponentProvider");try{await Cf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===X.FAILED_PRECONDITION||u.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;os("Error using user provided cache. Falling back to memory cache: "+i),await Cf(s,new Xo)}}else it(_a,"Using default OfflineComponentProvider"),await Cf(s,new X1(void 0));return s._offlineComponents}async function Nv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(_a,"Using user provided OnlineComponentProvider"),await $y(s,s._uninitializedComponentsProvider._online)):(it(_a,"Using default OnlineComponentProvider"),await $y(s,new Xf))),s._onlineComponents}function W1(s){return Nv(s).then(e=>e.syncEngine)}async function tb(s){const e=await Nv(s),i=e.eventManager;return i.onListen=z1.bind(null,e.syncEngine),i.onUnlisten=P1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=L1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=q1.bind(null,e.syncEngine),i}function eb(s,e,i={}){const r=new ca;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const A=new Z1({next:B=>{A.su(),d.enqueueAndForget(()=>C1(h,M)),B.fromCache&&_.source==="server"?v.reject(new ut(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(B)},error:B=>v.reject(B)}),M=new I1(g,A,{includeMetadataChanges:!0,Ta:!0});return D1(h,M)}(await tb(s),s.asyncQueue,e,i,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(s,e,i){if(!i)throw new ut(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function nb(s,e,i,r){if(e===!0&&r===!0)throw new ut(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Wy(s){if(!ct.isDocumentKey(s))throw new ut(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function t_(s){if(ct.isDocumentKey(s))throw new ut(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Rd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":mt()}function ur(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ut(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Rd(s);throw new ut(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="firestore.googleapis.com",e_=!0;class n_{constructor(e){var i,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ut(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Mv,this.ssl=e_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:e_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VS)throw new ut(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Iv((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ut(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ut(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ut(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,u){return r.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oc{constructor(e,i,r,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new n_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new n_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rA;switch(r.type){case"firstParty":return new oA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ut(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=Jy.get(i);r&&(it("ComponentProvider","Removing Datastore"),Jy.delete(i),r.terminate())}(this),Promise.resolve()}}function ib(s,e,i,r={}){var u;const h=(s=ur(s,oc))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:s._getEmulatorOptions()}),g=`${e}:${i}`;h.host!==Mv&&h.host!==g&&os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},h),{host:g,ssl:!1,emulatorOptions:r});if(!zo(_,d)&&(s._setSettings(_),r.mockUserToken)){let v,A;if(typeof r.mockUserToken=="string")v=r.mockUserToken,A=Ge.MOCK_USER;else{v=zE(r.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const M=r.mockUserToken.sub||r.mockUserToken.user_id;if(!M)throw new ut(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ge(M)}s._authCredentials=new sA(new A_(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cc(this.firestore,e,this._query)}}class wn{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ha(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class ha extends cc{constructor(e,i,r){super(e,i,j_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new ct(e))}withConverter(e){return new ha(this.firestore,e,this._path)}}function i_(s,e,...i){if(s=fa(s),Ov("collection","path",e),s instanceof oc){const r=ee.fromString(e,...i);return t_(r),new ha(s,null,r)}{if(!(s instanceof wn||s instanceof ha))throw new ut(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(e,...i));return t_(r),new ha(s.firestore,null,r)}}function Zf(s,e,...i){if(s=fa(s),arguments.length===1&&(e=b_.newId()),Ov("doc","path",e),s instanceof oc){const r=ee.fromString(e,...i);return Wy(r),new wn(s,null,new ct(r))}{if(!(s instanceof wn||s instanceof ha))throw new ut(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(e,...i));return Wy(r),new wn(s.firestore,s instanceof ha?s.converter:null,new ct(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="AsyncQueue";class r_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new mv(this,"async_queue_retry"),this.Su=()=>{const r=Df();r&&it(a_,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const i=Df();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Df();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new ca;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!vs(e))throw e;it(a_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const u=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(r);throw Vi("INTERNAL UNHANDLED ERROR: ",u),r}).then(r=>(this.pu=!1,r))));return this.bu=i,i}enqueueAfterDelay(e,i,r){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const u=Ed.createAndSchedule(this,e,i,r,h=>this.Fu(h));return this.fu.push(u),u}Du(){this.gu&&mt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class Zl extends oc{constructor(e,i,r,u){super(e,i,r,u),this.type="firestore",this._queue=new r_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new r_(e),this._firestoreClient=void 0,await e}}}function ab(s,e){const i=typeof s=="object"?s:YT(),r=typeof s=="string"?s:qo,u=jT(i,"firestore").getImmediate({identifier:r});if(!u._initialized){const h=xE("firestore");h&&ib(u,...h)}return u}function xv(s){if(s._terminated)throw new ut(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||rb(s),s._firestoreClient}function rb(s){var e,i,r;const u=s._freezeSettings(),h=function(g,_,v,A){return new bA(g,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Iv(A.experimentalLongPollingOptions),A.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=u.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new $1(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gs(Pe.fromBase64String(e))}catch(i){throw new ut(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new gs(Pe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return St(this._lat,e._lat)||St(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,u){if(r.length!==u.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=/^__.*__$/;class lb{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Ea(e,this.data,this.fieldMask,i,this.fieldTransforms):new Yl(e,this.data,i,this.fieldTransforms)}}class Uv{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Ea(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function zv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class Vd{constructor(e,i,r,u,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=u,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Vd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:r,Qu:!1});return u.$u(e),u}Uu(e){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:r,Qu:!1});return u.Bu(),u}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Zo(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(zv(this.Lu)&&sb.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class ub{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||sc(e)}ju(e,i,r,u=!1){return new Vd({Lu:e,methodName:i,zu:r,path:Be.emptyPath(),Qu:!1,Gu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lv(s){const e=s._freezeSettings(),i=sc(s._databaseId);return new ub(s._databaseId,!!e.ignoreUndefinedProperties,i)}function ob(s,e,i,r,u,h={}){const d=s.ju(h.merge||h.mergeFields?2:0,e,i,u);Nd("Data must be an object, but it was:",d,r);const g=Bv(r,d);let _,v;if(h.merge)_=new fn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const M of h.mergeFields){const B=$f(e,M,i);if(!d.contains(B))throw new ut(X.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);qv(A,B)||A.push(B)}_=new fn(A),v=d.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,v=d.fieldTransforms;return new lb(new en(g),_,v)}class fc extends wd{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fc}}function cb(s,e,i,r){const u=s.ju(1,e,i);Nd("Data must be an object, but it was:",u,r);const h=[],d=en.empty();va(r,(_,v)=>{const A=Id(e,_,i);v=fa(v);const M=u.Uu(A);if(v instanceof fc)h.push(A);else{const B=dc(v,M);B!=null&&(h.push(A),d.set(A,B))}});const g=new fn(h);return new Uv(d,g,u.fieldTransforms)}function hb(s,e,i,r,u,h){const d=s.ju(1,e,i),g=[$f(e,r,i)],_=[u];if(h.length%2!=0)throw new ut(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<h.length;B+=2)g.push($f(e,h[B])),_.push(h[B+1]);const v=[],A=en.empty();for(let B=g.length-1;B>=0;--B)if(!qv(v,g[B])){const Q=g[B];let Z=_[B];Z=fa(Z);const nt=d.Uu(Q);if(Z instanceof fc)v.push(Q);else{const J=dc(Z,nt);J!=null&&(v.push(Q),A.set(Q,J))}}const M=new fn(v);return new Uv(A,M,d.fieldTransforms)}function dc(s,e){if(Pv(s=fa(s)))return Nd("Unsupported field value:",e,s),Bv(s,e);if(s instanceof wd)return function(r,u){if(!zv(u.Lu))throw u.Wu(`${r._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Wu(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,u){const h=[];let d=0;for(const g of r){let _=dc(g,u.Ku(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(r,u){if((r=fa(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FA(u.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=Se.fromDate(r);return{timestampValue:Yo(u.serializer,h)}}if(r instanceof Se){const h=new Se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yo(u.serializer,h)}}if(r instanceof Dd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gs)return{bytesValue:iv(u.serializer,r._byteString)};if(r instanceof wn){const h=u.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw u.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:hd(r.firestore._databaseId||u.databaseId,r._key.path)}}if(r instanceof Cd)return function(d,g){return{mapValue:{fields:{[O_]:{stringValue:M_},[jo]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Wu("VectorValues must only contain numeric values.");return ld(g.serializer,v)})}}}}}}(r,u);throw u.Wu(`Unsupported field value: ${Rd(r)}`)}(s,e)}function Bv(s,e){const i={};return w_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(s,(r,u)=>{const h=dc(u,e.qu(r));h!=null&&(i[r]=h)}),{mapValue:{fields:i}}}function Pv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Se||s instanceof Dd||s instanceof gs||s instanceof wn||s instanceof wd||s instanceof Cd)}function Nd(s,e,i){if(!Pv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const r=Rd(i);throw r==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+r)}}function $f(s,e,i){if((e=fa(e))instanceof hc)return e._internalPath;if(typeof e=="string")return Id(s,e);throw Zo("Field path arguments must be of type string or ",s,!1,void 0,i)}const fb=new RegExp("[~\\*/\\[\\]]");function Id(s,e,i){if(e.search(fb)>=0)throw Zo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new hc(...e.split("."))._internalPath}catch{throw Zo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Zo(s,e,i,r,u){const h=r&&!r.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${r}`),d&&(_+=` in document ${u}`),_+=")"),new ut(X.INVALID_ARGUMENT,g+s+_)}function qv(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,i,r,u,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new db(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(kv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class db extends jv{data(){return super.data()}}function kv(s,e){return typeof e=="string"?Id(s,e):e instanceof hc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ut(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gb{convertValue(e,i="none"){switch(pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw mt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return va(e,(u,h)=>{r[u]=this.convertValue(h,i)}),r}convertVectorValue(e){var i,r,u;const h=(u=(r=(i=e.fields)===null||i===void 0?void 0:i[jo].arrayValue)===null||r===void 0?void 0:r.values)===null||u===void 0?void 0:u.map(d=>ce(d.doubleValue));return new Cd(h)}convertGeoPoint(e){return new Dd(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Wo(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(jl(e));default:return null}}convertTimestamp(e){const i=ma(e);return new Se(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ee.fromString(e);jt(ov(r));const u=new kl(r.get(1),r.get(3)),h=new ct(r.popFirst(5));return u.isEqual(i)||Vi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(s,e,i){let r;return r=s?s.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yb extends jv{constructor(e,i,r,u,h,d){super(e,i,r,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new xo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(kv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}}class xo extends yb{data(e={}){return super.data(e)}}class _b{constructor(e,i,r,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Do(u.hasPendingWrites,u.fromCache),this.query=r}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(r=>{e.call(i,new xo(this._firestore,this._userDataWriter,r.key,r,new Do(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const _=new xo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Do(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new xo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Do(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:vb(g.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function vb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}class Eb extends gb{constructor(e){super(),this.firestore=e}convertBytes(e){return new gs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,i)}}function Tb(s){s=ur(s,cc);const e=ur(s.firestore,Zl),i=xv(e),r=new Eb(e);return mb(s._query),eb(i,s._query).then(u=>new _b(e,r,s,u))}function Ab(s,e,i,...r){s=ur(s,wn);const u=ur(s.firestore,Zl),h=Lv(u);let d;return d=typeof(e=fa(e))=="string"||e instanceof hc?hb(h,"updateDoc",s._key,e,i,r):cb(h,"updateDoc",s._key,e),Od(u,[d.toMutation(s._key,Mn.exists(!0))])}function Sb(s){return Od(ur(s.firestore,Zl),[new ud(s._key,Mn.none())])}function bb(s,e){const i=ur(s.firestore,Zl),r=Zf(s),u=pb(s.converter,e);return Od(i,[ob(Lv(s.firestore),"addDoc",r._key,u,s.converter!==null,{}).toMutation(r._key,Mn.exists(!1))]).then(()=>r)}function Od(s,e){return function(r,u){const h=new ca;return r.asyncQueue.enqueueAndForget(async()=>j1(await W1(r),u,h)),h.promise}(xv(s),e)}(function(e,i=!0){(function(u){ys=u})(QT),Bo(new Bl("firestore",(r,{instanceIdentifier:u,options:h})=>{const d=r.getProvider("app").getImmediate(),g=new Zl(new lA(r.getProvider("auth-internal")),new cA(d,r.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ut(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(v.options.projectId,A)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),ls(cy,hy,e),ls(cy,hy,"esm2017")})();const Rb={apiKey:"AIzaSyBdYBe6SBVJbjqjJNAN3JLh9-3P-I11FbY",authDomain:"databasesfirebase-804f6.firebaseapp.com",projectId:"databasesfirebase-804f6",storageBucket:"databasesfirebase-804f6.appspot.com",messagingSenderId:"533378479127",appId:"1:533378479127:web:e75cfe61ba3e58676c5852"},wb=d_(Rb),Co=ab(wb),Db=s=>{const{dataUser:e}=s,[i,r]=tn.useState([]),[u,h]=tn.useState(""),[d,g]=tn.useState(null),[_,v]=tn.useState(e),[A,M]=tn.useState(0),[B,Q]=tn.useState(!1),Z=async(S,C)=>{try{const N=Zf(Co,"Tareas",S);await Ab(N,C),console.log("Document updated successfully!"),nt()}catch(N){console.error("Error updating document: ",N)}},nt=async()=>{let C=(await Tb(i_(Co,"Tareas"))).docs.map(N=>({idRegister:N.id,...N.data()}));e!=="ADMINISTRADOR"&&(C=C.filter(N=>!N.assignee&&N.valorAssignee>0||N.assignee===e)),r(C),v(e)};tn.useEffect(()=>{nt(),Q(e!=null&&e.length>0&&e=="ADMINISTRADOR"),console.log("UsuarioRegister",e)},[e]);const J=()=>{localStorage.removeItem("userName"),window.location.reload()},bt=async S=>{if(S.preventDefault(),u.trim()==="")return;const C=["yellow","green","blue","pink"],N=C[Math.floor(Math.random()*C.length)],w=Math.random()*6-3,pe={id:Date.now(),Descripcion:u,color:N,rotation:w,assignee:"",valorAssignee:0,Completado:!1};try{await bb(i_(Co,"Tareas"),pe),console.error("Tarea agregado con xito")}catch(Jt){console.error("Error al agregar documento: ",Jt)}nt(),h("")},Et=async S=>{r(i.filter(C=>C.idRegister!==S));try{await Sb(Zf(Co,"Tareas",S)),console.error("Tarea eliminada con xito")}catch(C){console.error("Error al eliminar la tarea:",C)}},gt=(S,C)=>{C?(r(i.map(N=>N.idRegister===S?Z(N.idRegister,{...N,assignee:""}):N)),g(null)):(g(S),v(C))},zt=(S,C)=>{r(i.map(N=>N.idRegister===S?Z(N.idRegister,{...N,Completado:C}):N)),g(null)},_t=(S,C)=>{C?(r(i.map(N=>N.idRegister===S?Z(N.idRegister,{...N,assignee:"",valorAssignee:0}):N)),g(null),M(0)):(g(S),M(C||0))},Ut=()=>{d&&(r(i.map(S=>S.idRegister===d?(Z(d,{...S,assignee:_.trim()}),{...S,assignee:_.trim()}):S)),g(null))},O=()=>{d&&(r(i.map(S=>S.idRegister===d?(Z(d,{...S,valorAssignee:A}),{...S,valorAssignee:A}):S)),g(null),M(0))},b=()=>{g(null)},D=()=>{g(null),M(0)};return rt.jsxs("div",{className:"post-it-container",children:[rt.jsx("h1",{className:"post-it-title",children:"Mis Tareas"}),B?rt.jsxs("form",{className:"post-it-form",onSubmit:bt,children:[rt.jsx("input",{type:"text",value:u,onChange:S=>h(S.target.value),placeholder:"Escribe una nueva tarea...",className:"post-it-input"}),rt.jsx("button",{type:"submit",className:"post-it-button",children:"Agregar"})]}):"",rt.jsx("div",{className:"post-it-board",children:i.length===0?rt.jsx("p",{className:"no-tasks",children:"No hay tareas."}):i.map(S=>S.id>0&&!S.Completado?rt.jsxs("div",{className:`post-it ${S.color}`,style:{transform:`rotate(${S.rotation}deg)`},children:[B&&!S.assignee?rt.jsx("button",{className:"delete-button",onClick:()=>Et(S.idRegister),children:""}):"",rt.jsx("p",{className:"post-it-text",children:S.Descripcion}),S.valorAssignee>0&&rt.jsxs("p",{className:"post-it-text",children:["Valor $",S.valorAssignee]}),S.assignee&&rt.jsxs("div",{className:"assignee-badge",children:["Asignado a: ",S.assignee]}),rt.jsx("div",{className:"assign-button-container",children:B?S.assignee?S.Completado&&rt.jsx(rt.Fragment,{children:rt.jsx("label",{children:"Completado"})}):rt.jsx("button",{className:"assign-button",onClick:()=>_t(S.idRegister,S.valorAssignee),children:S.valorAssignee?"Quitar Valor":"Asignar Valor"}):d!==S.idRegister&&S.valorAssignee>0&&!S.Completado&&rt.jsxs(rt.Fragment,{children:[rt.jsx("button",{className:"assign-button",onClick:()=>gt(S.idRegister,S.assignee),children:S.assignee?"Rechazar":"Aceptar tarea"}),rt.jsx("button",{className:"assign-button colorGreen",onClick:()=>zt(S.idRegister,!S.Completado),children:S.assignee?"Completado":""})]})}),B?d===S.idRegister&&rt.jsxs("div",{className:"assignee-form",children:[rt.jsx("input",{type:"number",value:A,onChange:C=>M(C.target.value),placeholder:"Valor $",className:"assignee-input",autoFocus:!0}),rt.jsxs("div",{className:"assignee-buttons",children:[rt.jsx("button",{className:"save-button",onClick:O,children:"Guardar"}),rt.jsx("button",{className:"cancel-button",onClick:D,children:"Cancelar"})]})]}):d===S.idRegister&&rt.jsxs("div",{className:"assignee-form",children:[rt.jsx("input",{type:"text",value:_,onChange:C=>v(C.target.value),placeholder:"Nombre del asignado",className:"assignee-input",autoFocus:!0}),rt.jsxs("div",{className:"assignee-buttons",children:[rt.jsx("button",{className:"save-button",onClick:Ut,children:"Guardar"}),rt.jsx("button",{className:"cancel-button",onClick:b,children:"Cancelar"})]})]})]},S.idRegister):rt.jsx("p",{className:"no-tasks",children:"No hay tareas."},"0"))}),rt.jsxs("div",{className:"footer",children:[rt.jsxs("div",{className:"footer-data",children:[rt.jsx("p",{className:"post-it-text",children:"Desarrollado por: Guillermo Maza"}),rt.jsx("p",{className:"post-it-text",children:"Versin 1.0"})]}),rt.jsx("div",{children:rt.jsx("button",{className:"cancel-button",onClick:J,children:"Salir"})})]})]})};function Cb(){const[s,e]=tn.useState(0),[i,r]=tn.useState(!1),[u,h]=tn.useState(""),d=g=>{const{isRegistered:_,userName:v}=g;r(_),h(v)};return rt.jsx(rt.Fragment,{children:rt.jsx("div",{className:"container",children:i?rt.jsx(Db,{dataUser:u}):rt.jsx(SE,{eventHandlerUsuarioRegister:d})})})}AE.createRoot(document.getElementById("root")).render(rt.jsx(tn.StrictMode,{children:rt.jsx(Cb,{})}));
